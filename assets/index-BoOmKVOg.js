(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nw={exports:{}},Lg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function ID(){if(gS)return Lg;gS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,n,r){var c=null;if(r!==void 0&&(c=""+r),n.key!==void 0&&(c=""+n.key),"key"in n){r={};for(var h in n)h!=="key"&&(r[h]=n[h])}else r=n;return n=r.ref,{$$typeof:e,type:s,key:c,ref:n!==void 0?n:null,props:r}}return Lg.Fragment=t,Lg.jsx=i,Lg.jsxs=i,Lg}var pS;function HD(){return pS||(pS=1,nw.exports=ID()),nw.exports}var Se=HD(),ow={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function ND(){if(fS)return dt;fS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.iterator;function k(J){return J===null||typeof J!="object"?null:(J=F&&J[F]||J["@@iterator"],typeof J=="function"?J:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,_={};function W(J,le,xe){this.props=J,this.context=le,this.refs=_,this.updater=xe||O}W.prototype.isReactComponent={},W.prototype.setState=function(J,le){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,le,"setState")},W.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function U(){}U.prototype=W.prototype;function K(J,le,xe){this.props=J,this.context=le,this.refs=_,this.updater=xe||O}var X=K.prototype=new U;X.constructor=K,V(X,W.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function de(){}var re={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Fe(J,le,xe){var Oe=xe.ref;return{$$typeof:e,type:J,key:le,ref:Oe!==void 0?Oe:null,props:xe}}function Pe(J,le){return Fe(J.type,le,J.props)}function me(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function Me(J){var le={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(xe){return le[xe]})}var _e=/\/+/g;function Je(J,le){return typeof J=="object"&&J!==null&&J.key!=null?Me(""+J.key):le.toString(36)}function Be(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(de,de):(J.status="pending",J.then(function(le){J.status==="pending"&&(J.status="fulfilled",J.value=le)},function(le){J.status==="pending"&&(J.status="rejected",J.reason=le)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ge(J,le,xe,Oe,Ze){var it=typeof J;(it==="undefined"||it==="boolean")&&(J=null);var mt=!1;if(J===null)mt=!0;else switch(it){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(J.$$typeof){case e:case t:mt=!0;break;case b:return mt=J._init,ge(mt(J._payload),le,xe,Oe,Ze)}}if(mt)return Ze=Ze(J),mt=Oe===""?"."+Je(J,0):Oe,Y(Ze)?(xe="",mt!=null&&(xe=mt.replace(_e,"$&/")+"/"),ge(Ze,le,xe,"",function(Tt){return Tt})):Ze!=null&&(me(Ze)&&(Ze=Pe(Ze,xe+(Ze.key==null||J&&J.key===Ze.key?"":(""+Ze.key).replace(_e,"$&/")+"/")+mt)),le.push(Ze)),1;mt=0;var oi=Oe===""?".":Oe+":";if(Y(J))for(var xt=0;xt<J.length;xt++)Oe=J[xt],it=oi+Je(Oe,xt),mt+=ge(Oe,le,xe,it,Ze);else if(xt=k(J),typeof xt=="function")for(J=xt.call(J),xt=0;!(Oe=J.next()).done;)Oe=Oe.value,it=oi+Je(Oe,xt++),mt+=ge(Oe,le,xe,it,Ze);else if(it==="object"){if(typeof J.then=="function")return ge(Be(J),le,xe,Oe,Ze);throw le=String(J),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return mt}function De(J,le,xe){if(J==null)return J;var Oe=[],Ze=0;return ge(J,Oe,"","",function(it){return le.call(xe,it,Ze++)}),Oe}function Ae(J){if(J._status===-1){var le=J._result;le=le(),le.then(function(xe){(J._status===0||J._status===-1)&&(J._status=1,J._result=xe)},function(xe){(J._status===0||J._status===-1)&&(J._status=2,J._result=xe)}),J._status===-1&&(J._status=0,J._result=le)}if(J._status===1)return J._result.default;throw J._result}var $e=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Le={map:De,forEach:function(J,le,xe){De(J,function(){le.apply(this,arguments)},xe)},count:function(J){var le=0;return De(J,function(){le++}),le},toArray:function(J){return De(J,function(le){return le})||[]},only:function(J){if(!me(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return dt.Activity=R,dt.Children=Le,dt.Component=W,dt.Fragment=i,dt.Profiler=n,dt.PureComponent=K,dt.StrictMode=s,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,dt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return re.H.useMemoCache(J)}},dt.cache=function(J){return function(){return J.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(J,le,xe){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Oe=V({},J.props),Ze=J.key;if(le!=null)for(it in le.key!==void 0&&(Ze=""+le.key),le)!ie.call(le,it)||it==="key"||it==="__self"||it==="__source"||it==="ref"&&le.ref===void 0||(Oe[it]=le[it]);var it=arguments.length-2;if(it===1)Oe.children=xe;else if(1<it){for(var mt=Array(it),oi=0;oi<it;oi++)mt[oi]=arguments[oi+2];Oe.children=mt}return Fe(J.type,Ze,Oe)},dt.createContext=function(J){return J={$$typeof:c,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:r,_context:J},J},dt.createElement=function(J,le,xe){var Oe,Ze={},it=null;if(le!=null)for(Oe in le.key!==void 0&&(it=""+le.key),le)ie.call(le,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(Ze[Oe]=le[Oe]);var mt=arguments.length-2;if(mt===1)Ze.children=xe;else if(1<mt){for(var oi=Array(mt),xt=0;xt<mt;xt++)oi[xt]=arguments[xt+2];Ze.children=oi}if(J&&J.defaultProps)for(Oe in mt=J.defaultProps,mt)Ze[Oe]===void 0&&(Ze[Oe]=mt[Oe]);return Fe(J,it,Ze)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(J){return{$$typeof:h,render:J}},dt.isValidElement=me,dt.lazy=function(J){return{$$typeof:b,_payload:{_status:-1,_result:J},_init:Ae}},dt.memo=function(J,le){return{$$typeof:v,type:J,compare:le===void 0?null:le}},dt.startTransition=function(J){var le=re.T,xe={};re.T=xe;try{var Oe=J(),Ze=re.S;Ze!==null&&Ze(xe,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(de,$e)}catch(it){$e(it)}finally{le!==null&&xe.types!==null&&(le.types=xe.types),re.T=le}},dt.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},dt.use=function(J){return re.H.use(J)},dt.useActionState=function(J,le,xe){return re.H.useActionState(J,le,xe)},dt.useCallback=function(J,le){return re.H.useCallback(J,le)},dt.useContext=function(J){return re.H.useContext(J)},dt.useDebugValue=function(){},dt.useDeferredValue=function(J,le){return re.H.useDeferredValue(J,le)},dt.useEffect=function(J,le){return re.H.useEffect(J,le)},dt.useEffectEvent=function(J){return re.H.useEffectEvent(J)},dt.useId=function(){return re.H.useId()},dt.useImperativeHandle=function(J,le,xe){return re.H.useImperativeHandle(J,le,xe)},dt.useInsertionEffect=function(J,le){return re.H.useInsertionEffect(J,le)},dt.useLayoutEffect=function(J,le){return re.H.useLayoutEffect(J,le)},dt.useMemo=function(J,le){return re.H.useMemo(J,le)},dt.useOptimistic=function(J,le){return re.H.useOptimistic(J,le)},dt.useReducer=function(J,le,xe){return re.H.useReducer(J,le,xe)},dt.useRef=function(J){return re.H.useRef(J)},dt.useState=function(J){return re.H.useState(J)},dt.useSyncExternalStore=function(J,le,xe){return re.H.useSyncExternalStore(J,le,xe)},dt.useTransition=function(){return re.H.useTransition()},dt.version="19.2.0",dt}var mS;function Cp(){return mS||(mS=1,ow.exports=ND()),ow.exports}var G=Cp();const ke=mp(G);var rw={exports:{}},Og={},aw={exports:{}},lw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function GD(){return CS||(CS=1,(function(e){function t(ge,De){var Ae=ge.length;ge.push(De);e:for(;0<Ae;){var $e=Ae-1>>>1,Le=ge[$e];if(0<n(Le,De))ge[$e]=De,ge[Ae]=Le,Ae=$e;else break e}}function i(ge){return ge.length===0?null:ge[0]}function s(ge){if(ge.length===0)return null;var De=ge[0],Ae=ge.pop();if(Ae!==De){ge[0]=Ae;e:for(var $e=0,Le=ge.length,J=Le>>>1;$e<J;){var le=2*($e+1)-1,xe=ge[le],Oe=le+1,Ze=ge[Oe];if(0>n(xe,Ae))Oe<Le&&0>n(Ze,xe)?(ge[$e]=Ze,ge[Oe]=Ae,$e=Oe):(ge[$e]=xe,ge[le]=Ae,$e=le);else if(Oe<Le&&0>n(Ze,Ae))ge[$e]=Ze,ge[Oe]=Ae,$e=Oe;else break e}}return De}function n(ge,De){var Ae=ge.sortIndex-De.sortIndex;return Ae!==0?Ae:ge.id-De.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],v=[],b=1,R=null,F=3,k=!1,O=!1,V=!1,_=!1,W=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function X(ge){for(var De=i(v);De!==null;){if(De.callback===null)s(v);else if(De.startTime<=ge)s(v),De.sortIndex=De.expirationTime,t(p,De);else break;De=i(v)}}function Y(ge){if(V=!1,X(ge),!O)if(i(p)!==null)O=!0,de||(de=!0,Me());else{var De=i(v);De!==null&&Be(Y,De.startTime-ge)}}var de=!1,re=-1,ie=5,Fe=-1;function Pe(){return _?!0:!(e.unstable_now()-Fe<ie)}function me(){if(_=!1,de){var ge=e.unstable_now();Fe=ge;var De=!0;try{e:{O=!1,V&&(V=!1,U(re),re=-1),k=!0;var Ae=F;try{t:{for(X(ge),R=i(p);R!==null&&!(R.expirationTime>ge&&Pe());){var $e=R.callback;if(typeof $e=="function"){R.callback=null,F=R.priorityLevel;var Le=$e(R.expirationTime<=ge);if(ge=e.unstable_now(),typeof Le=="function"){R.callback=Le,X(ge),De=!0;break t}R===i(p)&&s(p),X(ge)}else s(p);R=i(p)}if(R!==null)De=!0;else{var J=i(v);J!==null&&Be(Y,J.startTime-ge),De=!1}}break e}finally{R=null,F=Ae,k=!1}De=void 0}}finally{De?Me():de=!1}}}var Me;if(typeof K=="function")Me=function(){K(me)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Je=_e.port2;_e.port1.onmessage=me,Me=function(){Je.postMessage(null)}}else Me=function(){W(me,0)};function Be(ge,De){re=W(function(){ge(e.unstable_now())},De)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_next=function(ge){switch(F){case 1:case 2:case 3:var De=3;break;default:De=F}var Ae=F;F=De;try{return ge()}finally{F=Ae}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(ge,De){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var Ae=F;F=ge;try{return De()}finally{F=Ae}},e.unstable_scheduleCallback=function(ge,De,Ae){var $e=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?$e+Ae:$e):Ae=$e,ge){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Ae+Le,ge={id:b++,callback:De,priorityLevel:ge,startTime:Ae,expirationTime:Le,sortIndex:-1},Ae>$e?(ge.sortIndex=Ae,t(v,ge),i(p)===null&&ge===i(v)&&(V?(U(re),re=-1):V=!0,Be(Y,Ae-$e))):(ge.sortIndex=Le,t(p,ge),O||k||(O=!0,de||(de=!0,Me()))),ge},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(ge){var De=F;return function(){var Ae=F;F=De;try{return ge.apply(this,arguments)}finally{F=Ae}}}})(lw)),lw}var vS;function BD(){return vS||(vS=1,aw.exports=GD()),aw.exports}var cw={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function VD(){if(wS)return ms;wS=1;var e=Cp();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function r(p,v,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:R==null?null:""+R,children:p,containerInfo:v,implementation:b}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ms.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return r(p,v,null,b)},ms.flushSync=function(p){var v=c.T,b=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=v,s.p=b,s.d.f()}},ms.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},ms.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ms.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,R=h(b,v.crossOrigin),F=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:F,fetchPriority:k}):b==="script"&&s.d.X(p,{crossOrigin:R,integrity:F,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ms.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=h(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},ms.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,R=h(b,v.crossOrigin);s.d.L(p,b,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ms.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=h(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},ms.requestFormReset=function(p){s.d.r(p)},ms.unstable_batchedUpdates=function(p,v){return p(v)},ms.useFormState=function(p,v,b){return c.H.useFormState(p,v,b)},ms.useFormStatus=function(){return c.H.useHostTransitionStatus()},ms.version="19.2.0",ms}var yS;function bx(){if(yS)return cw.exports;yS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cw.exports=VD(),cw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function zD(){if(bS)return Og;bS=1;var e=BD(),t=Cp(),i=bx();function s(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function c(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function h(o){if(o.tag===31){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function p(o){if(r(o)!==o)throw Error(s(188))}function v(o){var a=o.alternate;if(!a){if(a=r(o),a===null)throw Error(s(188));return a!==o?null:o}for(var d=o,f=a;;){var x=d.return;if(x===null)break;var M=x.alternate;if(M===null){if(f=x.return,f!==null){d=f;continue}break}if(x.child===M.child){for(M=x.child;M;){if(M===d)return p(x),o;if(M===f)return p(x),a;M=M.sibling}throw Error(s(188))}if(d.return!==f.return)d=x,f=M;else{for(var H=!1,j=x.child;j;){if(j===d){H=!0,d=x,f=M;break}if(j===f){H=!0,f=x,d=M;break}j=j.sibling}if(!H){for(j=M.child;j;){if(j===d){H=!0,d=M,f=x;break}if(j===f){H=!0,f=M,d=x;break}j=j.sibling}if(!H)throw Error(s(189))}}if(d.alternate!==f)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?o:a}function b(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=b(o),a!==null)return a;o=o.sibling}return null}var R=Object.assign,F=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),K=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Fe=Symbol.for("react.activity"),Pe=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function Me(o){return o===null||typeof o!="object"?null:(o=me&&o[me]||o["@@iterator"],typeof o=="function"?o:null)}var _e=Symbol.for("react.client.reference");function Je(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===_e?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case V:return"Fragment";case W:return"Profiler";case _:return"StrictMode";case Y:return"Suspense";case de:return"SuspenseList";case Fe:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case O:return"Portal";case K:return o.displayName||"Context";case U:return(o._context.displayName||"Context")+".Consumer";case X:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return a=o.displayName||null,a!==null?a:Je(o.type)||"Memo";case ie:a=o._payload,o=o._init;try{return Je(o(a))}catch{}}return null}var Be=Array.isArray,ge=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},$e=[],Le=-1;function J(o){return{current:o}}function le(o){0>Le||(o.current=$e[Le],$e[Le]=null,Le--)}function xe(o,a){Le++,$e[Le]=o.current,o.current=a}var Oe=J(null),Ze=J(null),it=J(null),mt=J(null);function oi(o,a){switch(xe(it,a),xe(Ze,o),xe(Oe,null),a.nodeType){case 9:case 11:o=(o=a.documentElement)&&(o=o.namespaceURI)?Ue(o):0;break;default:if(o=a.tagName,a=a.namespaceURI)a=Ue(a),o=It(a,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}le(Oe),xe(Oe,o)}function xt(){le(Oe),le(Ze),le(it)}function Tt(o){o.memoizedState!==null&&xe(mt,o);var a=Oe.current,d=It(a,o.type);a!==d&&(xe(Ze,o),xe(Oe,d))}function ys(o){Ze.current===o&&(le(Oe),le(Ze)),mt.current===o&&(le(mt),Fg._currentValue=Ae)}var Ri,ze;function Ii(o){if(Ri===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Ri=a&&a[1]||"",ze=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+o+ze}var st=!1;function Et(o,a){if(!o||st)return"";st=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(fe){var pe=fe}Reflect.construct(o,[],Ee)}else{try{Ee.call()}catch(fe){pe=fe}o.call(Ee.prototype)}}else{try{throw Error()}catch(fe){pe=fe}(Ee=o())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(fe){if(fe&&pe&&typeof fe.stack=="string")return[fe.stack,pe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=f.DetermineComponentFrameRoot(),H=M[0],j=M[1];if(H&&j){var ee=H.split(`
`),ue=j.split(`
`);for(x=f=0;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;for(;x<ue.length&&!ue[x].includes("DetermineComponentFrameRoot");)x++;if(f===ee.length||x===ue.length)for(f=ee.length-1,x=ue.length-1;1<=f&&0<=x&&ee[f]!==ue[x];)x--;for(;1<=f&&0<=x;f--,x--)if(ee[f]!==ue[x]){if(f!==1||x!==1)do if(f--,x--,0>x||ee[f]!==ue[x]){var be=`
`+ee[f].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=f&&0<=x);break}}}finally{st=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Ii(d):""}function yi(o,a){switch(o.tag){case 26:case 27:case 5:return Ii(o.type);case 16:return Ii("Lazy");case 13:return o.child!==a&&a!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Et(o.type,!1);case 11:return Et(o.type.render,!1);case 1:return Et(o.type,!0);case 31:return Ii("Activity");default:return""}}function pi(o){try{var a="",d=null;do a+=yi(o,d),d=o,o=o.return;while(o);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var ct=Object.prototype.hasOwnProperty,At=e.unstable_scheduleCallback,kt=e.unstable_cancelCallback,Js=e.unstable_shouldYield,Hi=e.unstable_requestPaint,Mt=e.unstable_now,Bc=e.unstable_getCurrentPriorityLevel,na=e.unstable_ImmediatePriority,dl=e.unstable_UserBlockingPriority,Bt=e.unstable_NormalPriority,Zi=e.unstable_LowPriority,Vc=e.unstable_IdlePriority,Fp=e.log,hv=e.unstable_setDisableYieldValue,Yt=null,Qi=null;function vo(o){if(typeof Fp=="function"&&hv(o),Qi&&typeof Qi.setStrictMode=="function")try{Qi.setStrictMode(Yt,o)}catch{}}var bs=Math.clz32?Math.clz32:Ud,gv=Math.log,Wn=Math.LN2;function Ud(o){return o>>>=0,o===0?32:31-(gv(o)/Wn|0)|0}var Ji=256,zc=262144,wo=4194304;function lr(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function _c(o,a,d){var f=o.pendingLanes;if(f===0)return 0;var x=0,M=o.suspendedLanes,H=o.pingedLanes;o=o.warmLanes;var j=f&134217727;return j!==0?(f=j&~M,f!==0?x=lr(f):(H&=j,H!==0?x=lr(H):d||(d=j&~o,d!==0&&(x=lr(d))))):(j=f&~M,j!==0?x=lr(j):H!==0?x=lr(H):d||(d=f&~o,d!==0&&(x=lr(d)))),x===0?0:a!==0&&a!==x&&(a&M)===0&&(M=x&-x,d=a&-a,M>=d||M===32&&(d&4194048)!==0)?a:x}function Ei(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function Pp(o,a){switch(o){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jd(){var o=wo;return wo<<=1,(wo&62914560)===0&&(wo=4194304),o}function hl(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function Vt(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ap(o,a,d,f,x,M){var H=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var j=o.entanglements,ee=o.expirationTimes,ue=o.hiddenUpdates;for(d=H&~d;0<d;){var be=31-bs(d),Ee=1<<be;j[be]=0,ee[be]=-1;var pe=ue[be];if(pe!==null)for(ue[be]=null,be=0;be<pe.length;be++){var fe=pe[be];fe!==null&&(fe.lane&=-536870913)}d&=~Ee}f!==0&&kp(o,f,0),M!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=M&~(H&~a))}function kp(o,a,d){o.pendingLanes|=a,o.suspendedLanes&=~a;var f=31-bs(a);o.entangledLanes|=a,o.entanglements[f]=o.entanglements[f]|1073741824|d&261930}function Wc(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var f=31-bs(d),x=1<<f;x&a|o[f]&a&&(o[f]|=a),d&=~x}}function Lp(o,a){var d=a&-a;return d=(d&42)!==0?1:Ni(d),(d&(o.suspendedLanes|a))!==0?0:d}function Ni(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $d(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Op(){var o=De.p;return o!==0?o:(o=window.event,o===void 0?32:rS(o.type))}function Ip(o,a){var d=De.p;try{return De.p=o,a()}finally{De.p=d}}var yo=Math.random().toString(36).slice(2),Mi="__reactFiber$"+yo,es="__reactProps$"+yo,oa="__reactContainer$"+yo,Kd="__reactEvents$"+yo,qd="__reactListeners$"+yo,Hp="__reactHandles$"+yo,Pi="__reactResources$"+yo,ra="__reactMarker$"+yo;function Yd(o){delete o[Mi],delete o[es],delete o[Kd],delete o[qd],delete o[Hp]}function aa(o){var a=o[Mi];if(a)return a;for(var d=o.parentNode;d;){if(a=d[oa]||d[Mi]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=Eg(o);o!==null;){if(d=o[Mi])return d;o=Eg(o)}return a}o=d,d=o.parentNode}return null}function la(o){if(o=o[Mi]||o[oa]){var a=o.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return o}return null}function gl(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(s(33))}function cr(o){var a=o[Pi];return a||(a=o[Pi]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ai(o){o[ra]=!0}var Xd=new Set,Zd={};function ur(o,a){bo(o,a),bo(o+"Capture",a)}function bo(o,a){for(Zd[o]=a,o=0;o<a.length;o++)Xd.add(a[o])}var Uc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Np={},$t={};function Gp(o){return ct.call($t,o)?!0:ct.call(Np,o)?!1:Uc.test(o)?$t[o]=!0:(Np[o]=!0,!1)}function pl(o,a,d){if(Gp(a))if(d===null)o.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+d)}}function jc(o,a,d){if(d===null)o.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+d)}}function Un(o,a,d,f){if(f===null)o.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(a,d,""+f)}}function Ls(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Bp(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vp(o,a,d){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,a);if(!o.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,M=f.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return x.call(this)},set:function(H){d=""+H,M.call(this,H)}}),Object.defineProperty(o,a,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(H){d=""+H},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Qd(o){if(!o._valueTracker){var a=Bp(o)?"checked":"value";o._valueTracker=Vp(o,a,""+o[a])}}function zp(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),f="";return o&&(f=Bp(o)?o.checked?"true":"false":o.value),o=f,o!==d?(a.setValue(o),!0):!1}function $c(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var pv=/[\n"\\]/g;function ts(o){return o.replace(pv,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Kc(o,a,d,f,x,M,H,j){o.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.type=H:o.removeAttribute("type"),a!=null?H==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Ls(a)):o.value!==""+Ls(a)&&(o.value=""+Ls(a)):H!=="submit"&&H!=="reset"||o.removeAttribute("value"),a!=null?ca(o,H,Ls(a)):d!=null?ca(o,H,Ls(d)):f!=null&&o.removeAttribute("value"),x==null&&M!=null&&(o.defaultChecked=!!M),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?o.name=""+Ls(j):o.removeAttribute("name")}function Jd(o,a,d,f,x,M,H,j){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.type=M),a!=null||d!=null){if(!(M!=="submit"&&M!=="reset"||a!=null)){Qd(o);return}d=d!=null?""+Ls(d):"",a=a!=null?""+Ls(a):d,j||a===o.value||(o.value=a),o.defaultValue=a}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=j?o.checked:!!f,o.defaultChecked=!!f,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(o.name=H),Qd(o)}function ca(o,a,d){a==="number"&&$c(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function dr(o,a,d,f){if(o=o.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=a.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&f&&(o[d].defaultSelected=!0)}else{for(d=""+Ls(d),a=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,f&&(o[x].defaultSelected=!0);return}a!==null||o[x].disabled||(a=o[x])}a!==null&&(a.selected=!0)}}function Ss(o,a,d){if(a!=null&&(a=""+Ls(a),a!==o.value&&(o.value=a),d==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=d!=null?""+Ls(d):""}function ua(o,a,d,f){if(a==null){if(f!=null){if(d!=null)throw Error(s(92));if(Be(f)){if(1<f.length)throw Error(s(93));f=f[0]}d=f}d==null&&(d=""),a=d}d=Ls(a),o.defaultValue=d,f=o.textContent,f===d&&f!==""&&f!==null&&(o.value=f),Qd(o)}function da(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var fv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _p(o,a,d){var f=a.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":f?o.setProperty(a,d):typeof d!="number"||d===0||fv.has(a)?a==="float"?o.cssFloat=d:o[a]=(""+d).trim():o[a]=d+"px"}function qc(o,a,d){if(a!=null&&typeof a!="object")throw Error(s(62));if(o=o.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var x in a)f=a[x],a.hasOwnProperty(x)&&d[x]!==f&&_p(o,x,f)}else for(var M in a)a.hasOwnProperty(M)&&_p(o,M,a[M])}function ha(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fl(o){return Cv.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function fn(){}var So=null;function eh(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var jn=null,ga=null;function Wp(o){var a=la(o);if(a&&(o=a.stateNode)){var d=o[es]||null;e:switch(o=a.stateNode,a.type){case"input":if(Kc(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ts(""+a)+'"][type="radio"]'),a=0;a<d.length;a++){var f=d[a];if(f!==o&&f.form===o.form){var x=f[es]||null;if(!x)throw Error(s(90));Kc(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(a=0;a<d.length;a++)f=d[a],f.form===o.form&&zp(f)}break e;case"textarea":Ss(o,d.value,d.defaultValue);break e;case"select":a=d.value,a!=null&&dr(o,!!d.multiple,a,!1)}}}var th=!1;function Yc(o,a,d){if(th)return o(a,d);th=!0;try{var f=o(a);return f}finally{if(th=!1,(jn!==null||ga!==null)&&(id(),jn&&(a=jn,o=ga,ga=jn=null,Wp(a),o)))for(a=0;a<o.length;a++)Wp(o[a])}}function ml(o,a){var d=o.stateNode;if(d===null)return null;var f=d[es]||null;if(f===null)return null;d=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(Os)try{var us={};Object.defineProperty(us,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Xc=!1}var xo=null,hr=null,pa=null;function Zc(){if(pa)return pa;var o,a=hr,d=a.length,f,x="value"in xo?xo.value:xo.textContent,M=x.length;for(o=0;o<d&&a[o]===x[o];o++);var H=d-o;for(f=1;f<=H&&a[d-f]===x[M-f];f++);return pa=x.slice(o,1<f?1-f:void 0)}function Cl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function vl(){return!0}function Up(){return!1}function ds(o){function a(d,f,x,M,H){this._reactName=d,this._targetInst=x,this.type=f,this.nativeEvent=M,this.target=H,this.currentTarget=null;for(var j in o)o.hasOwnProperty(j)&&(d=o[j],this[j]=d?d(M):M[j]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?vl:Up,this.isPropagationStopped=Up,this}return R(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),a}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=ds(Ro),mn=R({},Ro,{view:0,detail:0}),$n=ds(mn),ma,ih,wl,Qc=R({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wl&&(wl&&o.type==="mousemove"?(ma=o.screenX-wl.screenX,ih=o.screenY-wl.screenY):ih=ma=0,wl=o),ma)},movementY:function(o){return"movementY"in o?o.movementY:ih}}),sh=ds(Qc),Di=R({},Qc,{dataTransfer:0}),Cn=ds(Di),jp=R({},mn,{relatedTarget:0}),nh=ds(jp),$p=R({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=ds($p),vv=R({},Ro,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jc=ds(vv),Kp=R({},Ro,{data:0}),Eo=ds(Kp),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yp(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=bl[o])?!!a[o]:!1}function eu(){return Yp}var oh=R({},mn,{key:function(o){if(o.key){var a=qp[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Cl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?wv[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eu,charCode:function(o){return o.type==="keypress"?Cl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Xp=ds(oh),rh=R({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=ds(rh),Qp=R({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eu}),ah=ds(Qp),yv=R({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),bv=ds(yv),Sv=R({},Qc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),xv=ds(Sv),Rv=R({},Ro,{newState:0,oldState:0}),lh=ds(Rv),Ev=[9,13,27,32],ch=Os&&"CompositionEvent"in window,Sl=null;Os&&"documentMode"in document&&(Sl=document.documentMode);var Jp=Os&&"TextEvent"in window&&!Sl,gr=Os&&(!ch||Sl&&8<Sl&&11>=Sl),uh=" ",dh=!1;function ef(o,a){switch(o){case"keyup":return Ev.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ca=!1;function hh(o,a){switch(o){case"compositionend":return tf(a);case"keypress":return a.which!==32?null:(dh=!0,uh);case"textInput":return o=a.data,o===uh&&dh?null:o;default:return null}}function gh(o,a){if(Ca)return o==="compositionend"||!ch&&ef(o,a)?(o=Zc(),pa=hr=xo=null,Ca=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gr&&a.locale!=="ko"?null:a.data;default:return null}}var tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xl(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!tu[o.type]:a==="textarea"}function sf(o,a,d,f){jn?ga?ga.push(f):ga=[f]:jn=f,a=N(a,"onChange"),0<a.length&&(d=new fa("onChange","change",null,d,f),o.push({event:d,listeners:a}))}var va=null,Mo=null;function pr(o){D(o,0)}function iu(o){var a=gl(o);if(zp(a))return o}function Do(o,a){if(o==="change")return a}var nf=!1;if(Os){var Kn;if(Os){var fr="oninput"in document;if(!fr){var of=document.createElement("div");of.setAttribute("oninput","return;"),fr=typeof of.oninput=="function"}Kn=fr}else Kn=!1;nf=Kn&&(!document.documentMode||9<document.documentMode)}function su(){va&&(va.detachEvent("onpropertychange",nu),Mo=va=null)}function nu(o){if(o.propertyName==="value"&&iu(Mo)){var a=[];sf(a,Mo,o,eh(o)),Yc(pr,a)}}function Mv(o,a,d){o==="focusin"?(su(),va=a,Mo=d,va.attachEvent("onpropertychange",nu)):o==="focusout"&&su()}function Dv(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return iu(Mo)}function Tv(o,a){if(o==="click")return iu(a)}function ou(o,a){if(o==="input"||o==="change")return iu(a)}function Fv(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var xs=typeof Object.is=="function"?Object.is:Fv;function Rl(o,a){if(xs(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),f=Object.keys(a);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var x=d[f];if(!ct.call(a,x)||!xs(o[x],a[x]))return!1}return!0}function qn(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function rf(o,a){var d=qn(o);o=0;for(var f;d;){if(d.nodeType===3){if(f=o+d.textContent.length,o<=a&&f>=a)return{node:d,offset:a-o};o=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qn(d)}}function ph(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?ph(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function af(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=$c(o.document);a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)o=a.contentWindow;else break;a=$c(o.document)}return a}function fh(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}var ru=Os&&"documentMode"in document&&11>=document.documentMode,wa=null,mh=null,ya=null,Ch=!1;function mr(o,a,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ch||wa==null||wa!==$c(f)||(f=wa,"selectionStart"in f&&fh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ya&&Rl(ya,f)||(ya=f,f=N(mh,"onSelect"),0<f.length&&(a=new fa("onSelect","select",null,a,d),o.push({event:a,listeners:f}),a.target=wa)))}function Rs(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var ba={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},vh={},lf={};Os&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Cr(o){if(vh[o])return vh[o];if(!ba[o])return o;var a=ba[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in lf)return vh[o]=a[d];return o}var cf=Cr("animationend"),El=Cr("animationiteration"),au=Cr("animationstart"),Pv=Cr("transitionrun"),lu=Cr("transitionstart"),wh=Cr("transitioncancel"),uf=Cr("transitionend"),yh=new Map,vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vr.push("scrollEnd");function en(o,a){yh.set(o,a),ur(a,[o])}var wr=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Is=[],Sa=0,Hs=0;function Yn(){for(var o=Sa,a=Hs=Sa=0;a<o;){var d=Is[a];Is[a++]=null;var f=Is[a];Is[a++]=null;var x=Is[a];Is[a++]=null;var M=Is[a];if(Is[a++]=null,f!==null&&x!==null){var H=f.pending;H===null?x.next=x:(x.next=H.next,H.next=x),f.pending=x}M!==0&&du(d,x,M)}}function cu(o,a,d,f){Is[Sa++]=o,Is[Sa++]=a,Is[Sa++]=d,Is[Sa++]=f,Hs|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function uu(o,a,d,f){return cu(o,a,d,f),hu(o)}function yr(o,a){return cu(o,null,null,a),hu(o)}function du(o,a,d){o.lanes|=d;var f=o.alternate;f!==null&&(f.lanes|=d);for(var x=!1,M=o.return;M!==null;)M.childLanes|=d,f=M.alternate,f!==null&&(f.childLanes|=d),M.tag===22&&(o=M.stateNode,o===null||o._visibility&1||(x=!0)),o=M,M=M.return;return o.tag===3?(M=o.stateNode,x&&a!==null&&(x=31-bs(d),o=M.hiddenUpdates,f=o[x],f===null?o[x]=[a]:f.push(a),a.lane=d|536870912),M):null}function hu(o){if(50<ic)throw ic=0,pg=null,Error(s(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var xa={};function df(o,a,d,f){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(o,a,d,f){return new df(o,a,d,f)}function Ml(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fi(o,a){var d=o.alternate;return d===null?(d=Es(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Gt(o,a){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,a=d.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function gu(o,a,d,f,x,M){var H=0;if(f=o,typeof o=="function")Ml(o)&&(H=1);else if(typeof o=="string")H=xD(o,d,Oe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Fe:return o=Es(31,d,a,x),o.elementType=Fe,o.lanes=M,o;case V:return To(d.children,x,M,a);case _:H=8,x|=24;break;case W:return o=Es(12,d,a,x|2),o.elementType=W,o.lanes=M,o;case Y:return o=Es(13,d,a,x),o.elementType=Y,o.lanes=M,o;case de:return o=Es(19,d,a,x),o.elementType=de,o.lanes=M,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case K:H=10;break e;case U:H=9;break e;case X:H=11;break e;case re:H=14;break e;case ie:H=16,f=null;break e}H=29,d=Error(s(130,o===null?"null":typeof o,"")),f=null}return a=Es(H,d,a,x),a.elementType=o,a.type=f,a.lanes=M,a}function To(o,a,d,f){return o=Es(7,o,f,a),o.lanes=d,o}function Dl(o,a,d){return o=Es(6,o,null,a),o.lanes=d,o}function Tl(o){var a=Es(18,null,null,0);return a.stateNode=o,a}function Kt(o,a,d){return a=Es(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}var bh=new WeakMap;function Ns(o,a){if(typeof o=="object"&&o!==null){var d=bh.get(o);return d!==void 0?d:(a={value:o,source:a,stack:pi(a)},bh.set(o,a),a)}return{value:o,source:a,stack:pi(a)}}var br=[],qe=0,Fl=null,Fo=0,Gs=[],is=0,ot=null,Ms=1,vn="";function Xn(o,a){br[qe++]=Fo,br[qe++]=Fl,Fl=o,Fo=a}function hf(o,a,d){Gs[is++]=Ms,Gs[is++]=vn,Gs[is++]=ot,ot=o;var f=Ms;o=vn;var x=32-bs(f)-1;f&=~(1<<x),d+=1;var M=32-bs(a)+x;if(30<M){var H=x-x%5;M=(f&(1<<H)-1).toString(32),f>>=H,x-=H,Ms=1<<32-bs(a)+x|d<<x|f,vn=M+o}else Ms=1<<M|d<<x|f,vn=o}function pu(o){o.return!==null&&(Xn(o,1),hf(o,1,0))}function Po(o){for(;o===Fl;)Fl=br[--qe],br[qe]=null,Fo=br[--qe],br[qe]=null;for(;o===ot;)ot=Gs[--is],Gs[is]=null,vn=Gs[--is],Gs[is]=null,Ms=Gs[--is],Gs[is]=null}function gf(o,a){Gs[is++]=Ms,Gs[is++]=vn,Gs[is++]=ot,Ms=a.id,vn=a.overflow,ot=o}var Gi=null,Xt=null,Ct=!1,Ao=null,Ds=!1,Sh=Error(s(519));function ko(o){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Ns(a,o)),Sh}function pf(o){var a=o.stateNode,d=o.type,f=o.memoizedProps;switch(a[Mi]=o,a[es]=f,d){case"dialog":P("cancel",a),P("close",a);break;case"iframe":case"object":case"embed":P("load",a);break;case"video":case"audio":for(d=0;d<y.length;d++)P(y[d],a);break;case"source":P("error",a);break;case"img":case"image":case"link":P("error",a),P("load",a);break;case"details":P("toggle",a);break;case"input":P("invalid",a),Jd(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":P("invalid",a);break;case"textarea":P("invalid",a),ua(a,f.value,f.defaultValue,f.children)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||a.textContent===""+d||f.suppressHydrationWarning===!0||ne(a.textContent,d)?(f.popover!=null&&(P("beforetoggle",a),P("toggle",a)),f.onScroll!=null&&P("scroll",a),f.onScrollEnd!=null&&P("scrollend",a),f.onClick!=null&&(a.onclick=fn),a=!0):a=!1,a||ko(o,!0)}function ff(o){for(Gi=o.return;Gi;)switch(Gi.tag){case 5:case 31:case 13:Ds=!1;return;case 27:case 3:Ds=!0;return;default:Gi=Gi.return}}function Ra(o){if(o!==Gi)return!1;if(!Ct)return ff(o),Ct=!0,!1;var a=o.tag,d;if((d=a!==3&&a!==27)&&((d=a===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||gt(o.type,o.memoizedProps)),d=!d),d&&Xt&&ko(o),ff(o),a===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));Xt=zr(o)}else if(a===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));Xt=zr(o)}else a===27?(a=Xt,pt(o.type)?(o=Ps,Ps=null,Xt=o):Xt=a):Xt=Gi?Yi(o.stateNode.nextSibling):null;return!0}function Lo(){Xt=Gi=null,Ct=!1}function xh(){var o=Ao;return o!==null&&(ps===null?ps=o:ps.push.apply(ps,o),Ao=null),o}function Pl(o){Ao===null?Ao=[o]:Ao.push(o)}var fu=J(null),Oo=null,ki=null;function Io(o,a,d){xe(fu,a._currentValue),a._currentValue=d}function Zn(o){o._currentValue=fu.current,le(fu)}function Rh(o,a,d){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===d)break;o=o.return}}function mu(o,a,d,f){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var M=x.dependencies;if(M!==null){var H=x.child;M=M.firstContext;e:for(;M!==null;){var j=M;M=x;for(var ee=0;ee<a.length;ee++)if(j.context===a[ee]){M.lanes|=d,j=M.alternate,j!==null&&(j.lanes|=d),Rh(M.return,d,o),f||(H=null);break e}M=j.next}}else if(x.tag===18){if(H=x.return,H===null)throw Error(s(341));H.lanes|=d,M=H.alternate,M!==null&&(M.lanes|=d),Rh(H,d,o),H=null}else H=x.child;if(H!==null)H.return=x;else for(H=x;H!==null;){if(H===o){H=null;break}if(x=H.sibling,x!==null){x.return=H.return,H=x;break}H=H.return}x=H}}function Ea(o,a,d,f){o=null;for(var x=a,M=!1;x!==null;){if(!M){if((x.flags&524288)!==0)M=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var H=x.alternate;if(H===null)throw Error(s(387));if(H=H.memoizedProps,H!==null){var j=x.type;xs(x.pendingProps.value,H.value)||(o!==null?o.push(j):o=[j])}}else if(x===mt.current){if(H=x.alternate,H===null)throw Error(s(387));H.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(Fg):o=[Fg])}x=x.return}o!==null&&mu(a,o,d,f),a.flags|=262144}function Cu(o){for(o=o.firstContext;o!==null;){if(!xs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wn(o){Oo=o,ki=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Bi(o){return mf(Oo,o)}function Al(o,a){return Oo===null&&wn(o),mf(o,a)}function mf(o,a){var d=a._currentValue;if(a={context:a,memoizedValue:d,next:null},ki===null){if(o===null)throw Error(s(308));ki=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else ki=ki.next=a;return d}var Av=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(d,f){o.push(f)}};this.abort=function(){a.aborted=!0,o.forEach(function(d){return d()})}},Cf=e.unstable_scheduleCallback,kv=e.unstable_NormalPriority,bi={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new Av,data:new Map,refCount:0}}function yn(o){o.refCount--,o.refCount===0&&Cf(kv,function(){o.controller.abort()})}var Ma=null,Mh=0,Da=0,Ho=null;function vf(o,a){if(Ma===null){var d=Ma=[];Mh=0,Da=Rg(),Ho={status:"pending",value:void 0,then:function(f){d.push(f)}}}return Mh++,a.then(wf,wf),a}function wf(){if(--Mh===0&&Ma!==null){Ho!==null&&(Ho.status="fulfilled");var o=Ma;Ma=null,Da=0,Ho=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function Lv(o,a){var d=[],f={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return o.then(function(){f.status="fulfilled",f.value=a;for(var x=0;x<d.length;x++)(0,d[x])(a)},function(x){for(f.status="rejected",f.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),f}var yf=ge.S;ge.S=function(o,a){dg=Mt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&vf(o,a),yf!==null&&yf(o,a)};var Qn=J(null);function Dh(){var o=Qn.current;return o!==null?o:Wt.pooledCache}function Jn(o,a){a===null?xe(Qn,Qn.current):xe(Qn,a.pool)}function bf(){var o=Dh();return o===null?null:{parent:bi._currentValue,pool:o}}var No=Error(s(460)),Th=Error(s(474)),Ta=Error(s(542)),kl={then:function(){}};function Sf(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xf(o,a,d){switch(d=o[d],d===void 0?o.push(a):d!==a&&(a.then(fn,fn),a=d),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Ef(o),o;default:if(typeof a.status=="string")a.then(fn,fn);else{if(o=Wt,o!==null&&100<o.shellSuspendCounter)throw Error(s(482));o=a,o.status="pending",o.then(function(f){if(a.status==="pending"){var x=a;x.status="fulfilled",x.value=f}},function(f){if(a.status==="pending"){var x=a;x.status="rejected",x.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,Ef(o),o}throw xr=a,No}}function Sr(o){try{var a=o._init;return a(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(xr=d,No):d}}var xr=null;function Rf(){if(xr===null)throw Error(s(459));var o=xr;return xr=null,o}function Ef(o){if(o===No||o===Ta)throw Error(s(483))}var eo=null,Rr=0;function vu(o){var a=Rr;return Rr+=1,eo===null&&(eo=[]),xf(eo,o,a)}function Ll(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function wu(o,a){throw a.$$typeof===F?Error(s(525)):(o=Object.prototype.toString.call(a),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function to(o){function a(ae,oe){if(o){var ce=ae.deletions;ce===null?(ae.deletions=[oe],ae.flags|=16):ce.push(oe)}}function d(ae,oe){if(!o)return null;for(;oe!==null;)a(ae,oe),oe=oe.sibling;return null}function f(ae){for(var oe=new Map;ae!==null;)ae.key!==null?oe.set(ae.key,ae):oe.set(ae.index,ae),ae=ae.sibling;return oe}function x(ae,oe){return ae=fi(ae,oe),ae.index=0,ae.sibling=null,ae}function M(ae,oe,ce){return ae.index=ce,o?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<oe?(ae.flags|=67108866,oe):ce):(ae.flags|=67108866,oe)):(ae.flags|=1048576,oe)}function H(ae){return o&&ae.alternate===null&&(ae.flags|=67108866),ae}function j(ae,oe,ce,Re){return oe===null||oe.tag!==6?(oe=Dl(ce,ae.mode,Re),oe.return=ae,oe):(oe=x(oe,ce),oe.return=ae,oe)}function ee(ae,oe,ce,Re){var Qe=ce.type;return Qe===V?be(ae,oe,ce.props.children,Re,ce.key):oe!==null&&(oe.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ie&&Sr(Qe)===oe.type)?(oe=x(oe,ce.props),Ll(oe,ce),oe.return=ae,oe):(oe=gu(ce.type,ce.key,ce.props,null,ae.mode,Re),Ll(oe,ce),oe.return=ae,oe)}function ue(ae,oe,ce,Re){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ce.containerInfo||oe.stateNode.implementation!==ce.implementation?(oe=Kt(ce,ae.mode,Re),oe.return=ae,oe):(oe=x(oe,ce.children||[]),oe.return=ae,oe)}function be(ae,oe,ce,Re,Qe){return oe===null||oe.tag!==7?(oe=To(ce,ae.mode,Re,Qe),oe.return=ae,oe):(oe=x(oe,ce),oe.return=ae,oe)}function Ee(ae,oe,ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Dl(""+oe,ae.mode,ce),oe.return=ae,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case k:return ce=gu(oe.type,oe.key,oe.props,null,ae.mode,ce),Ll(ce,oe),ce.return=ae,ce;case O:return oe=Kt(oe,ae.mode,ce),oe.return=ae,oe;case ie:return oe=Sr(oe),Ee(ae,oe,ce)}if(Be(oe)||Me(oe))return oe=To(oe,ae.mode,ce,null),oe.return=ae,oe;if(typeof oe.then=="function")return Ee(ae,vu(oe),ce);if(oe.$$typeof===K)return Ee(ae,Al(ae,oe),ce);wu(ae,oe)}return null}function pe(ae,oe,ce,Re){var Qe=oe!==null?oe.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Qe!==null?null:j(ae,oe,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:return ce.key===Qe?ee(ae,oe,ce,Re):null;case O:return ce.key===Qe?ue(ae,oe,ce,Re):null;case ie:return ce=Sr(ce),pe(ae,oe,ce,Re)}if(Be(ce)||Me(ce))return Qe!==null?null:be(ae,oe,ce,Re,null);if(typeof ce.then=="function")return pe(ae,oe,vu(ce),Re);if(ce.$$typeof===K)return pe(ae,oe,Al(ae,ce),Re);wu(ae,ce)}return null}function fe(ae,oe,ce,Re,Qe){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ae=ae.get(ce)||null,j(oe,ae,""+Re,Qe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case k:return ae=ae.get(Re.key===null?ce:Re.key)||null,ee(oe,ae,Re,Qe);case O:return ae=ae.get(Re.key===null?ce:Re.key)||null,ue(oe,ae,Re,Qe);case ie:return Re=Sr(Re),fe(ae,oe,ce,Re,Qe)}if(Be(Re)||Me(Re))return ae=ae.get(ce)||null,be(oe,ae,Re,Qe,null);if(typeof Re.then=="function")return fe(ae,oe,ce,vu(Re),Qe);if(Re.$$typeof===K)return fe(ae,oe,ce,Al(oe,Re),Qe);wu(oe,Re)}return null}function je(ae,oe,ce,Re){for(var Qe=null,Ht=null,Ye=oe,ft=oe=0,St=null;Ye!==null&&ft<ce.length;ft++){Ye.index>ft?(St=Ye,Ye=null):St=Ye.sibling;var Nt=pe(ae,Ye,ce[ft],Re);if(Nt===null){Ye===null&&(Ye=St);break}o&&Ye&&Nt.alternate===null&&a(ae,Ye),oe=M(Nt,oe,ft),Ht===null?Qe=Nt:Ht.sibling=Nt,Ht=Nt,Ye=St}if(ft===ce.length)return d(ae,Ye),Ct&&Xn(ae,ft),Qe;if(Ye===null){for(;ft<ce.length;ft++)Ye=Ee(ae,ce[ft],Re),Ye!==null&&(oe=M(Ye,oe,ft),Ht===null?Qe=Ye:Ht.sibling=Ye,Ht=Ye);return Ct&&Xn(ae,ft),Qe}for(Ye=f(Ye);ft<ce.length;ft++)St=fe(Ye,ae,ft,ce[ft],Re),St!==null&&(o&&St.alternate!==null&&Ye.delete(St.key===null?ft:St.key),oe=M(St,oe,ft),Ht===null?Qe=St:Ht.sibling=St,Ht=St);return o&&Ye.forEach(function(qa){return a(ae,qa)}),Ct&&Xn(ae,ft),Qe}function rt(ae,oe,ce,Re){if(ce==null)throw Error(s(151));for(var Qe=null,Ht=null,Ye=oe,ft=oe=0,St=null,Nt=ce.next();Ye!==null&&!Nt.done;ft++,Nt=ce.next()){Ye.index>ft?(St=Ye,Ye=null):St=Ye.sibling;var qa=pe(ae,Ye,Nt.value,Re);if(qa===null){Ye===null&&(Ye=St);break}o&&Ye&&qa.alternate===null&&a(ae,Ye),oe=M(qa,oe,ft),Ht===null?Qe=qa:Ht.sibling=qa,Ht=qa,Ye=St}if(Nt.done)return d(ae,Ye),Ct&&Xn(ae,ft),Qe;if(Ye===null){for(;!Nt.done;ft++,Nt=ce.next())Nt=Ee(ae,Nt.value,Re),Nt!==null&&(oe=M(Nt,oe,ft),Ht===null?Qe=Nt:Ht.sibling=Nt,Ht=Nt);return Ct&&Xn(ae,ft),Qe}for(Ye=f(Ye);!Nt.done;ft++,Nt=ce.next())Nt=fe(Ye,ae,ft,Nt.value,Re),Nt!==null&&(o&&Nt.alternate!==null&&Ye.delete(Nt.key===null?ft:Nt.key),oe=M(Nt,oe,ft),Ht===null?Qe=Nt:Ht.sibling=Nt,Ht=Nt);return o&&Ye.forEach(function(OD){return a(ae,OD)}),Ct&&Xn(ae,ft),Qe}function qt(ae,oe,ce,Re){if(typeof ce=="object"&&ce!==null&&ce.type===V&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:e:{for(var Qe=ce.key;oe!==null;){if(oe.key===Qe){if(Qe=ce.type,Qe===V){if(oe.tag===7){d(ae,oe.sibling),Re=x(oe,ce.props.children),Re.return=ae,ae=Re;break e}}else if(oe.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ie&&Sr(Qe)===oe.type){d(ae,oe.sibling),Re=x(oe,ce.props),Ll(Re,ce),Re.return=ae,ae=Re;break e}d(ae,oe);break}else a(ae,oe);oe=oe.sibling}ce.type===V?(Re=To(ce.props.children,ae.mode,Re,ce.key),Re.return=ae,ae=Re):(Re=gu(ce.type,ce.key,ce.props,null,ae.mode,Re),Ll(Re,ce),Re.return=ae,ae=Re)}return H(ae);case O:e:{for(Qe=ce.key;oe!==null;){if(oe.key===Qe)if(oe.tag===4&&oe.stateNode.containerInfo===ce.containerInfo&&oe.stateNode.implementation===ce.implementation){d(ae,oe.sibling),Re=x(oe,ce.children||[]),Re.return=ae,ae=Re;break e}else{d(ae,oe);break}else a(ae,oe);oe=oe.sibling}Re=Kt(ce,ae.mode,Re),Re.return=ae,ae=Re}return H(ae);case ie:return ce=Sr(ce),qt(ae,oe,ce,Re)}if(Be(ce))return je(ae,oe,ce,Re);if(Me(ce)){if(Qe=Me(ce),typeof Qe!="function")throw Error(s(150));return ce=Qe.call(ce),rt(ae,oe,ce,Re)}if(typeof ce.then=="function")return qt(ae,oe,vu(ce),Re);if(ce.$$typeof===K)return qt(ae,oe,Al(ae,ce),Re);wu(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,oe!==null&&oe.tag===6?(d(ae,oe.sibling),Re=x(oe,ce),Re.return=ae,ae=Re):(d(ae,oe),Re=Dl(ce,ae.mode,Re),Re.return=ae,ae=Re),H(ae)):d(ae,oe)}return function(ae,oe,ce,Re){try{Rr=0;var Qe=qt(ae,oe,ce,Re);return eo=null,Qe}catch(Ye){if(Ye===No||Ye===Ta)throw Ye;var Ht=Es(29,Ye,null,ae.mode);return Ht.lanes=Re,Ht.return=ae,Ht}finally{}}}var bn=to(!0),Fh=to(!1),ss=!1;function Ph(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yu(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Go(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Bs(o,a,d){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(yt&2)!==0){var x=f.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),f.pending=a,a=hu(o),du(o,null,d),a}return cu(o,f,a,d),hu(o)}function Vs(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194048)!==0)){var f=a.lanes;f&=o.pendingLanes,d|=f,a.lanes=d,Wc(o,d)}}function Ah(o,a){var d=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var x=null,M=null;if(d=d.firstBaseUpdate,d!==null){do{var H={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};M===null?x=M=H:M=M.next=H,d=d.next}while(d!==null);M===null?x=M=a:M=M.next=a}else x=M=a;d={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:M,shared:f.shared,callbacks:f.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}var Ol=!1;function Il(){if(Ol){var o=Ho;if(o!==null)throw o}}function Hl(o,a,d,f){Ol=!1;var x=o.updateQueue;ss=!1;var M=x.firstBaseUpdate,H=x.lastBaseUpdate,j=x.shared.pending;if(j!==null){x.shared.pending=null;var ee=j,ue=ee.next;ee.next=null,H===null?M=ue:H.next=ue,H=ee;var be=o.alternate;be!==null&&(be=be.updateQueue,j=be.lastBaseUpdate,j!==H&&(j===null?be.firstBaseUpdate=ue:j.next=ue,be.lastBaseUpdate=ee))}if(M!==null){var Ee=x.baseState;H=0,be=ue=ee=null,j=M;do{var pe=j.lane&-536870913,fe=pe!==j.lane;if(fe?(wt&pe)===pe:(f&pe)===pe){pe!==0&&pe===Da&&(Ol=!0),be!==null&&(be=be.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var je=o,rt=j;pe=a;var qt=d;switch(rt.tag){case 1:if(je=rt.payload,typeof je=="function"){Ee=je.call(qt,Ee,pe);break e}Ee=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=rt.payload,pe=typeof je=="function"?je.call(qt,Ee,pe):je,pe==null)break e;Ee=R({},Ee,pe);break e;case 2:ss=!0}}pe=j.callback,pe!==null&&(o.flags|=64,fe&&(o.flags|=8192),fe=x.callbacks,fe===null?x.callbacks=[pe]:fe.push(pe))}else fe={lane:pe,tag:j.tag,payload:j.payload,callback:j.callback,next:null},be===null?(ue=be=fe,ee=Ee):be=be.next=fe,H|=pe;if(j=j.next,j===null){if(j=x.shared.pending,j===null)break;fe=j,j=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);be===null&&(ee=Ee),x.baseState=ee,x.firstBaseUpdate=ue,x.lastBaseUpdate=be,M===null&&(x.shared.lanes=0),qo|=H,o.lanes=H,o.memoizedState=Ee}}function Ts(o,a){if(typeof o!="function")throw Error(s(191,o));o.call(a)}function Mf(o,a){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)Ts(d[o],a)}var Bo=J(null),Fa=J(0);function kh(o,a){o=co,xe(Fa,o),xe(Bo,a),co=o|a.baseLanes}function Sn(){xe(Fa,co),xe(Bo,Bo.current)}function Pa(){co=Fa.current,le(Bo),le(Fa)}var Wi=J(null),zs=null;function Vo(o){var a=o.alternate;xe(ri,ri.current&1),xe(Wi,o),zs===null&&(a===null||Bo.current!==null||a.memoizedState!==null)&&(zs=o)}function _s(o){xe(ri,ri.current),xe(Wi,o),zs===null&&(zs=o)}function Df(o){o.tag===22?(xe(ri,ri.current),xe(Wi,o),zs===null&&(zs=o)):io()}function io(){xe(ri,ri.current),xe(Wi,Wi.current)}function Ft(o){le(Wi),zs===o&&(zs=null),le(ri)}var ri=J(0);function bu(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||qs(d)||Ln(d)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var xn=0,lt=null,Dt=null,ii=null,Er=!1,Aa=!1,Mr=!1,Nl=0,ka=0,Dr=null,Ov=0;function ai(){throw Error(s(321))}function Lh(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!xs(o[d],a[d]))return!1;return!0}function Zt(o,a,d,f,x,M){return xn=M,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ge.H=o===null||o.memoizedState===null?Kh:Wl,Mr=!1,M=d(f,x),Mr=!1,Aa&&(M=Tf(a,d,f,x)),Oh(o),M}function Oh(o){ge.H=Pr;var a=Dt!==null&&Dt.next!==null;if(xn=0,ii=Dt=lt=null,Er=!1,ka=0,Dr=null,a)throw Error(s(300));o===null||li||(o=o.dependencies,o!==null&&Cu(o)&&(li=!0))}function Tf(o,a,d,f){lt=o;var x=0;do{if(Aa&&(Dr=null),ka=0,Aa=!1,25<=x)throw Error(s(301));if(x+=1,ii=Dt=null,o.updateQueue!=null){var M=o.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}ge.H=js,M=a(d,f)}while(Aa);return M}function Su(){var o=ge.H,a=o.useState()[0];return a=typeof a.then=="function"?Oa(a):a,o=o.useState()[0],(Dt!==null?Dt.memoizedState:null)!==o&&(lt.flags|=1024),a}function Ih(){var o=Nl!==0;return Nl=0,o}function Hh(o,a,d){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~d}function Nh(o){if(Er){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Er=!1}xn=0,ii=Dt=lt=null,Aa=!1,ka=Nl=0,Dr=null}function Si(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?lt.memoizedState=ii=o:ii=ii.next=o,ii}function mi(){if(Dt===null){var o=lt.alternate;o=o!==null?o.memoizedState:null}else o=Dt.next;var a=ii===null?lt.memoizedState:ii.next;if(a!==null)ii=a,Dt=o;else{if(o===null)throw lt.alternate===null?Error(s(467)):Error(s(310));Dt=o,o={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ii===null?lt.memoizedState=ii=o:ii=ii.next=o}return ii}function La(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(o){var a=ka;return ka+=1,Dr===null&&(Dr=[]),o=xf(Dr,o,a),a=lt,(ii===null?a.memoizedState:ii.next)===null&&(a=a.alternate,ge.H=a===null||a.memoizedState===null?Kh:Wl),o}function Gl(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Oa(o);if(o.$$typeof===K)return Bi(o)}throw Error(s(438,String(o)))}function xu(o){var a=null,d=lt.updateQueue;if(d!==null&&(a=d.memoCache),a==null){var f=lt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(x){return x.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),d===null&&(d=La(),lt.updateQueue=d),d.memoCache=a,d=a.data[a.index],d===void 0)for(d=a.data[a.index]=Array(o),f=0;f<o;f++)d[f]=Pe;return a.index++,d}function so(o,a){return typeof a=="function"?a(o):a}function ni(o){var a=mi();return Gh(a,Dt,o)}function Gh(o,a,d){var f=o.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=d;var x=o.baseQueue,M=f.pending;if(M!==null){if(x!==null){var H=x.next;x.next=M.next,M.next=H}a.baseQueue=x=M,f.pending=null}if(M=o.baseState,x===null)o.memoizedState=M;else{a=x.next;var j=H=null,ee=null,ue=a,be=!1;do{var Ee=ue.lane&-536870913;if(Ee!==ue.lane?(wt&Ee)===Ee:(xn&Ee)===Ee){var pe=ue.revertLane;if(pe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Ee===Da&&(be=!0);else if((xn&pe)===pe){ue=ue.next,pe===Da&&(be=!0);continue}else Ee={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},ee===null?(j=ee=Ee,H=M):ee=ee.next=Ee,lt.lanes|=pe,qo|=pe;Ee=ue.action,Mr&&d(M,Ee),M=ue.hasEagerState?ue.eagerState:d(M,Ee)}else pe={lane:Ee,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},ee===null?(j=ee=pe,H=M):ee=ee.next=pe,lt.lanes|=Ee,qo|=Ee;ue=ue.next}while(ue!==null&&ue!==a);if(ee===null?H=M:ee.next=j,!xs(M,o.memoizedState)&&(li=!0,be&&(d=Ho,d!==null)))throw d;o.memoizedState=M,o.baseState=H,o.baseQueue=ee,f.lastRenderedState=M}return x===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function Bh(o){var a=mi(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var f=d.dispatch,x=d.pending,M=a.memoizedState;if(x!==null){d.pending=null;var H=x=x.next;do M=o(M,H.action),H=H.next;while(H!==x);xs(M,a.memoizedState)||(li=!0),a.memoizedState=M,a.baseQueue===null&&(a.baseState=M),d.lastRenderedState=M}return[M,f]}function Vh(o,a,d){var f=lt,x=mi(),M=Ct;if(M){if(d===void 0)throw Error(s(407));d=d()}else d=a();var H=!xs((Dt||x).memoizedState,d);if(H&&(x.memoizedState=d,li=!0),x=x.queue,Ha(Ff.bind(null,f,x,o),[o]),x.getSnapshot!==a||H||ii!==null&&ii.memoizedState.tag&1){if(f.flags|=2048,Fr(9,{destroy:void 0},Tr.bind(null,f,x,d,a),null),Wt===null)throw Error(s(349));M||(xn&127)!==0||Bl(f,a,d)}return d}function Bl(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=lt.updateQueue,a===null?(a=La(),lt.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function Tr(o,a,d,f){a.value=d,a.getSnapshot=f,Qt(a)&&Pf(o)}function Ff(o,a,d){return d(function(){Qt(a)&&Pf(o)})}function Qt(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!xs(o,d)}catch{return!0}}function Pf(o){var a=yr(o,2);a!==null&&os(a,o,2)}function Ru(o){var a=Si();if(typeof o=="function"){var d=o;if(o=d(),Mr){vo(!0);try{d()}finally{vo(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:o},a}function zh(o,a,d,f){return o.baseState=d,Gh(o,Dt,typeof f=="function"?f:so)}function Af(o,a,d,f,x){if(ku(o))throw Error(s(485));if(o=a.action,o!==null){var M={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){M.listeners.push(H)}};ge.T!==null?d(!0):M.isTransition=!1,f(M),d=a.pending,d===null?(M.next=a.pending=M,xi(a,M)):(M.next=d.next,a.pending=d.next=M)}}function xi(o,a){var d=a.action,f=a.payload,x=o.state;if(a.isTransition){var M=ge.T,H={};ge.T=H;try{var j=d(x,f),ee=ge.S;ee!==null&&ee(H,j),kf(o,a,j)}catch(ue){Vl(o,a,ue)}finally{M!==null&&H.types!==null&&(M.types=H.types),ge.T=M}}else try{M=d(x,f),kf(o,a,M)}catch(ue){Vl(o,a,ue)}}function kf(o,a,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){Ia(o,a,f)},function(f){return Vl(o,a,f)}):Ia(o,a,d)}function Ia(o,a,d){a.status="fulfilled",a.value=d,Jt(a),o.state=d,a=o.pending,a!==null&&(d=a.next,d===a?o.pending=null:(d=d.next,a.next=d,xi(o,d)))}function Vl(o,a,d){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=d,Jt(a),a=a.next;while(a!==f)}o.action=null}function Jt(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function Lf(o,a){return a}function _h(o,a){if(Ct){var d=Wt.formState;if(d!==null){e:{var f=lt;if(Ct){if(Xt){t:{for(var x=Xt,M=Ds;x.nodeType!==8;){if(!M){x=null;break t}if(x=Yi(x.nextSibling),x===null){x=null;break t}}M=x.data,x=M==="F!"||M==="F"?x:null}if(x){Xt=Yi(x.nextSibling),f=x.data==="F!";break e}}ko(f)}f=!1}f&&(a=d[0])}}return d=Si(),d.memoizedState=d.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:a},d.queue=f,d=_o.bind(null,lt,f),f.dispatch=d,f=Ru(!1),M=Au.bind(null,lt,!1,f.queue),f=Si(),x={state:a,dispatch:null,action:o,pending:null},f.queue=x,d=Af.bind(null,lt,x,M,d),x.dispatch=d,f.memoizedState=o,[a,d,!1]}function Ws(o){var a=mi();return ns(a,Dt,o)}function ns(o,a,d){if(a=Gh(o,a,Lf)[0],o=ni(so)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Oa(a)}catch(H){throw H===No?Ta:H}else f=a;a=mi();var x=a.queue,M=x.dispatch;return d!==a.memoizedState&&(lt.flags|=2048,Fr(9,{destroy:void 0},Iv.bind(null,x,d),null)),[f,M,o]}function Iv(o,a){o.action=a}function Of(o){var a=mi(),d=Dt;if(d!==null)return ns(a,d,o);mi(),a=a.memoizedState,d=mi();var f=d.queue.dispatch;return d.memoizedState=o,[a,f,!1]}function Fr(o,a,d,f){return o={tag:o,create:d,deps:f,inst:a,next:null},a=lt.updateQueue,a===null&&(a=La(),lt.updateQueue=a),d=a.lastEffect,d===null?a.lastEffect=o.next=o:(f=d.next,d.next=o,o.next=f,a.lastEffect=o),o}function If(){return mi().memoizedState}function zl(o,a,d,f){var x=Si();lt.flags|=o,x.memoizedState=Fr(1|a,{destroy:void 0},d,f===void 0?null:f)}function Eu(o,a,d,f){var x=mi();f=f===void 0?null:f;var M=x.memoizedState.inst;Dt!==null&&f!==null&&Lh(f,Dt.memoizedState.deps)?x.memoizedState=Fr(a,M,d,f):(lt.flags|=o,x.memoizedState=Fr(1|a,M,d,f))}function Hf(o,a){zl(8390656,8,o,a)}function Ha(o,a){Eu(2048,8,o,a)}function Hv(o){lt.flags|=4;var a=lt.updateQueue;if(a===null)a=La(),lt.updateQueue=a,a.events=[o];else{var d=a.events;d===null?a.events=[o]:d.push(o)}}function Nf(o){var a=mi().memoizedState;return Hv({ref:a,nextImpl:o}),function(){if((yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Mu(o,a){return Eu(4,2,o,a)}function Gf(o,a){return Eu(4,4,o,a)}function Bf(o,a){if(typeof a=="function"){o=o();var d=a(o);return function(){typeof d=="function"?d():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Rn(o,a,d){d=d!=null?d.concat([o]):null,Eu(4,4,Bf.bind(null,a,o),d)}function Du(){}function zo(o,a){var d=mi();a=a===void 0?null:a;var f=d.memoizedState;return a!==null&&Lh(a,f[1])?f[0]:(d.memoizedState=[o,a],o)}function Us(o,a){var d=mi();a=a===void 0?null:a;var f=d.memoizedState;if(a!==null&&Lh(a,f[1]))return f[0];if(f=o(),Mr){vo(!0);try{o()}finally{vo(!1)}}return d.memoizedState=[f,a],f}function Wh(o,a,d){return d===void 0||(xn&1073741824)!==0&&(wt&261930)===0?o.memoizedState=a:(o.memoizedState=d,o=um(),lt.lanes|=o,qo|=o,d)}function Vf(o,a,d,f){return xs(d,a)?d:Bo.current!==null?(o=Wh(o,d,f),xs(o,a)||(li=!0),o):(xn&42)===0||(xn&1073741824)!==0&&(wt&261930)===0?(li=!0,o.memoizedState=d):(o=um(),lt.lanes|=o,qo|=o,a)}function zf(o,a,d,f,x){var M=De.p;De.p=M!==0&&8>M?M:8;var H=ge.T,j={};ge.T=j,Au(o,!1,a,d);try{var ee=x(),ue=ge.S;if(ue!==null&&ue(j,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var be=Lv(ee,f);no(o,a,be,fs(o))}else no(o,a,f,fs(o))}catch(Ee){no(o,a,{then:function(){},status:"rejected",reason:Ee},fs())}finally{De.p=M,H!==null&&j.types!==null&&(H.types=j.types),ge.T=H}}function Nv(){}function _l(o,a,d,f){if(o.tag!==5)throw Error(s(476));var x=Uh(o).queue;zf(o,x,a,Ae,d===null?Nv:function(){return Tu(o),d(f)})}function Uh(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:Ae},next:null};var d={};return a.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:d},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function Tu(o){var a=Uh(o);a.next===null&&(a=o.alternate.memoizedState),no(o,a.next.queue,{},fs())}function jh(){return Bi(Fg)}function Fu(){return mi().memoizedState}function Pu(){return mi().memoizedState}function Gv(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var d=fs();o=Go(d);var f=Bs(a,o,d);f!==null&&(os(f,a,d),Vs(f,a,d)),a={cache:Eh()},o.payload=a;return}a=a.return}}function _f(o,a,d){var f=fs();d={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ku(o)?$h(a,d):(d=uu(o,a,d,f),d!==null&&(os(d,o,f),Lu(d,a,f)))}function _o(o,a,d){var f=fs();no(o,a,d,f)}function no(o,a,d,f){var x={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ku(o))$h(a,x);else{var M=o.alternate;if(o.lanes===0&&(M===null||M.lanes===0)&&(M=a.lastRenderedReducer,M!==null))try{var H=a.lastRenderedState,j=M(H,d);if(x.hasEagerState=!0,x.eagerState=j,xs(j,H))return cu(o,a,x,0),Wt===null&&Yn(),!1}catch{}finally{}if(d=uu(o,a,x,f),d!==null)return os(d,o,f),Lu(d,a,f),!0}return!1}function Au(o,a,d,f){if(f={lane:2,revertLane:Rg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ku(o)){if(a)throw Error(s(479))}else a=uu(o,d,f,2),a!==null&&os(a,o,2)}function ku(o){var a=o.alternate;return o===lt||a!==null&&a===lt}function $h(o,a){Aa=Er=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function Lu(o,a,d){if((d&4194048)!==0){var f=a.lanes;f&=o.pendingLanes,d|=f,a.lanes=d,Wc(o,d)}}var Pr={readContext:Bi,use:Gl,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useInsertionEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useSyncExternalStore:ai,useId:ai,useHostTransitionStatus:ai,useFormState:ai,useActionState:ai,useOptimistic:ai,useMemoCache:ai,useCacheRefresh:ai};Pr.useEffectEvent=ai;var Kh={readContext:Bi,use:Gl,useCallback:function(o,a){return Si().memoizedState=[o,a===void 0?null:a],o},useContext:Bi,useEffect:Hf,useImperativeHandle:function(o,a,d){d=d!=null?d.concat([o]):null,zl(4194308,4,Bf.bind(null,a,o),d)},useLayoutEffect:function(o,a){return zl(4194308,4,o,a)},useInsertionEffect:function(o,a){zl(4,2,o,a)},useMemo:function(o,a){var d=Si();a=a===void 0?null:a;var f=o();if(Mr){vo(!0);try{o()}finally{vo(!1)}}return d.memoizedState=[f,a],f},useReducer:function(o,a,d){var f=Si();if(d!==void 0){var x=d(a);if(Mr){vo(!0);try{d(a)}finally{vo(!1)}}}else x=a;return f.memoizedState=f.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},f.queue=o,o=o.dispatch=_f.bind(null,lt,o),[f.memoizedState,o]},useRef:function(o){var a=Si();return o={current:o},a.memoizedState=o},useState:function(o){o=Ru(o);var a=o.queue,d=_o.bind(null,lt,a);return a.dispatch=d,[o.memoizedState,d]},useDebugValue:Du,useDeferredValue:function(o,a){var d=Si();return Wh(d,o,a)},useTransition:function(){var o=Ru(!1);return o=zf.bind(null,lt,o.queue,!0,!1),Si().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,d){var f=lt,x=Si();if(Ct){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),Wt===null)throw Error(s(349));(wt&127)!==0||Bl(f,a,d)}x.memoizedState=d;var M={value:d,getSnapshot:a};return x.queue=M,Hf(Ff.bind(null,f,M,o),[o]),f.flags|=2048,Fr(9,{destroy:void 0},Tr.bind(null,f,M,d,a),null),d},useId:function(){var o=Si(),a=Wt.identifierPrefix;if(Ct){var d=vn,f=Ms;d=(f&~(1<<32-bs(f)-1)).toString(32)+d,a="_"+a+"R_"+d,d=Nl++,0<d&&(a+="H"+d.toString(32)),a+="_"}else d=Ov++,a="_"+a+"r_"+d.toString(32)+"_";return o.memoizedState=a},useHostTransitionStatus:jh,useFormState:_h,useActionState:_h,useOptimistic:function(o){var a=Si();a.memoizedState=a.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=d,a=Au.bind(null,lt,!0,d),d.dispatch=a,[o,a]},useMemoCache:xu,useCacheRefresh:function(){return Si().memoizedState=Gv.bind(null,lt)},useEffectEvent:function(o){var a=Si(),d={impl:o};return a.memoizedState=d,function(){if((yt&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},Wl={readContext:Bi,use:Gl,useCallback:zo,useContext:Bi,useEffect:Ha,useImperativeHandle:Rn,useInsertionEffect:Mu,useLayoutEffect:Gf,useMemo:Us,useReducer:ni,useRef:If,useState:function(){return ni(so)},useDebugValue:Du,useDeferredValue:function(o,a){var d=mi();return Vf(d,Dt.memoizedState,o,a)},useTransition:function(){var o=ni(so)[0],a=mi().memoizedState;return[typeof o=="boolean"?o:Oa(o),a]},useSyncExternalStore:Vh,useId:Fu,useHostTransitionStatus:jh,useFormState:Ws,useActionState:Ws,useOptimistic:function(o,a){var d=mi();return zh(d,Dt,o,a)},useMemoCache:xu,useCacheRefresh:Pu};Wl.useEffectEvent=Nf;var js={readContext:Bi,use:Gl,useCallback:zo,useContext:Bi,useEffect:Ha,useImperativeHandle:Rn,useInsertionEffect:Mu,useLayoutEffect:Gf,useMemo:Us,useReducer:Bh,useRef:If,useState:function(){return Bh(so)},useDebugValue:Du,useDeferredValue:function(o,a){var d=mi();return Dt===null?Wh(d,o,a):Vf(d,Dt.memoizedState,o,a)},useTransition:function(){var o=Bh(so)[0],a=mi().memoizedState;return[typeof o=="boolean"?o:Oa(o),a]},useSyncExternalStore:Vh,useId:Fu,useHostTransitionStatus:jh,useFormState:Of,useActionState:Of,useOptimistic:function(o,a){var d=mi();return Dt!==null?zh(d,Dt,o,a):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:xu,useCacheRefresh:Pu};js.useEffectEvent=Nf;function En(o,a,d,f){a=o.memoizedState,d=d(f,a),d=d==null?a:R({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ou={enqueueSetState:function(o,a,d){o=o._reactInternals;var f=fs(),x=Go(f);x.payload=a,d!=null&&(x.callback=d),a=Bs(o,x,f),a!==null&&(os(a,o,f),Vs(a,o,f))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var f=fs(),x=Go(f);x.tag=1,x.payload=a,d!=null&&(x.callback=d),a=Bs(o,x,f),a!==null&&(os(a,o,f),Vs(a,o,f))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=fs(),f=Go(d);f.tag=2,a!=null&&(f.callback=a),a=Bs(o,f,d),a!==null&&(os(a,o,d),Vs(a,o,d))}};function Wf(o,a,d,f,x,M,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,M,H):a.prototype&&a.prototype.isPureReactComponent?!Rl(d,f)||!Rl(x,M):!0}function Uf(o,a,d,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,f),a.state!==o&&Ou.enqueueReplaceState(a,a.state,null)}function oo(o,a){var d=a;if("ref"in a){d={};for(var f in a)f!=="ref"&&(d[f]=a[f])}if(o=o.defaultProps){d===a&&(d=R({},d));for(var x in o)d[x]===void 0&&(d[x]=o[x])}return d}function ro(o){wr(o)}function Iu(o){console.error(o)}function vt(o){wr(o)}function Hu(o,a){try{var d=o.onUncaughtError;d(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Nu(o,a,d){try{var f=o.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function qh(o,a,d){return d=Go(d),d.tag=3,d.payload={element:null},d.callback=function(){Hu(o,a)},d}function Ar(o){return o=Go(o),o.tag=3,o}function jf(o,a,d,f){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var M=f.value;o.payload=function(){return x(M)},o.callback=function(){Nu(a,d,f)}}var H=d.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(o.callback=function(){Nu(a,d,f),typeof x!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function Gu(o,a,d,f,x){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=d.alternate,a!==null&&Ea(a,d,x,!0),d=Wi.current,d!==null){switch(d.tag){case 31:case 13:return zs===null?nc():d.alternate===null&&ui===0&&(ui=3),d.flags&=-257,d.flags|=65536,d.lanes=x,f===kl?d.flags|=16384:(a=d.updateQueue,a===null?d.updateQueue=new Set([f]):a.add(f),rd(o,f,x)),!1;case 22:return d.flags|=65536,f===kl?d.flags|=16384:(a=d.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=a):(d=a.retryQueue,d===null?a.retryQueue=new Set([f]):d.add(f)),rd(o,f,x)),!1}throw Error(s(435,d.tag))}return rd(o,f,x),nc(),!1}if(Ct)return a=Wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=x,f!==Sh&&(o=Error(s(422),{cause:f}),Pl(Ns(o,d)))):(f!==Sh&&(a=Error(s(423),{cause:f}),Pl(Ns(a,d))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,f=Ns(f,d),x=qh(o.stateNode,f,x),Ah(o,x),ui!==4&&(ui=2)),!1;var M=Error(s(520),{cause:f});if(M=Ns(M,d),tc===null?tc=[M]:tc.push(M),ui!==4&&(ui=2),a===null)return!0;f=Ns(f,d),d=a;do{switch(d.tag){case 3:return d.flags|=65536,o=x&-x,d.lanes|=o,o=qh(d.stateNode,f,o),Ah(d,o),!1;case 1:if(a=d.type,M=d.stateNode,(d.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ln===null||!ln.has(M))))return d.flags|=65536,x&=-x,d.lanes|=x,x=Ar(x),jf(x,o,d,f),Ah(d,x),!1}d=d.return}while(d!==null);return!1}var $s=Error(s(461)),li=!1;function Pt(o,a,d,f){a.child=o===null?Fh(a,null,d,f):bn(a,o.child,d,f)}function $f(o,a,d,f,x){d=d.render;var M=a.ref;if("ref"in f){var H={};for(var j in f)j!=="ref"&&(H[j]=f[j])}else H=f;return wn(a),f=Zt(o,a,d,H,M,x),j=Ih(),o!==null&&!li?(Hh(o,a,x),nn(o,a,x)):(Ct&&j&&pu(a),a.flags|=1,Pt(o,a,f,x),a.child)}function Yh(o,a,d,f,x){if(o===null){var M=d.type;return typeof M=="function"&&!Ml(M)&&M.defaultProps===void 0&&d.compare===null?(a.tag=15,a.type=M,Xh(o,a,M,f,x)):(o=gu(d.type,null,f,a,a.mode,x),o.ref=a.ref,o.return=a,a.child=o)}if(M=o.child,!Lr(o,x)){var H=M.memoizedProps;if(d=d.compare,d=d!==null?d:Rl,d(H,f)&&o.ref===a.ref)return nn(o,a,x)}return a.flags|=1,o=fi(M,f),o.ref=a.ref,o.return=a,a.child=o}function Xh(o,a,d,f,x){if(o!==null){var M=o.memoizedProps;if(Rl(M,f)&&o.ref===a.ref)if(li=!1,a.pendingProps=f=M,Lr(o,x))(o.flags&131072)!==0&&(li=!0);else return a.lanes=o.lanes,nn(o,a,x)}return Na(o,a,d,f,x)}function Ul(o,a,d,f){var x=f.children,M=o!==null?o.memoizedState:null;if(o===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(M=M!==null?M.baseLanes|d:d,o!==null){for(f=a.child=o.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~M}else f=0,a.child=null;return Kf(o,a,M,d,f)}if((d&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&Jn(a,M!==null?M.cachePool:null),M!==null?kh(a,M):Sn(),Df(a);else return f=a.lanes=536870912,Kf(o,a,M!==null?M.baseLanes|d:d,d,f)}else M!==null?(Jn(a,M.cachePool),kh(a,M),io(),a.memoizedState=null):(o!==null&&Jn(a,null),Sn(),io());return Pt(o,a,x,d),a.child}function jl(o,a){return o!==null&&o.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Kf(o,a,d,f,x){var M=Dh();return M=M===null?null:{parent:bi._currentValue,pool:M},a.memoizedState={baseLanes:d,cachePool:M},o!==null&&Jn(a,null),Sn(),Df(a),o!==null&&Ea(o,a,f,!0),a.childLanes=x,null}function tn(o,a){return a=Wu({mode:a.mode,children:a.children},o.mode),a.ref=o.ref,o.child=a,a.return=o,a}function qf(o,a,d){return bn(a,o.child,null,d),o=tn(a,a.pendingProps),o.flags|=2,Ft(a),a.memoizedState=null,o}function Bv(o,a,d){var f=a.pendingProps,x=(a.flags&128)!==0;if(a.flags&=-129,o===null){if(Ct){if(f.mode==="hidden")return o=tn(a,f),a.lanes=536870912,jl(null,o);if(_s(a),(o=Xt)?(o=qi(o,Ds),o=o!==null&&o.data==="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ot!==null?{id:Ms,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},d=Tl(o),d.return=a,a.child=d,Gi=a,Xt=null)):o=null,o===null)throw ko(a);return a.lanes=536870912,null}return tn(a,f)}var M=o.memoizedState;if(M!==null){var H=M.dehydrated;if(_s(a),x)if(a.flags&256)a.flags&=-257,a=qf(o,a,d);else if(a.memoizedState!==null)a.child=o.child,a.flags|=128,a=null;else throw Error(s(558));else if(li||Ea(o,a,d,!1),x=(d&o.childLanes)!==0,li||x){if(f=Wt,f!==null&&(H=Lp(f,d),H!==0&&H!==M.retryLane))throw M.retryLane=H,yr(o,H),os(f,o,H),$s;nc(),a=qf(o,a,d)}else o=M.treeContext,Xt=Yi(H.nextSibling),Gi=a,Ct=!0,Ao=null,Ds=!1,o!==null&&gf(a,o),a=tn(a,f),a.flags|=4096;return a}return o=fi(o.child,{mode:f.mode,children:f.children}),o.ref=a.ref,a.child=o,o.return=a,o}function sn(o,a){var d=a.ref;if(d===null)o!==null&&o.ref!==null&&(a.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(o===null||o.ref!==d)&&(a.flags|=4194816)}}function Na(o,a,d,f,x){return wn(a),d=Zt(o,a,d,f,void 0,x),f=Ih(),o!==null&&!li?(Hh(o,a,x),nn(o,a,x)):(Ct&&f&&pu(a),a.flags|=1,Pt(o,a,d,x),a.child)}function Bu(o,a,d,f,x,M){return wn(a),a.updateQueue=null,d=Tf(a,f,d,x),Oh(o),f=Ih(),o!==null&&!li?(Hh(o,a,M),nn(o,a,M)):(Ct&&f&&pu(a),a.flags|=1,Pt(o,a,d,M),a.child)}function Vu(o,a,d,f,x){if(wn(a),a.stateNode===null){var M=xa,H=d.contextType;typeof H=="object"&&H!==null&&(M=Bi(H)),M=new d(f,M),a.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ou,a.stateNode=M,M._reactInternals=a,M=a.stateNode,M.props=f,M.state=a.memoizedState,M.refs={},Ph(a),H=d.contextType,M.context=typeof H=="object"&&H!==null?Bi(H):xa,M.state=a.memoizedState,H=d.getDerivedStateFromProps,typeof H=="function"&&(En(a,d,H,f),M.state=a.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(H=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),H!==M.state&&Ou.enqueueReplaceState(M,M.state,null),Hl(a,f,M,x),Il(),M.state=a.memoizedState),typeof M.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(o===null){M=a.stateNode;var j=a.memoizedProps,ee=oo(d,j);M.props=ee;var ue=M.context,be=d.contextType;H=xa,typeof be=="object"&&be!==null&&(H=Bi(be));var Ee=d.getDerivedStateFromProps;be=typeof Ee=="function"||typeof M.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,be||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j||ue!==H)&&Uf(a,M,f,H),ss=!1;var pe=a.memoizedState;M.state=pe,Hl(a,f,M,x),Il(),ue=a.memoizedState,j||pe!==ue||ss?(typeof Ee=="function"&&(En(a,d,Ee,f),ue=a.memoizedState),(ee=ss||Wf(a,d,ee,f,pe,ue,H))?(be||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ue),M.props=f,M.state=ue,M.context=H,f=ee):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{M=a.stateNode,yu(o,a),H=a.memoizedProps,be=oo(d,H),M.props=be,Ee=a.pendingProps,pe=M.context,ue=d.contextType,ee=xa,typeof ue=="object"&&ue!==null&&(ee=Bi(ue)),j=d.getDerivedStateFromProps,(ue=typeof j=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==Ee||pe!==ee)&&Uf(a,M,f,ee),ss=!1,pe=a.memoizedState,M.state=pe,Hl(a,f,M,x),Il();var fe=a.memoizedState;H!==Ee||pe!==fe||ss||o!==null&&o.dependencies!==null&&Cu(o.dependencies)?(typeof j=="function"&&(En(a,d,j,f),fe=a.memoizedState),(be=ss||Wf(a,d,be,f,pe,fe,ee)||o!==null&&o.dependencies!==null&&Cu(o.dependencies))?(ue||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(f,fe,ee),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(f,fe,ee)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===o.memoizedProps&&pe===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&pe===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=fe),M.props=f,M.state=fe,M.context=ee,f=be):(typeof M.componentDidUpdate!="function"||H===o.memoizedProps&&pe===o.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&pe===o.memoizedState||(a.flags|=1024),f=!1)}return M=f,sn(o,a),f=(a.flags&128)!==0,M||f?(M=a.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:M.render(),a.flags|=1,o!==null&&f?(a.child=bn(a,o.child,null,x),a.child=bn(a,null,d,x)):Pt(o,a,d,x),a.memoizedState=M.state,o=a.child):o=nn(o,a,x),o}function Yf(o,a,d,f){return Lo(),a.flags|=256,Pt(o,a,d,f),a.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _u(o){return{baseLanes:o,cachePool:bf()}}function Zh(o,a,d){return o=o!==null?o.childLanes&~d:0,a&&(o|=Fs),o}function Qh(o,a,d){var f=a.pendingProps,x=!1,M=(a.flags&128)!==0,H;if((H=M)||(H=o!==null&&o.memoizedState===null?!1:(ri.current&2)!==0),H&&(x=!0,a.flags&=-129),H=(a.flags&32)!==0,a.flags&=-33,o===null){if(Ct){if(x?Vo(a):io(),(o=Xt)?(o=qi(o,Ds),o=o!==null&&o.data!=="&"?o:null,o!==null&&(a.memoizedState={dehydrated:o,treeContext:ot!==null?{id:Ms,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},d=Tl(o),d.return=a,a.child=d,Gi=a,Xt=null)):o=null,o===null)throw ko(a);return Ln(o)?a.lanes=32:a.lanes=536870912,null}var j=f.children;return f=f.fallback,x?(io(),x=a.mode,j=Wu({mode:"hidden",children:j},x),f=To(f,x,d,null),j.return=a,f.return=a,j.sibling=f,a.child=j,f=a.child,f.memoizedState=_u(d),f.childLanes=Zh(o,H,d),a.memoizedState=zu,jl(null,f)):(Vo(a),kr(a,j))}var ee=o.memoizedState;if(ee!==null&&(j=ee.dehydrated,j!==null)){if(M)a.flags&256?(Vo(a),a.flags&=-257,a=Jh(o,a,d)):a.memoizedState!==null?(io(),a.child=o.child,a.flags|=128,a=null):(io(),j=f.fallback,x=a.mode,f=Wu({mode:"visible",children:f.children},x),j=To(j,x,d,null),j.flags|=2,f.return=a,j.return=a,f.sibling=j,a.child=f,bn(a,o.child,null,d),f=a.child,f.memoizedState=_u(d),f.childLanes=Zh(o,H,d),a.memoizedState=zu,a=jl(null,f));else if(Vo(a),Ln(j)){if(H=j.nextSibling&&j.nextSibling.dataset,H)var ue=H.dgst;H=ue,f=Error(s(419)),f.stack="",f.digest=H,Pl({value:f,source:null,stack:null}),a=Jh(o,a,d)}else if(li||Ea(o,a,d,!1),H=(d&o.childLanes)!==0,li||H){if(H=Wt,H!==null&&(f=Lp(H,d),f!==0&&f!==ee.retryLane))throw ee.retryLane=f,yr(o,f),os(H,o,f),$s;qs(j)||nc(),a=Jh(o,a,d)}else qs(j)?(a.flags|=192,a.child=o.child,a=null):(o=ee.treeContext,Xt=Yi(j.nextSibling),Gi=a,Ct=!0,Ao=null,Ds=!1,o!==null&&gf(a,o),a=kr(a,f.children),a.flags|=4096);return a}return x?(io(),j=f.fallback,x=a.mode,ee=o.child,ue=ee.sibling,f=fi(ee,{mode:"hidden",children:f.children}),f.subtreeFlags=ee.subtreeFlags&65011712,ue!==null?j=fi(ue,j):(j=To(j,x,d,null),j.flags|=2),j.return=a,f.return=a,f.sibling=j,a.child=f,jl(null,f),f=a.child,j=o.child.memoizedState,j===null?j=_u(d):(x=j.cachePool,x!==null?(ee=bi._currentValue,x=x.parent!==ee?{parent:ee,pool:ee}:x):x=bf(),j={baseLanes:j.baseLanes|d,cachePool:x}),f.memoizedState=j,f.childLanes=Zh(o,H,d),a.memoizedState=zu,jl(o.child,f)):(Vo(a),d=o.child,o=d.sibling,d=fi(d,{mode:"visible",children:f.children}),d.return=a,d.sibling=null,o!==null&&(H=a.deletions,H===null?(a.deletions=[o],a.flags|=16):H.push(o)),a.child=d,a.memoizedState=null,d)}function kr(o,a){return a=Wu({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function Wu(o,a){return o=Es(22,o,null,a),o.lanes=0,o}function Jh(o,a,d){return bn(a,o.child,null,d),o=kr(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Xf(o,a,d){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),Rh(o.return,a,d)}function Uu(o,a,d,f,x,M){var H=o.memoizedState;H===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:x,treeForkCount:M}:(H.isBackwards=a,H.rendering=null,H.renderingStartTime=0,H.last=f,H.tail=d,H.tailMode=x,H.treeForkCount=M)}function ju(o,a,d){var f=a.pendingProps,x=f.revealOrder,M=f.tail;f=f.children;var H=ri.current,j=(H&2)!==0;if(j?(H=H&1|2,a.flags|=128):H&=1,xe(ri,H),Pt(o,a,f,d),f=Ct?Fo:0,!j&&o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Xf(o,d,a);else if(o.tag===19)Xf(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(d=a.child,x=null;d!==null;)o=d.alternate,o!==null&&bu(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),Uu(a,!1,x,d,M,f);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(o=x.alternate,o!==null&&bu(o)===null){a.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}Uu(a,!0,d,null,M,f);break;case"together":Uu(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function nn(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),qo|=a.lanes,(d&a.childLanes)===0)if(o!==null){if(Ea(o,a,d,!1),(d&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(s(153));if(a.child!==null){for(o=a.child,d=fi(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=fi(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function Lr(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&Cu(o)))}function Zf(o,a,d){switch(a.tag){case 3:oi(a,a.stateNode.containerInfo),Io(a,bi,o.memoizedState.cache),Lo();break;case 27:case 5:Tt(a);break;case 4:oi(a,a.stateNode.containerInfo);break;case 10:Io(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,_s(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Vo(a),a.flags|=128,null):(d&a.child.childLanes)!==0?Qh(o,a,d):(Vo(a),o=nn(o,a,d),o!==null?o.sibling:null);Vo(a);break;case 19:var x=(o.flags&128)!==0;if(f=(d&a.childLanes)!==0,f||(Ea(o,a,d,!1),f=(d&a.childLanes)!==0),x){if(f)return ju(o,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xe(ri,ri.current),f)break;return null;case 22:return a.lanes=0,Ul(o,a,d,a.pendingProps);case 24:Io(a,bi,o.memoizedState.cache)}return nn(o,a,d)}function Qf(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps)li=!0;else{if(!Lr(o,d)&&(a.flags&128)===0)return li=!1,Zf(o,a,d);li=(o.flags&131072)!==0}else li=!1,Ct&&(a.flags&1048576)!==0&&hf(a,Fo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(o=Sr(a.elementType),a.type=o,typeof o=="function")Ml(o)?(f=oo(o,f),a.tag=1,a=Vu(null,a,o,f,d)):(a.tag=0,a=Na(null,a,o,f,d));else{if(o!=null){var x=o.$$typeof;if(x===X){a.tag=11,a=$f(null,a,o,f,d);break e}else if(x===re){a.tag=14,a=Yh(null,a,o,f,d);break e}}throw a=Je(o)||o,Error(s(306,a,""))}}return a;case 0:return Na(o,a,a.type,a.pendingProps,d);case 1:return f=a.type,x=oo(f,a.pendingProps),Vu(o,a,f,x,d);case 3:e:{if(oi(a,a.stateNode.containerInfo),o===null)throw Error(s(387));f=a.pendingProps;var M=a.memoizedState;x=M.element,yu(o,a),Hl(a,f,null,d);var H=a.memoizedState;if(f=H.cache,Io(a,bi,f),f!==M.cache&&mu(a,[bi],d,!0),Il(),f=H.element,M.isDehydrated)if(M={element:f,isDehydrated:!1,cache:H.cache},a.updateQueue.baseState=M,a.memoizedState=M,a.flags&256){a=Yf(o,a,f,d);break e}else if(f!==x){x=Ns(Error(s(424)),a),Pl(x),a=Yf(o,a,f,d);break e}else{switch(o=a.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Xt=Yi(o.firstChild),Gi=a,Ct=!0,Ao=null,Ds=!0,d=Fh(a,null,f,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Lo(),f===x){a=nn(o,a,d);break e}Pt(o,a,f,d)}a=a.child}return a;case 26:return sn(o,a),o===null?(d=qb(a.type,null,a.pendingProps,null))?a.memoizedState=d:Ct||(d=a.type,o=a.pendingProps,f=Ve(it.current).createElement(d),f[Mi]=a,f[es]=o,we(f,d,o),Ai(f),a.stateNode=f):a.memoizedState=qb(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return Tt(a),o===null&&Ct&&(f=a.stateNode=jb(a.type,a.pendingProps,it.current),Gi=a,Ds=!0,x=Xt,pt(a.type)?(Ps=x,Xt=Yi(f.firstChild)):Xt=x),Pt(o,a,a.pendingProps.children,d),sn(o,a),o===null&&(a.flags|=4194304),a.child;case 5:return o===null&&Ct&&((x=f=Xt)&&(f=Xo(f,a.type,a.pendingProps,Ds),f!==null?(a.stateNode=f,Gi=a,Xt=Yi(f.firstChild),Ds=!1,x=!0):x=!1),x||ko(a)),Tt(a),x=a.type,M=a.pendingProps,H=o!==null?o.memoizedProps:null,f=M.children,gt(x,M)?f=null:H!==null&&gt(x,H)&&(a.flags|=32),a.memoizedState!==null&&(x=Zt(o,a,Su,null,null,d),Fg._currentValue=x),sn(o,a),Pt(o,a,f,d),a.child;case 6:return o===null&&Ct&&((o=d=Xt)&&(d=cn(d,a.pendingProps,Ds),d!==null?(a.stateNode=d,Gi=a,Xt=null,o=!0):o=!1),o||ko(a)),null;case 13:return Qh(o,a,d);case 4:return oi(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=bn(a,null,f,d):Pt(o,a,f,d),a.child;case 11:return $f(o,a,a.type,a.pendingProps,d);case 7:return Pt(o,a,a.pendingProps,d),a.child;case 8:return Pt(o,a,a.pendingProps.children,d),a.child;case 12:return Pt(o,a,a.pendingProps.children,d),a.child;case 10:return f=a.pendingProps,Io(a,a.type,f.value),Pt(o,a,f.children,d),a.child;case 9:return x=a.type._context,f=a.pendingProps.children,wn(a),x=Bi(x),f=f(x),a.flags|=1,Pt(o,a,f,d),a.child;case 14:return Yh(o,a,a.type,a.pendingProps,d);case 15:return Xh(o,a,a.type,a.pendingProps,d);case 19:return ju(o,a,d);case 31:return Bv(o,a,d);case 22:return Ul(o,a,d,a.pendingProps);case 24:return wn(a),f=Bi(bi),o===null?(x=Dh(),x===null&&(x=Wt,M=Eh(),x.pooledCache=M,M.refCount++,M!==null&&(x.pooledCacheLanes|=d),x=M),a.memoizedState={parent:f,cache:x},Ph(a),Io(a,bi,x)):((o.lanes&d)!==0&&(yu(o,a),Hl(a,null,null,d),Il()),x=o.memoizedState,M=a.memoizedState,x.parent!==f?(x={parent:f,cache:f},a.memoizedState=x,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=x),Io(a,bi,f)):(f=M.cache,Io(a,bi,f),f!==x.cache&&mu(a,[bi],d,!0))),Pt(o,a,a.pendingProps.children,d),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function ao(o){o.flags|=4}function $u(o,a,d,f,x){if((a=(o.mode&32)!==0)&&(a=!1),a){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(fm())o.flags|=8192;else throw xr=kl,Th}else o.flags&=-16777217}function Ga(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Jb(a))if(fm())o.flags|=8192;else throw xr=kl,Th}function $l(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?jd():536870912,o.lanes|=a,Nr|=a)}function Kl(o,a){if(!Ct)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ei(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,f=0;if(a)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=f,o.childLanes=d,a}function eg(o,a,d){var f=a.pendingProps;switch(Po(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(a),null;case 1:return ei(a),null;case 3:return d=a.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Zn(bi),xt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Ra(a)?ao(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xh())),ei(a),null;case 26:var x=a.type,M=a.memoizedState;return o===null?(ao(a),M!==null?(ei(a),Ga(a,M)):(ei(a),$u(a,x,null,f,d))):M?M!==o.memoizedState?(ao(a),ei(a),Ga(a,M)):(ei(a),a.flags&=-16777217):(o=o.memoizedProps,o!==f&&ao(a),ei(a),$u(a,x,o,f,d)),null;case 27:if(ys(a),d=it.current,x=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&ao(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return ei(a),null}o=Oe.current,Ra(a)?pf(a):(o=jb(x,f,d),a.stateNode=o,ao(a))}return ei(a),null;case 5:if(ys(a),x=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==f&&ao(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return ei(a),null}if(M=Oe.current,Ra(a))pf(a);else{var H=Ve(it.current);switch(M){case 1:M=H.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:M=H.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":M=H.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":M=H.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":M=H.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof f.is=="string"?H.createElement("select",{is:f.is}):H.createElement("select"),f.multiple?M.multiple=!0:f.size&&(M.size=f.size);break;default:M=typeof f.is=="string"?H.createElement(x,{is:f.is}):H.createElement(x)}}M[Mi]=a,M[es]=f;e:for(H=a.child;H!==null;){if(H.tag===5||H.tag===6)M.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===a)break e;for(;H.sibling===null;){if(H.return===null||H.return===a)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}a.stateNode=M;e:switch(we(M,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ao(a)}}return ei(a),$u(a,a.type,o===null?null:o.memoizedProps,a.pendingProps,d),null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==f&&ao(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(s(166));if(o=it.current,Ra(a)){if(o=a.stateNode,d=a.memoizedProps,f=null,x=Gi,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}o[Mi]=a,o=!!(o.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||ne(o.nodeValue,d)),o||ko(a,!0)}else o=Ve(o).createTextNode(f),o[Mi]=a,a.stateNode=o}return ei(a),null;case 31:if(d=a.memoizedState,o===null||o.memoizedState!==null){if(f=Ra(a),d!==null){if(o===null){if(!f)throw Error(s(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(557));o[Mi]=a}else Lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ei(a),o=!1}else d=xh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return a.flags&256?(Ft(a),a):(Ft(a),null);if((a.flags&128)!==0)throw Error(s(558))}return ei(a),null;case 13:if(f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Ra(a),f!==null&&f.dehydrated!==null){if(o===null){if(!x)throw Error(s(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Mi]=a}else Lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ei(a),x=!1}else x=xh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return a.flags&256?(Ft(a),a):(Ft(a),null)}return Ft(a),(a.flags&128)!==0?(a.lanes=d,a):(d=f!==null,o=o!==null&&o.memoizedState!==null,d&&(f=a.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),M=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(M=f.memoizedState.cachePool.pool),M!==x&&(f.flags|=2048)),d!==o&&d&&(a.child.flags|=8192),$l(a,a.updateQueue),ei(a),null);case 4:return xt(),o===null&&L(a.stateNode.containerInfo),ei(a),null;case 10:return Zn(a.type),ei(a),null;case 19:if(le(ri),f=a.memoizedState,f===null)return ei(a),null;if(x=(a.flags&128)!==0,M=f.rendering,M===null)if(x)Kl(f,!1);else{if(ui!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(M=bu(o),M!==null){for(a.flags|=128,Kl(f,!1),o=M.updateQueue,a.updateQueue=o,$l(a,o),a.subtreeFlags=0,o=d,d=a.child;d!==null;)Gt(d,o),d=d.sibling;return xe(ri,ri.current&1|2),Ct&&Xn(a,f.treeForkCount),a.child}o=o.sibling}f.tail!==null&&Mt()>td&&(a.flags|=128,x=!0,Kl(f,!1),a.lanes=4194304)}else{if(!x)if(o=bu(M),o!==null){if(a.flags|=128,x=!0,o=o.updateQueue,a.updateQueue=o,$l(a,o),Kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!M.alternate&&!Ct)return ei(a),null}else 2*Mt()-f.renderingStartTime>td&&d!==536870912&&(a.flags|=128,x=!0,Kl(f,!1),a.lanes=4194304);f.isBackwards?(M.sibling=a.child,a.child=M):(o=f.last,o!==null?o.sibling=M:a.child=M,f.last=M)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=Mt(),o.sibling=null,d=ri.current,xe(ri,x?d&1|2:d&1),Ct&&Xn(a,f.treeForkCount),o):(ei(a),null);case 22:case 23:return Ft(a),Pa(),f=a.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(d&536870912)!==0&&(a.flags&128)===0&&(ei(a),a.subtreeFlags&6&&(a.flags|=8192)):ei(a),d=a.updateQueue,d!==null&&$l(a,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==d&&(a.flags|=2048),o!==null&&le(Qn),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Zn(bi),ei(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Or(o,a){switch(Po(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Zn(bi),xt(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return ys(a),null;case 31:if(a.memoizedState!==null){if(Ft(a),a.alternate===null)throw Error(s(340));Lo()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 13:if(Ft(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Lo()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return le(ri),null;case 4:return xt(),null;case 10:return Zn(a.type),null;case 22:case 23:return Ft(a),Pa(),o!==null&&le(Qn),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return Zn(bi),null;case 25:return null;default:return null}}function Ku(o,a){switch(Po(a),a.tag){case 3:Zn(bi),xt();break;case 26:case 27:case 5:ys(a);break;case 4:xt();break;case 31:a.memoizedState!==null&&Ft(a);break;case 13:Ft(a);break;case 19:le(ri);break;case 10:Zn(a.type);break;case 22:case 23:Ft(a),Pa(),o!==null&&le(Qn);break;case 24:Zn(bi)}}function ql(o,a){try{var d=a.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var x=f.next;d=x;do{if((d.tag&o)===o){f=void 0;var M=d.create,H=d.inst;f=M(),H.destroy=f}d=d.next}while(d!==x)}}catch(j){Ot(a,a.return,j)}}function Wo(o,a,d){try{var f=a.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var M=x.next;f=M;do{if((f.tag&o)===o){var H=f.inst,j=H.destroy;if(j!==void 0){H.destroy=void 0,x=a;var ee=d,ue=j;try{ue()}catch(be){Ot(x,ee,be)}}}f=f.next}while(f!==M)}}catch(be){Ot(a,a.return,be)}}function Jf(o){var a=o.updateQueue;if(a!==null){var d=o.stateNode;try{Mf(a,d)}catch(f){Ot(o,o.return,f)}}}function em(o,a,d){d.props=oo(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(f){Ot(o,a,f)}}function Yl(o,a){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof d=="function"?o.refCleanup=d(f):d.current=f}}catch(x){Ot(o,a,x)}}function Mn(o,a){var d=o.ref,f=o.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(x){Ot(o,a,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ot(o,a,x)}else d.current=null}function tm(o){var a=o.type,d=o.memoizedProps,f=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(x){Ot(o,o.return,x)}}function tg(o,a,d){try{var f=o.stateNode;ve(f,o.type,d,a),f[es]=a}catch(x){Ot(o,o.return,x)}}function im(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pt(o.type)||o.tag===4}function ig(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||im(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pt(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function sg(o,a,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,a):(a=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,a.appendChild(o),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=fn));else if(f!==4&&(f===27&&pt(o.type)&&(d=o.stateNode,a=null),o=o.child,o!==null))for(sg(o,a,d),o=o.sibling;o!==null;)sg(o,a,d),o=o.sibling}function Xl(o,a,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(f!==4&&(f===27&&pt(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Xl(o,a,d),o=o.sibling;o!==null;)Xl(o,a,d),o=o.sibling}function sm(o){var a=o.stateNode,d=o.memoizedProps;try{for(var f=o.type,x=a.attributes;x.length;)a.removeAttributeNode(x[0]);we(a,f,d),a[Mi]=o,a[es]=d}catch(M){Ot(o,o.return,M)}}var Dn=!1,ci=!1,ng=!1,nm=typeof WeakSet=="function"?WeakSet:Set,Li=null;function qu(o,a){if(o=o.containerInfo,Ke=Am,o=af(o),fh(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var x=f.anchorOffset,M=f.focusNode;f=f.focusOffset;try{d.nodeType,M.nodeType}catch{d=null;break e}var H=0,j=-1,ee=-1,ue=0,be=0,Ee=o,pe=null;t:for(;;){for(var fe;Ee!==d||x!==0&&Ee.nodeType!==3||(j=H+x),Ee!==M||f!==0&&Ee.nodeType!==3||(ee=H+f),Ee.nodeType===3&&(H+=Ee.nodeValue.length),(fe=Ee.firstChild)!==null;)pe=Ee,Ee=fe;for(;;){if(Ee===o)break t;if(pe===d&&++ue===x&&(j=H),pe===M&&++be===f&&(ee=H),(fe=Ee.nextSibling)!==null)break;Ee=pe,pe=Ee.parentNode}Ee=fe}d=j===-1||ee===-1?null:{start:j,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ie={focusedElem:o,selectionRange:d},Am=!1,Li=a;Li!==null;)if(a=Li,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Li=o;else for(;Li!==null;){switch(a=Li,M=a.alternate,o=a.flags,a.tag){case 0:if((o&4)!==0&&(o=a.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)x=o[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&M!==null){o=void 0,d=a,x=M.memoizedProps,M=M.memoizedState,f=d.stateNode;try{var je=oo(d.type,x);o=f.getSnapshotBeforeUpdate(je,M),f.__reactInternalSnapshotBeforeUpdate=o}catch(rt){Ot(d,d.return,rt)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,d=o.nodeType,d===9)Ki(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ki(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(s(163))}if(o=a.sibling,o!==null){o.return=a.return,Li=o;break}Li=a.return}}function Yu(o,a,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:Ks(o,d),f&4&&ql(5,d);break;case 1:if(Ks(o,d),f&4)if(o=d.stateNode,a===null)try{o.componentDidMount()}catch(H){Ot(d,d.return,H)}else{var x=oo(d.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(x,a,o.__reactInternalSnapshotBeforeUpdate)}catch(H){Ot(d,d.return,H)}}f&64&&Jf(d),f&512&&Yl(d,d.return);break;case 3:if(Ks(o,d),f&64&&(o=d.updateQueue,o!==null)){if(a=null,d.child!==null)switch(d.child.tag){case 27:case 5:a=d.child.stateNode;break;case 1:a=d.child.stateNode}try{Mf(o,a)}catch(H){Ot(d,d.return,H)}}break;case 27:a===null&&f&4&&sm(d);case 26:case 5:Ks(o,d),a===null&&f&4&&tm(d),f&512&&Yl(d,d.return);break;case 12:Ks(o,d);break;case 31:Ks(o,d),f&4&&om(o,d);break;case 13:Ks(o,d),f&4&&Xu(o,d),f&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=jv.bind(null,d),Vr(o,d))));break;case 22:if(f=d.memoizedState!==null||Dn,!f){a=a!==null&&a.memoizedState!==null||ci,x=Dn;var M=ci;Dn=f,(ci=a)&&!M?Tn(o,d,(d.subtreeFlags&8772)!==0):Ks(o,d),Dn=x,ci=M}break;case 30:break;default:Ks(o,d)}}function og(o){var a=o.alternate;a!==null&&(o.alternate=null,og(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&Yd(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var si=null,Vi=!1;function on(o,a,d){for(d=d.child;d!==null;)rg(o,a,d),d=d.sibling}function rg(o,a,d){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Yt,d)}catch{}switch(d.tag){case 26:ci||Mn(d,a),on(o,a,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ci||Mn(d,a);var f=si,x=Vi;pt(d.type)&&(si=d.stateNode,Vi=!1),on(o,a,d),Mg(d.stateNode),si=f,Vi=x;break;case 5:ci||Mn(d,a);case 6:if(f=si,x=Vi,si=null,on(o,a,d),si=f,Vi=x,si!==null)if(Vi)try{(si.nodeType===9?si.body:si.nodeName==="HTML"?si.ownerDocument.body:si).removeChild(d.stateNode)}catch(M){Ot(d,a,M)}else try{si.removeChild(d.stateNode)}catch(M){Ot(d,a,M)}break;case 18:si!==null&&(Vi?(o=si,ti(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),dd(o)):ti(si,d.stateNode));break;case 4:f=si,x=Vi,si=d.stateNode.containerInfo,Vi=!0,on(o,a,d),si=f,Vi=x;break;case 0:case 11:case 14:case 15:Wo(2,d,a),ci||Wo(4,d,a),on(o,a,d);break;case 1:ci||(Mn(d,a),f=d.stateNode,typeof f.componentWillUnmount=="function"&&em(d,a,f)),on(o,a,d);break;case 21:on(o,a,d);break;case 22:ci=(f=ci)||d.memoizedState!==null,on(o,a,d),ci=f;break;default:on(o,a,d)}}function om(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{dd(o)}catch(d){Ot(a,a.return,d)}}}function Xu(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{dd(o)}catch(d){Ot(a,a.return,d)}}function Vv(o){switch(o.tag){case 31:case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new nm),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new nm),a;default:throw Error(s(435,o.tag))}}function Zu(o,a){var d=Vv(o);a.forEach(function(f){if(!d.has(f)){d.add(f);var x=Sg.bind(null,o,f);f.then(x,x)}})}function Ui(o,a){var d=a.deletions;if(d!==null)for(var f=0;f<d.length;f++){var x=d[f],M=o,H=a,j=H;e:for(;j!==null;){switch(j.tag){case 27:if(pt(j.type)){si=j.stateNode,Vi=!1;break e}break;case 5:si=j.stateNode,Vi=!1;break e;case 3:case 4:si=j.stateNode.containerInfo,Vi=!0;break e}j=j.return}if(si===null)throw Error(s(160));rg(M,H,x),si=null,Vi=!1,M=x.alternate,M!==null&&(M.return=null),x.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)rm(a,o),a=a.sibling}var rn=null;function rm(o,a){var d=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ui(a,o),hs(o),f&4&&(Wo(3,o,o.return),ql(3,o),Wo(5,o,o.return));break;case 1:Ui(a,o),hs(o),f&512&&(ci||d===null||Mn(d,d.return)),f&64&&Dn&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var x=rn;if(Ui(a,o),hs(o),f&512&&(ci||d===null||Mn(d,d.return)),f&4){var M=d!==null?d.memoizedState:null;if(f=o.memoizedState,d===null)if(f===null)if(o.stateNode===null){e:{f=o.type,d=o.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":M=x.getElementsByTagName("title")[0],(!M||M[ra]||M[Mi]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=x.createElement(f),x.head.insertBefore(M,x.querySelector("head > title"))),we(M,f,d),M[Mi]=o,Ai(M),f=M;break e;case"link":var H=Zb("link","href",x).get(f+(d.href||""));if(H){for(var j=0;j<H.length;j++)if(M=H[j],M.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&M.getAttribute("rel")===(d.rel==null?null:d.rel)&&M.getAttribute("title")===(d.title==null?null:d.title)&&M.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){H.splice(j,1);break t}}M=x.createElement(f),we(M,f,d),x.head.appendChild(M);break;case"meta":if(H=Zb("meta","content",x).get(f+(d.content||""))){for(j=0;j<H.length;j++)if(M=H[j],M.getAttribute("content")===(d.content==null?null:""+d.content)&&M.getAttribute("name")===(d.name==null?null:d.name)&&M.getAttribute("property")===(d.property==null?null:d.property)&&M.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&M.getAttribute("charset")===(d.charSet==null?null:d.charSet)){H.splice(j,1);break t}}M=x.createElement(f),we(M,f,d),x.head.appendChild(M);break;default:throw Error(s(468,f))}M[Mi]=o,Ai(M),f=M}o.stateNode=f}else Qb(x,o.type,o.stateNode);else o.stateNode=Xb(x,f,o.memoizedProps);else M!==f?(M===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):M.count--,f===null?Qb(x,o.type,o.stateNode):Xb(x,f,o.memoizedProps)):f===null&&o.stateNode!==null&&tg(o,o.memoizedProps,d.memoizedProps)}break;case 27:Ui(a,o),hs(o),f&512&&(ci||d===null||Mn(d,d.return)),d!==null&&f&4&&tg(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Ui(a,o),hs(o),f&512&&(ci||d===null||Mn(d,d.return)),o.flags&32){x=o.stateNode;try{da(x,"")}catch(je){Ot(o,o.return,je)}}f&4&&o.stateNode!=null&&(x=o.memoizedProps,tg(o,x,d!==null?d.memoizedProps:x)),f&1024&&(ng=!0);break;case 6:if(Ui(a,o),hs(o),f&4){if(o.stateNode===null)throw Error(s(162));f=o.memoizedProps,d=o.stateNode;try{d.nodeValue=f}catch(je){Ot(o,o.return,je)}}break;case 3:if(Dm=null,x=rn,rn=Em(a.containerInfo),Ui(a,o),rn=x,hs(o),f&4&&d!==null&&d.memoizedState.isDehydrated)try{dd(a.containerInfo)}catch(je){Ot(o,o.return,je)}ng&&(ng=!1,Zl(o));break;case 4:f=rn,rn=Em(o.stateNode.containerInfo),Ui(a,o),hs(o),rn=f;break;case 12:Ui(a,o),hs(o);break;case 31:Ui(a,o),hs(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Zu(o,f)));break;case 13:Ui(a,o),hs(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Gr=Mt()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Zu(o,f)));break;case 22:x=o.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,ue=Dn,be=ci;if(Dn=ue||x,ci=be||ee,Ui(a,o),ci=be,Dn=ue,hs(o),f&8192)e:for(a=o.stateNode,a._visibility=x?a._visibility&-2:a._visibility|1,x&&(d===null||ee||Dn||ci||Uo(o)),d=null,a=o;;){if(a.tag===5||a.tag===26){if(d===null){ee=d=a;try{if(M=ee.stateNode,x)H=M.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{j=ee.stateNode;var Ee=ee.memoizedProps.style,pe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;j.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(je){Ot(ee,ee.return,je)}}}else if(a.tag===6){if(d===null){ee=a;try{ee.stateNode.nodeValue=x?"":ee.memoizedProps}catch(je){Ot(ee,ee.return,je)}}}else if(a.tag===18){if(d===null){ee=a;try{var fe=ee.stateNode;x?$i(fe,!0):$i(ee.stateNode,!1)}catch(je){Ot(ee,ee.return,je)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;d===a&&(d=null),a=a.return}d===a&&(d=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=o.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,Zu(o,d))));break;case 19:Ui(a,o),hs(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Zu(o,f)));break;case 30:break;case 21:break;default:Ui(a,o),hs(o)}}function hs(o){var a=o.flags;if(a&2){try{for(var d,f=o.return;f!==null;){if(im(f)){d=f;break}f=f.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,M=ig(o);Xl(o,M,x);break;case 5:var H=d.stateNode;d.flags&32&&(da(H,""),d.flags&=-33);var j=ig(o);Xl(o,j,H);break;case 3:case 4:var ee=d.stateNode.containerInfo,ue=ig(o);sg(o,ue,ee);break;default:throw Error(s(161))}}catch(be){Ot(o,o.return,be)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function Zl(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;Zl(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function Ks(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Yu(o,a.alternate,a),a=a.sibling}function Uo(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Wo(4,a,a.return),Uo(a);break;case 1:Mn(a,a.return);var d=a.stateNode;typeof d.componentWillUnmount=="function"&&em(a,a.return,d),Uo(a);break;case 27:Mg(a.stateNode);case 26:case 5:Mn(a,a.return),Uo(a);break;case 22:a.memoizedState===null&&Uo(a);break;case 30:Uo(a);break;default:Uo(a)}o=o.sibling}}function Tn(o,a,d){for(d=d&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,x=o,M=a,H=M.flags;switch(M.tag){case 0:case 11:case 15:Tn(x,M,d),ql(4,M);break;case 1:if(Tn(x,M,d),f=M,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ue){Ot(f,f.return,ue)}if(f=M,x=f.updateQueue,x!==null){var j=f.stateNode;try{var ee=x.shared.hiddenCallbacks;if(ee!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ee.length;x++)Ts(ee[x],j)}catch(ue){Ot(f,f.return,ue)}}d&&H&64&&Jf(M),Yl(M,M.return);break;case 27:sm(M);case 26:case 5:Tn(x,M,d),d&&f===null&&H&4&&tm(M),Yl(M,M.return);break;case 12:Tn(x,M,d);break;case 31:Tn(x,M,d),d&&H&4&&om(x,M);break;case 13:Tn(x,M,d),d&&H&4&&Xu(x,M);break;case 22:M.memoizedState===null&&Tn(x,M,d),Yl(M,M.return);break;case 30:break;default:Tn(x,M,d)}a=a.sibling}}function Qu(o,a){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&yn(d))}function Ju(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&yn(o))}function gs(o,a,d,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ed(o,a,d,f),a=a.sibling}function ed(o,a,d,f){var x=a.flags;switch(a.tag){case 0:case 11:case 15:gs(o,a,d,f),x&2048&&ql(9,a);break;case 1:gs(o,a,d,f);break;case 3:gs(o,a,d,f),x&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&yn(o)));break;case 12:if(x&2048){gs(o,a,d,f),o=a.stateNode;try{var M=a.memoizedProps,H=M.id,j=M.onPostCommit;typeof j=="function"&&j(H,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){Ot(a,a.return,ee)}}else gs(o,a,d,f);break;case 31:gs(o,a,d,f);break;case 13:gs(o,a,d,f);break;case 23:break;case 22:M=a.stateNode,H=a.alternate,a.memoizedState!==null?M._visibility&2?gs(o,a,d,f):Ql(o,a):M._visibility&2?gs(o,a,d,f):(M._visibility|=2,Fn(o,a,d,f,(a.subtreeFlags&10256)!==0||!1)),x&2048&&Qu(H,a);break;case 24:gs(o,a,d,f),x&2048&&Ju(a.alternate,a);break;default:gs(o,a,d,f)}}function Fn(o,a,d,f,x){for(x=x&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var M=o,H=a,j=d,ee=f,ue=H.flags;switch(H.tag){case 0:case 11:case 15:Fn(M,H,j,ee,x),ql(8,H);break;case 23:break;case 22:var be=H.stateNode;H.memoizedState!==null?be._visibility&2?Fn(M,H,j,ee,x):Ql(M,H):(be._visibility|=2,Fn(M,H,j,ee,x)),x&&ue&2048&&Qu(H.alternate,H);break;case 24:Fn(M,H,j,ee,x),x&&ue&2048&&Ju(H.alternate,H);break;default:Fn(M,H,j,ee,x)}a=a.sibling}}function Ql(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var d=o,f=a,x=f.flags;switch(f.tag){case 22:Ql(d,f),x&2048&&Qu(f.alternate,f);break;case 24:Ql(d,f),x&2048&&Ju(f.alternate,f);break;default:Ql(d,f)}a=a.sibling}}var jo=8192;function lo(o,a,d){if(o.subtreeFlags&jo)for(o=o.child;o!==null;)am(o,a,d),o=o.sibling}function am(o,a,d){switch(o.tag){case 26:lo(o,a,d),o.flags&jo&&o.memoizedState!==null&&RD(d,rn,o.memoizedState,o.memoizedProps);break;case 5:lo(o,a,d);break;case 3:case 4:var f=rn;rn=Em(o.stateNode.containerInfo),lo(o,a,d),rn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=jo,jo=16777216,lo(o,a,d),jo=f):lo(o,a,d));break;default:lo(o,a,d)}}function lm(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function an(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];Li=f,lg(f,o)}lm(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ag(o),o=o.sibling}function ag(o){switch(o.tag){case 0:case 11:case 15:an(o),o.flags&2048&&Wo(9,o,o.return);break;case 3:an(o);break;case 12:an(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&2&&(o.return===null||o.return.tag!==13)?(a._visibility&=-3,Ba(o)):an(o);break;default:an(o)}}function Ba(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];Li=f,lg(f,o)}lm(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Wo(8,a,a.return),Ba(a);break;case 22:d=a.stateNode,d._visibility&2&&(d._visibility&=-3,Ba(a));break;default:Ba(a)}o=o.sibling}}function lg(o,a){for(;Li!==null;){var d=Li;switch(d.tag){case 0:case 11:case 15:Wo(8,d,a);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:yn(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,Li=f;else e:for(d=o;Li!==null;){f=Li;var x=f.sibling,M=f.return;if(og(f),f===d){Li=null;break e}if(x!==null){x.return=M,Li=x;break e}Li=M}}}var $o={getCacheForType:function(o){var a=Bi(bi),d=a.data.get(o);return d===void 0&&(d=o(),a.data.set(o,d)),d},cacheSignal:function(){return Bi(bi).controller.signal}},Jl=typeof WeakMap=="function"?WeakMap:Map,yt=0,Wt=null,ht=null,wt=0,Lt=0,ji=null,Ko=!1,Ir=!1,cg=!1,co=0,ui=0,qo=0,Hr=0,ec=0,Fs=0,Nr=0,tc=null,ps=null,ug=!1,Gr=0,dg=0,td=1/0,Va=null,ln=null,Ti=0,uo=null,za=null,Pn=0,hg=0,gg=null,cm=null,ic=0,pg=null;function fs(){return(yt&2)!==0&&wt!==0?wt&-wt:ge.T!==null?Rg():Op()}function um(){if(Fs===0)if((wt&536870912)===0||Ct){var o=zc;zc<<=1,(zc&3932160)===0&&(zc=262144),Fs=o}else Fs=536870912;return o=Wi.current,o!==null&&(o.flags|=32),Fs}function os(o,a,d){(o===Wt&&(Lt===2||Lt===9)||o.cancelPendingCommit!==null)&&(_a(o,0),An(o,wt,Fs,!1)),Vt(o,d),((yt&2)===0||o!==Wt)&&(o===Wt&&((yt&2)===0&&(Hr|=d),ui===4&&An(o,wt,Fs,!1)),kn(o))}function dm(o,a,d){if((yt&6)!==0)throw Error(s(327));var f=!d&&(a&127)===0&&(a&o.expiredLanes)===0||Ei(o,a),x=f?_v(o,a):sd(o,a,!0),M=f;do{if(x===0){Ir&&!f&&An(o,a,0,!1);break}else{if(d=o.current.alternate,M&&!gm(d)){x=sd(o,a,!1),M=!1;continue}if(x===2){if(M=a,o.errorRecoveryDisabledLanes&M)var H=0;else H=o.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){a=H;e:{var j=o;x=tc;var ee=j.current.memoizedState.isDehydrated;if(ee&&(_a(j,H).flags|=256),H=sd(j,H,!1),H!==2){if(cg&&!ee){j.errorRecoveryDisabledLanes|=M,Hr|=M,x=4;break e}M=ps,ps=x,M!==null&&(ps===null?ps=M:ps.push.apply(ps,M))}x=H}if(M=!1,x!==2)continue}}if(x===1){_a(o,0),An(o,a,0,!0);break}e:{switch(f=o,M=x,M){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:An(f,a,Fs,!Ko);break e;case 2:ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(x=Gr+300-Mt(),10<x)){if(An(f,a,Fs,!Ko),_c(f,0,!0)!==0)break e;Pn=a,f.timeoutHandle=et(hm.bind(null,f,d,ps,Va,ug,a,Fs,Hr,Nr,Ko,M,"Throttled",-0,0),x);break e}hm(f,d,ps,Va,ug,a,Fs,Hr,Nr,Ko,M,null,-0,0)}}break}while(!0);kn(o)}function hm(o,a,d,f,x,M,H,j,ee,ue,be,Ee,pe,fe){if(o.timeoutHandle=-1,Ee=a.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},am(a,M,Ee);var je=(M&62914560)===M?Gr-Mt():(M&4194048)===M?dg-Mt():0;if(je=ED(Ee,je),je!==null){Pn=M,o.cancelPendingCommit=je(Cg.bind(null,o,a,M,d,f,x,H,j,ee,be,Ee,null,pe,fe)),An(o,M,H,!ue);return}}Cg(o,a,M,d,f,x,H,j,ee)}function gm(o){for(var a=o;;){var d=a.tag;if((d===0||d===11||d===15)&&a.flags&16384&&(d=a.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var x=d[f],M=x.getSnapshot;x=x.value;try{if(!xs(M(),x))return!1}catch{return!1}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function An(o,a,d,f){a&=~ec,a&=~Hr,o.suspendedLanes|=a,o.pingedLanes&=~a,f&&(o.warmLanes|=a),f=o.expirationTimes;for(var x=a;0<x;){var M=31-bs(x),H=1<<M;f[M]=-1,x&=~H}d!==0&&kp(o,d,a)}function id(){return(yt&6)===0?(ac(0),!1):!0}function sc(){if(ht!==null){if(Lt===0)var o=ht.return;else o=ht,ki=Oo=null,Nh(o),eo=null,Rr=0,o=ht;for(;o!==null;)Ku(o.alternate,o),o=o.return;ht=null}}function _a(o,a){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,bt(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Pn=0,sc(),Wt=o,ht=d=fi(o.current,null),wt=a,Lt=0,ji=null,Ko=!1,Ir=Ei(o,a),cg=!1,Nr=Fs=ec=Hr=qo=ui=0,ps=tc=null,ug=!1,(a&8)!==0&&(a|=a&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=a;0<f;){var x=31-bs(f),M=1<<x;a|=o[x],f&=~M}return co=a,Yn(),d}function pm(o,a){lt=null,ge.H=Pr,a===No||a===Ta?(a=Rf(),Lt=3):a===Th?(a=Rf(),Lt=4):Lt=a===$s?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ji=a,ht===null&&(ui=1,Hu(o,Ns(a,o.current)))}function fm(){var o=Wi.current;return o===null?!0:(wt&4194048)===wt?zs===null:(wt&62914560)===wt||(wt&536870912)!==0?o===zs:!1}function fg(){var o=ge.H;return ge.H=Pr,o===null?Pr:o}function mm(){var o=ge.A;return ge.A=$o,o}function nc(){ui=4,Ko||(wt&4194048)!==wt&&Wi.current!==null||(Ir=!0),(qo&134217727)===0&&(Hr&134217727)===0||Wt===null||An(Wt,wt,Fs,!1)}function sd(o,a,d){var f=yt;yt|=2;var x=fg(),M=mm();(Wt!==o||wt!==a)&&(Va=null,_a(o,a)),a=!1;var H=ui;e:do try{if(Lt!==0&&ht!==null){var j=ht,ee=ji;switch(Lt){case 8:sc(),H=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(a=!0);var ue=Lt;if(Lt=0,ji=null,Wa(o,j,ee,ue),d&&Ir){H=0;break e}break;default:ue=Lt,Lt=0,ji=null,Wa(o,j,ee,ue)}}zv(),H=ui;break}catch(be){pm(o,be)}while(!0);return a&&o.shellSuspendCounter++,ki=Oo=null,yt=f,ge.H=x,ge.A=M,ht===null&&(Wt=null,wt=0,Yn()),H}function zv(){for(;ht!==null;)mg(ht)}function _v(o,a){var d=yt;yt|=2;var f=fg(),x=mm();Wt!==o||wt!==a?(Va=null,td=Mt()+500,_a(o,a)):Ir=Ei(o,a);e:do try{if(Lt!==0&&ht!==null){a=ht;var M=ji;t:switch(Lt){case 1:Lt=0,ji=null,Wa(o,a,M,1);break;case 2:case 9:if(Sf(M)){Lt=0,ji=null,Cm(a);break}a=function(){Lt!==2&&Lt!==9||Wt!==o||(Lt=7),kn(o)},M.then(a,a);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Sf(M)?(Lt=0,ji=null,Cm(a)):(Lt=0,ji=null,Wa(o,a,M,7));break;case 5:var H=null;switch(ht.tag){case 26:H=ht.memoizedState;case 5:case 27:var j=ht;if(H?Jb(H):j.stateNode.complete){Lt=0,ji=null;var ee=j.sibling;if(ee!==null)ht=ee;else{var ue=j.return;ue!==null?(ht=ue,nd(ue)):ht=null}break t}}Lt=0,ji=null,Wa(o,a,M,5);break;case 6:Lt=0,ji=null,Wa(o,a,M,6);break;case 8:sc(),ui=6;break e;default:throw Error(s(462))}}Wv();break}catch(be){pm(o,be)}while(!0);return ki=Oo=null,ge.H=f,ge.A=x,yt=d,ht!==null?0:(Wt=null,wt=0,Yn(),ui)}function Wv(){for(;ht!==null&&!Js();)mg(ht)}function mg(o){var a=Qf(o.alternate,o,co);o.memoizedProps=o.pendingProps,a===null?nd(o):ht=a}function Cm(o){var a=o,d=a.alternate;switch(a.tag){case 15:case 0:a=Bu(d,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=Bu(d,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:Nh(a);default:Ku(d,a),a=ht=Gt(a,co),a=Qf(d,a,co)}o.memoizedProps=o.pendingProps,a===null?nd(o):ht=a}function Wa(o,a,d,f){ki=Oo=null,Nh(a),eo=null,Rr=0;var x=a.return;try{if(Gu(o,x,a,d,wt)){ui=1,Hu(o,Ns(d,o.current)),ht=null;return}}catch(M){if(x!==null)throw ht=x,M;ui=1,Hu(o,Ns(d,o.current)),ht=null;return}a.flags&32768?(Ct||f===1?o=!0:Ir||(wt&536870912)!==0?o=!1:(Ko=o=!0,(f===2||f===9||f===3||f===6)&&(f=Wi.current,f!==null&&f.tag===13&&(f.flags|=16384))),vm(a,o)):nd(a)}function nd(o){var a=o;do{if((a.flags&32768)!==0){vm(a,Ko);return}o=a.return;var d=eg(a.alternate,a,co);if(d!==null){ht=d;return}if(a=a.sibling,a!==null){ht=a;return}ht=a=o}while(a!==null);ui===0&&(ui=5)}function vm(o,a){do{var d=Or(o.alternate,o);if(d!==null){d.flags&=32767,ht=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!a&&(o=o.sibling,o!==null)){ht=o;return}ht=o=d}while(o!==null);ui=6,ht=null}function Cg(o,a,d,f,x,M,H,j,ee){o.cancelPendingCommit=null;do od();while(Ti!==0);if((yt&6)!==0)throw Error(s(327));if(a!==null){if(a===o.current)throw Error(s(177));if(M=a.lanes|a.childLanes,M|=Hs,Ap(o,d,M,H,j,ee),o===Wt&&(ht=Wt=null,wt=0),za=a,uo=o,Pn=d,hg=M,gg=x,cm=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,$v(Bt,function(){return yg(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=ge.T,ge.T=null,x=De.p,De.p=2,H=yt,yt|=4;try{qu(o,a,d)}finally{yt=H,De.p=x,ge.T=f}}Ti=1,vg(),wm(),ym()}}function vg(){if(Ti===1){Ti=0;var o=uo,a=za,d=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||d){d=ge.T,ge.T=null;var f=De.p;De.p=2;var x=yt;yt|=4;try{rm(a,o);var M=Ie,H=af(o.containerInfo),j=M.focusedElem,ee=M.selectionRange;if(H!==j&&j&&j.ownerDocument&&ph(j.ownerDocument.documentElement,j)){if(ee!==null&&fh(j)){var ue=ee.start,be=ee.end;if(be===void 0&&(be=ue),"selectionStart"in j)j.selectionStart=ue,j.selectionEnd=Math.min(be,j.value.length);else{var Ee=j.ownerDocument||document,pe=Ee&&Ee.defaultView||window;if(pe.getSelection){var fe=pe.getSelection(),je=j.textContent.length,rt=Math.min(ee.start,je),qt=ee.end===void 0?rt:Math.min(ee.end,je);!fe.extend&&rt>qt&&(H=qt,qt=rt,rt=H);var ae=rf(j,rt),oe=rf(j,qt);if(ae&&oe&&(fe.rangeCount!==1||fe.anchorNode!==ae.node||fe.anchorOffset!==ae.offset||fe.focusNode!==oe.node||fe.focusOffset!==oe.offset)){var ce=Ee.createRange();ce.setStart(ae.node,ae.offset),fe.removeAllRanges(),rt>qt?(fe.addRange(ce),fe.extend(oe.node,oe.offset)):(ce.setEnd(oe.node,oe.offset),fe.addRange(ce))}}}}for(Ee=[],fe=j;fe=fe.parentNode;)fe.nodeType===1&&Ee.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Ee.length;j++){var Re=Ee[j];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Am=!!Ke,Ie=Ke=null}finally{yt=x,De.p=f,ge.T=d}}o.current=a,Ti=2}}function wm(){if(Ti===2){Ti=0;var o=uo,a=za,d=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||d){d=ge.T,ge.T=null;var f=De.p;De.p=2;var x=yt;yt|=4;try{Yu(o,a.alternate,a)}finally{yt=x,De.p=f,ge.T=d}}Ti=3}}function ym(){if(Ti===4||Ti===3){Ti=0,Hi();var o=uo,a=za,d=Pn,f=cm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ti=5:(Ti=0,za=uo=null,wg(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ln=null),$d(d),a=a.stateNode,Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Yt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=ge.T,x=De.p,De.p=2,ge.T=null;try{for(var M=o.onRecoverableError,H=0;H<f.length;H++){var j=f[H];M(j.value,{componentStack:j.stack})}}finally{ge.T=a,De.p=x}}(Pn&3)!==0&&od(),kn(o),x=o.pendingLanes,(d&261930)!==0&&(x&42)!==0?o===pg?ic++:(ic=0,pg=o):ic=0,ac(0)}}function wg(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,yn(a)))}function od(){return vg(),wm(),ym(),yg()}function yg(){if(Ti!==5)return!1;var o=uo,a=hg;hg=0;var d=$d(Pn),f=ge.T,x=De.p;try{De.p=32>d?32:d,ge.T=null,d=gg,gg=null;var M=uo,H=Pn;if(Ti=0,za=uo=null,Pn=0,(yt&6)!==0)throw Error(s(331));var j=yt;if(yt|=4,ag(M.current),ed(M,M.current,H,d),yt=j,ac(0,!1),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Yt,M)}catch{}return!0}finally{De.p=x,ge.T=f,wg(o,a)}}function bm(o,a,d){a=Ns(d,a),a=qh(o.stateNode,a,2),o=Bs(o,a,2),o!==null&&(Vt(o,2),kn(o))}function Ot(o,a,d){if(o.tag===3)bm(o,o,d);else for(;a!==null;){if(a.tag===3){bm(a,o,d);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ln===null||!ln.has(f))){o=Ns(d,o),d=Ar(2),f=Bs(a,d,2),f!==null&&(jf(d,f,a,o),Vt(f,2),kn(f));break}}a=a.return}}function rd(o,a,d){var f=o.pingCache;if(f===null){f=o.pingCache=new Jl;var x=new Set;f.set(a,x)}else x=f.get(a),x===void 0&&(x=new Set,f.set(a,x));x.has(d)||(cg=!0,x.add(d),o=Uv.bind(null,o,a,d),a.then(o,o))}function Uv(o,a,d){var f=o.pingCache;f!==null&&f.delete(a),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,Wt===o&&(wt&d)===d&&(ui===4||ui===3&&(wt&62914560)===wt&&300>Mt()-Gr?(yt&2)===0&&_a(o,0):ec|=d,Nr===wt&&(Nr=0)),kn(o)}function bg(o,a){a===0&&(a=jd()),o=yr(o,a),o!==null&&(Vt(o,a),kn(o))}function jv(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),bg(o,d)}function Sg(o,a){var d=0;switch(o.tag){case 31:case 13:var f=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(a),bg(o,d)}function $v(o,a){return At(o,a)}var oc=null,Br=null,xg=!1,ad=!1,rc=!1,Yo=0;function kn(o){o!==Br&&o.next===null&&(Br===null?oc=Br=o:Br=Br.next=o),ad=!0,xg||(xg=!0,qv())}function ac(o,a){if(!rc&&ad){rc=!0;do for(var d=!1,f=oc;f!==null;){if(o!==0){var x=f.pendingLanes;if(x===0)var M=0;else{var H=f.suspendedLanes,j=f.pingedLanes;M=(1<<31-bs(42|o)+1)-1,M&=x&~(H&~j),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(d=!0,Rm(f,M))}else M=wt,M=_c(f,f===Wt?M:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(M&3)===0||Ei(f,M)||(d=!0,Rm(f,M));f=f.next}while(d);rc=!1}}function Kv(){Sm()}function Sm(){ad=xg=!1;var o=0;Yo!==0&&nt()&&(o=Yo);for(var a=Mt(),d=null,f=oc;f!==null;){var x=f.next,M=xm(f,a);M===0?(f.next=null,d===null?oc=x:d.next=x,x===null&&(Br=d)):(d=f,(o!==0||(M&3)!==0)&&(ad=!0)),f=x}Ti!==0&&Ti!==5||ac(o),Yo!==0&&(Yo=0)}function xm(o,a){for(var d=o.suspendedLanes,f=o.pingedLanes,x=o.expirationTimes,M=o.pendingLanes&-62914561;0<M;){var H=31-bs(M),j=1<<H,ee=x[H];ee===-1?((j&d)===0||(j&f)!==0)&&(x[H]=Pp(j,a)):ee<=a&&(o.expiredLanes|=j),M&=~j}if(a=Wt,d=wt,d=_c(o,o===a?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,d===0||o===a&&(Lt===2||Lt===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&kt(f),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Ei(o,d)){if(a=d&-d,a===o.callbackPriority)return a;switch(f!==null&&kt(f),$d(d)){case 2:case 8:d=dl;break;case 32:d=Bt;break;case 268435456:d=Vc;break;default:d=Bt}return f=lc.bind(null,o),d=At(d,f),o.callbackPriority=a,o.callbackNode=d,a}return f!==null&&f!==null&&kt(f),o.callbackPriority=2,o.callbackNode=null,2}function lc(o,a){if(Ti!==0&&Ti!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(od()&&o.callbackNode!==d)return null;var f=wt;return f=_c(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(dm(o,f,a),xm(o,Mt()),o.callbackNode!=null&&o.callbackNode===d?lc.bind(null,o):null)}function Rm(o,a){if(od())return null;dm(o,a,!0)}function qv(){zt(function(){(yt&6)!==0?At(na,Kv):Sm()})}function Rg(){if(Yo===0){var o=Da;o===0&&(o=Ji,Ji<<=1,(Ji&261888)===0&&(Ji=256)),Yo=o}return Yo}function E(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:fl(""+o)}function l(o,a){var d=a.ownerDocument.createElement("input");return d.name=a.name,d.value=a.value,o.id&&d.setAttribute("form",o.id),a.parentNode.insertBefore(d,a),o=new FormData(o),d.parentNode.removeChild(d),o}function u(o,a,d,f,x){if(a==="submit"&&d&&d.stateNode===x){var M=E((x[es]||null).action),H=f.submitter;H&&(a=(a=H[es]||null)?E(a.formAction):H.getAttribute("formAction"),a!==null&&(M=a,H=null));var j=new fa("action","action",null,f,x);o.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Yo!==0){var ee=H?l(x,H):new FormData(x);_l(d,{pending:!0,data:ee,method:x.method,action:M},null,ee)}}else typeof M=="function"&&(j.preventDefault(),ee=H?l(x,H):new FormData(x),_l(d,{pending:!0,data:ee,method:x.method,action:M},M,ee))},currentTarget:x}]})}}for(var g=0;g<vr.length;g++){var m=vr[g],C=m.toLowerCase(),w=m[0].toUpperCase()+m.slice(1);en(C,"on"+w)}en(cf,"onAnimationEnd"),en(El,"onAnimationIteration"),en(au,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Pv,"onTransitionRun"),en(lu,"onTransitionStart"),en(wh,"onTransitionCancel"),en(uf,"onTransitionEnd"),bo("onMouseEnter",["mouseout","mouseover"]),bo("onMouseLeave",["mouseout","mouseover"]),bo("onPointerEnter",["pointerout","pointerover"]),bo("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(y));function D(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var f=o[d],x=f.event;f=f.listeners;e:{var M=void 0;if(a)for(var H=f.length-1;0<=H;H--){var j=f[H],ee=j.instance,ue=j.currentTarget;if(j=j.listener,ee!==M&&x.isPropagationStopped())break e;M=j,x.currentTarget=ue;try{M(x)}catch(be){wr(be)}x.currentTarget=null,M=ee}else for(H=0;H<f.length;H++){if(j=f[H],ee=j.instance,ue=j.currentTarget,j=j.listener,ee!==M&&x.isPropagationStopped())break e;M=j,x.currentTarget=ue;try{M(x)}catch(be){wr(be)}x.currentTarget=null,M=ee}}}}function P(o,a){var d=a[Kd];d===void 0&&(d=a[Kd]=new Set);var f=o+"__bubble";d.has(f)||(I(a,o,2,!1),d.add(f))}function T(o,a,d){var f=0;a&&(f|=4),I(d,o,f,a)}var A="_reactListening"+Math.random().toString(36).slice(2);function L(o){if(!o[A]){o[A]=!0,Xd.forEach(function(d){d!=="selectionchange"&&(S.has(d)||T(d,!1,o),T(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[A]||(a[A]=!0,T("selectionchange",!1,a))}}function I(o,a,d,f){switch(rS(a)){case 2:var x=TD;break;case 8:x=FD;break;default:x=Jv}d=x.bind(null,a,d,o),x=void 0,!Xc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),f?x!==void 0?o.addEventListener(a,d,{capture:!0,passive:x}):o.addEventListener(a,d,!0):x!==void 0?o.addEventListener(a,d,{passive:x}):o.addEventListener(a,d,!1)}function z(o,a,d,f,x){var M=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var H=f.tag;if(H===3||H===4){var j=f.stateNode.containerInfo;if(j===x)break;if(H===4)for(H=f.return;H!==null;){var ee=H.tag;if((ee===3||ee===4)&&H.stateNode.containerInfo===x)return;H=H.return}for(;j!==null;){if(H=aa(j),H===null)return;if(ee=H.tag,ee===5||ee===6||ee===26||ee===27){f=M=H;continue e}j=j.parentNode}}f=f.return}Yc(function(){var ue=M,be=eh(d),Ee=[];e:{var pe=yh.get(o);if(pe!==void 0){var fe=fa,je=o;switch(o){case"keypress":if(Cl(d)===0)break e;case"keydown":case"keyup":fe=Xp;break;case"focusin":je="focus",fe=nh;break;case"focusout":je="blur",fe=nh;break;case"beforeblur":case"afterblur":fe=nh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=ah;break;case cf:case El:case au:fe=yl;break;case uf:fe=bv;break;case"scroll":case"scrollend":fe=$n;break;case"wheel":fe=xv;break;case"copy":case"cut":case"paste":fe=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zp;break;case"toggle":case"beforetoggle":fe=lh}var rt=(a&4)!==0,qt=!rt&&(o==="scroll"||o==="scrollend"),ae=rt?pe!==null?pe+"Capture":null:pe;rt=[];for(var oe=ue,ce;oe!==null;){var Re=oe;if(ce=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ce===null||ae===null||(Re=ml(oe,ae),Re!=null&&rt.push(B(oe,Re,ce))),qt)break;oe=oe.return}0<rt.length&&(pe=new fe(pe,je,null,d,be),Ee.push({event:pe,listeners:rt}))}}if((a&7)===0){e:{if(pe=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",pe&&d!==So&&(je=d.relatedTarget||d.fromElement)&&(aa(je)||je[oa]))break e;if((fe||pe)&&(pe=be.window===be?be:(pe=be.ownerDocument)?pe.defaultView||pe.parentWindow:window,fe?(je=d.relatedTarget||d.toElement,fe=ue,je=je?aa(je):null,je!==null&&(qt=r(je),rt=je.tag,je!==qt||rt!==5&&rt!==27&&rt!==6)&&(je=null)):(fe=null,je=ue),fe!==je)){if(rt=sh,Re="onMouseLeave",ae="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(rt=Zp,Re="onPointerLeave",ae="onPointerEnter",oe="pointer"),qt=fe==null?pe:gl(fe),ce=je==null?pe:gl(je),pe=new rt(Re,oe+"leave",fe,d,be),pe.target=qt,pe.relatedTarget=ce,Re=null,aa(be)===ue&&(rt=new rt(ae,oe+"enter",je,d,be),rt.target=ce,rt.relatedTarget=qt,Re=rt),qt=Re,fe&&je)t:{for(rt=$,ae=fe,oe=je,ce=0,Re=ae;Re;Re=rt(Re))ce++;Re=0;for(var Qe=oe;Qe;Qe=rt(Qe))Re++;for(;0<ce-Re;)ae=rt(ae),ce--;for(;0<Re-ce;)oe=rt(oe),Re--;for(;ce--;){if(ae===oe||oe!==null&&ae===oe.alternate){rt=ae;break t}ae=rt(ae),oe=rt(oe)}rt=null}else rt=null;fe!==null&&q(Ee,pe,fe,rt,!1),je!==null&&qt!==null&&q(Ee,qt,je,rt,!0)}}e:{if(pe=ue?gl(ue):window,fe=pe.nodeName&&pe.nodeName.toLowerCase(),fe==="select"||fe==="input"&&pe.type==="file")var Ht=Do;else if(xl(pe))if(nf)Ht=ou;else{Ht=Dv;var Ye=Mv}else fe=pe.nodeName,!fe||fe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ue&&ha(ue.elementType)&&(Ht=Do):Ht=Tv;if(Ht&&(Ht=Ht(o,ue))){sf(Ee,Ht,d,be);break e}Ye&&Ye(o,pe,ue),o==="focusout"&&ue&&pe.type==="number"&&ue.memoizedProps.value!=null&&ca(pe,"number",pe.value)}switch(Ye=ue?gl(ue):window,o){case"focusin":(xl(Ye)||Ye.contentEditable==="true")&&(wa=Ye,mh=ue,ya=null);break;case"focusout":ya=mh=wa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,mr(Ee,d,be);break;case"selectionchange":if(ru)break;case"keydown":case"keyup":mr(Ee,d,be)}var ft;if(ch)e:{switch(o){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else Ca?ef(o,d)&&(St="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(St="onCompositionStart");St&&(gr&&d.locale!=="ko"&&(Ca||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ca&&(ft=Zc()):(xo=be,hr="value"in xo?xo.value:xo.textContent,Ca=!0)),Ye=N(ue,St),0<Ye.length&&(St=new Eo(St,o,null,d,be),Ee.push({event:St,listeners:Ye}),ft?St.data=ft:(ft=tf(d),ft!==null&&(St.data=ft)))),(ft=Jp?hh(o,d):gh(o,d))&&(St=N(ue,"onBeforeInput"),0<St.length&&(Ye=new Eo("onBeforeInput","beforeinput",null,d,be),Ee.push({event:Ye,listeners:St}),Ye.data=ft)),u(Ee,o,ue,d,be)}D(Ee,a)})}function B(o,a,d){return{instance:o,listener:a,currentTarget:d}}function N(o,a){for(var d=a+"Capture",f=[];o!==null;){var x=o,M=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||M===null||(x=ml(o,d),x!=null&&f.unshift(B(o,x,M)),x=ml(o,a),x!=null&&f.push(B(o,x,M))),o.tag===3)return f;o=o.return}return[]}function $(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function q(o,a,d,f,x){for(var M=a._reactName,H=[];d!==null&&d!==f;){var j=d,ee=j.alternate,ue=j.stateNode;if(j=j.tag,ee!==null&&ee===f)break;j!==5&&j!==26&&j!==27||ue===null||(ee=ue,x?(ue=ml(d,M),ue!=null&&H.unshift(B(d,ue,ee))):x||(ue=ml(d,M),ue!=null&&H.push(B(d,ue,ee)))),d=d.return}H.length!==0&&o.push({event:a,listeners:H})}var Z=/\r\n?/g,te=/\u0000|\uFFFD/g;function se(o){return(typeof o=="string"?o:""+o).replace(Z,`
`).replace(te,"")}function ne(o,a){return a=se(a),se(o)===a}function Q(o,a,d,f,x,M){switch(d){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||da(o,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&da(o,""+f);break;case"className":jc(o,"class",f);break;case"tabIndex":jc(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":jc(o,d,f);break;case"style":qc(o,f,M);break;case"data":if(a!=="object"){jc(o,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||d!=="href")){o.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(d);break}f=fl(""+f),o.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(d==="formAction"?(a!=="input"&&Q(o,a,"name",x.name,x,null),Q(o,a,"formEncType",x.formEncType,x,null),Q(o,a,"formMethod",x.formMethod,x,null),Q(o,a,"formTarget",x.formTarget,x,null)):(Q(o,a,"encType",x.encType,x,null),Q(o,a,"method",x.method,x,null),Q(o,a,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(d);break}f=fl(""+f),o.setAttribute(d,f);break;case"onClick":f!=null&&(o.onclick=fn);break;case"onScroll":f!=null&&P("scroll",o);break;case"onScrollEnd":f!=null&&P("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}d=fl(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,""+f):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":f===!0?o.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,f):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(d,f):o.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(d):o.setAttribute(d,f);break;case"popover":P("beforetoggle",o),P("toggle",o),pl(o,"popover",f);break;case"xlinkActuate":Un(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Un(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Un(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Un(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Un(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Un(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Un(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Un(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Un(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":pl(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=mv.get(d)||d,pl(o,d,f))}}function Ce(o,a,d,f,x,M){switch(d){case"style":qc(o,f,M);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(s(60));o.innerHTML=d}}break;case"children":typeof f=="string"?da(o,f):(typeof f=="number"||typeof f=="bigint")&&da(o,""+f);break;case"onScroll":f!=null&&P("scroll",o);break;case"onScrollEnd":f!=null&&P("scrollend",o);break;case"onClick":f!=null&&(o.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),a=d.slice(2,x?d.length-7:void 0),M=o[es]||null,M=M!=null?M[d]:null,typeof M=="function"&&o.removeEventListener(a,M,x),typeof f=="function")){typeof M!="function"&&M!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(a,f,x);break e}d in o?o[d]=f:f===!0?o.setAttribute(d,""):pl(o,d,f)}}}function we(o,a,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":P("error",o),P("load",o);var f=!1,x=!1,M;for(M in d)if(d.hasOwnProperty(M)){var H=d[M];if(H!=null)switch(M){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Q(o,a,M,H,d,null)}}x&&Q(o,a,"srcSet",d.srcSet,d,null),f&&Q(o,a,"src",d.src,d,null);return;case"input":P("invalid",o);var j=M=H=x=null,ee=null,ue=null;for(f in d)if(d.hasOwnProperty(f)){var be=d[f];if(be!=null)switch(f){case"name":x=be;break;case"type":H=be;break;case"checked":ee=be;break;case"defaultChecked":ue=be;break;case"value":M=be;break;case"defaultValue":j=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(s(137,a));break;default:Q(o,a,f,be,d,null)}}Jd(o,M,j,ee,ue,H,x,!1);return;case"select":P("invalid",o),f=H=M=null;for(x in d)if(d.hasOwnProperty(x)&&(j=d[x],j!=null))switch(x){case"value":M=j;break;case"defaultValue":H=j;break;case"multiple":f=j;default:Q(o,a,x,j,d,null)}a=M,d=H,o.multiple=!!f,a!=null?dr(o,!!f,a,!1):d!=null&&dr(o,!!f,d,!0);return;case"textarea":P("invalid",o),M=x=f=null;for(H in d)if(d.hasOwnProperty(H)&&(j=d[H],j!=null))switch(H){case"value":f=j;break;case"defaultValue":x=j;break;case"children":M=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:Q(o,a,H,j,d,null)}ua(o,f,x,M);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(f=d[ee],f!=null))switch(ee){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Q(o,a,ee,f,d,null)}return;case"dialog":P("beforetoggle",o),P("toggle",o),P("cancel",o),P("close",o);break;case"iframe":case"object":P("load",o);break;case"video":case"audio":for(f=0;f<y.length;f++)P(y[f],o);break;case"image":P("error",o),P("load",o);break;case"details":P("toggle",o);break;case"embed":case"source":case"link":P("error",o),P("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(f=d[ue],f!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Q(o,a,ue,f,d,null)}return;default:if(ha(a)){for(be in d)d.hasOwnProperty(be)&&(f=d[be],f!==void 0&&Ce(o,a,be,f,d,void 0));return}}for(j in d)d.hasOwnProperty(j)&&(f=d[j],f!=null&&Q(o,a,j,f,d,null))}function ve(o,a,d,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,M=null,H=null,j=null,ee=null,ue=null,be=null;for(fe in d){var Ee=d[fe];if(d.hasOwnProperty(fe)&&Ee!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":ee=Ee;default:f.hasOwnProperty(fe)||Q(o,a,fe,null,f,Ee)}}for(var pe in f){var fe=f[pe];if(Ee=d[pe],f.hasOwnProperty(pe)&&(fe!=null||Ee!=null))switch(pe){case"type":M=fe;break;case"name":x=fe;break;case"checked":ue=fe;break;case"defaultChecked":be=fe;break;case"value":H=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,a));break;default:fe!==Ee&&Q(o,a,pe,fe,f,Ee)}}Kc(o,H,j,ee,ue,be,M,x);return;case"select":fe=H=j=pe=null;for(M in d)if(ee=d[M],d.hasOwnProperty(M)&&ee!=null)switch(M){case"value":break;case"multiple":fe=ee;default:f.hasOwnProperty(M)||Q(o,a,M,null,f,ee)}for(x in f)if(M=f[x],ee=d[x],f.hasOwnProperty(x)&&(M!=null||ee!=null))switch(x){case"value":pe=M;break;case"defaultValue":j=M;break;case"multiple":H=M;default:M!==ee&&Q(o,a,x,M,f,ee)}a=j,d=H,f=fe,pe!=null?dr(o,!!d,pe,!1):!!f!=!!d&&(a!=null?dr(o,!!d,a,!0):dr(o,!!d,d?[]:"",!1));return;case"textarea":fe=pe=null;for(j in d)if(x=d[j],d.hasOwnProperty(j)&&x!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Q(o,a,j,null,f,x)}for(H in f)if(x=f[H],M=d[H],f.hasOwnProperty(H)&&(x!=null||M!=null))switch(H){case"value":pe=x;break;case"defaultValue":fe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==M&&Q(o,a,H,x,f,M)}Ss(o,pe,fe);return;case"option":for(var je in d)if(pe=d[je],d.hasOwnProperty(je)&&pe!=null&&!f.hasOwnProperty(je))switch(je){case"selected":o.selected=!1;break;default:Q(o,a,je,null,f,pe)}for(ee in f)if(pe=f[ee],fe=d[ee],f.hasOwnProperty(ee)&&pe!==fe&&(pe!=null||fe!=null))switch(ee){case"selected":o.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Q(o,a,ee,pe,f,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in d)pe=d[rt],d.hasOwnProperty(rt)&&pe!=null&&!f.hasOwnProperty(rt)&&Q(o,a,rt,null,f,pe);for(ue in f)if(pe=f[ue],fe=d[ue],f.hasOwnProperty(ue)&&pe!==fe&&(pe!=null||fe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,a));break;default:Q(o,a,ue,pe,f,fe)}return;default:if(ha(a)){for(var qt in d)pe=d[qt],d.hasOwnProperty(qt)&&pe!==void 0&&!f.hasOwnProperty(qt)&&Ce(o,a,qt,void 0,f,pe);for(be in f)pe=f[be],fe=d[be],!f.hasOwnProperty(be)||pe===fe||pe===void 0&&fe===void 0||Ce(o,a,be,pe,f,fe);return}}for(var ae in d)pe=d[ae],d.hasOwnProperty(ae)&&pe!=null&&!f.hasOwnProperty(ae)&&Q(o,a,ae,null,f,pe);for(Ee in f)pe=f[Ee],fe=d[Ee],!f.hasOwnProperty(Ee)||pe===fe||pe==null&&fe==null||Q(o,a,Ee,pe,f,fe)}function Ge(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function We(){if(typeof performance.getEntriesByType=="function"){for(var o=0,a=0,d=performance.getEntriesByType("resource"),f=0;f<d.length;f++){var x=d[f],M=x.transferSize,H=x.initiatorType,j=x.duration;if(M&&j&&Ge(H)){for(H=0,j=x.responseEnd,f+=1;f<d.length;f++){var ee=d[f],ue=ee.startTime;if(ue>j)break;var be=ee.transferSize,Ee=ee.initiatorType;be&&Ge(Ee)&&(ee=ee.responseEnd,H+=be*(ee<j?1:(j-ue)/(ee-ue)))}if(--f,a+=8*(M+H)/(x.duration/1e3),o++,10<o)break}}if(0<o)return a/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ke=null,Ie=null;function Ve(o){return o.nodeType===9?o:o.ownerDocument}function Ue(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function It(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function gt(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zi=null;function nt(){var o=window.event;return o&&o.type==="popstate"?o===zi?!1:(zi=o,!0):(zi=null,!1)}var et=typeof setTimeout=="function"?setTimeout:void 0,bt=typeof clearTimeout=="function"?clearTimeout:void 0,ut=typeof Promise=="function"?Promise:void 0,zt=typeof queueMicrotask=="function"?queueMicrotask:typeof ut<"u"?function(o){return ut.resolve(null).then(o).catch(_t)}:et;function _t(o){setTimeout(function(){throw o})}function pt(o){return o==="head"}function ti(o,a){var d=a,f=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(f===0){o.removeChild(x),dd(a);return}f--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")f++;else if(d==="html")Mg(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Mg(d);for(var M=d.firstChild;M;){var H=M.nextSibling,j=M.nodeName;M[ra]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&M.rel.toLowerCase()==="stylesheet"||d.removeChild(M),M=H}}else d==="body"&&Mg(o.ownerDocument.body);d=x}while(d);dd(a)}function $i(o,a){var d=o;o=0;do{var f=d.nextSibling;if(d.nodeType===1?a?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(a?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=f}while(d)}function Ki(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var d=a;switch(a=a.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Ki(d),Yd(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function Xo(o,a,d,f){for(;o.nodeType===1;){var x=d;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[ra])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(M=o.getAttribute("rel"),M==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(M!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(M=o.getAttribute("src"),(M!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&M&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var M=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===M)return o}else return o;if(o=Yi(o.nextSibling),o===null)break}return null}function cn(o,a,d){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=Yi(o.nextSibling),o===null))return null;return o}function qi(o,a){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=Yi(o.nextSibling),o===null))return null;return o}function qs(o){return o.data==="$?"||o.data==="$~"}function Ln(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function Vr(o,a){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=a;else if(o.data!=="$?"||d.readyState!=="loading")a();else{var f=function(){a(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function Yi(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return o}var Ps=null;function zr(o){o=o.nextSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(a===0)return Yi(o.nextSibling);a--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||a++}o=o.nextSibling}return null}function Eg(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(a===0)return o;a--}else d!=="/$"&&d!=="/&"||a++}o=o.previousSibling}return null}function jb(o,a,d){switch(a=Ve(d),o){case"html":if(o=a.documentElement,!o)throw Error(s(452));return o;case"head":if(o=a.head,!o)throw Error(s(453));return o;case"body":if(o=a.body,!o)throw Error(s(454));return o;default:throw Error(s(451))}}function Mg(o){for(var a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Yd(o)}var On=new Map,$b=new Set;function Em(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var _r=De.d;De.d={f:gD,r:pD,D:fD,C:mD,L:CD,m:vD,X:yD,S:wD,M:bD};function gD(){var o=_r.f(),a=id();return o||a}function pD(o){var a=la(o);a!==null&&a.tag===5&&a.type==="form"?Tu(a):_r.r(o)}var ld=typeof document>"u"?null:document;function Kb(o,a,d){var f=ld;if(f&&typeof a=="string"&&a){var x=ts(a);x='link[rel="'+o+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),$b.has(x)||($b.add(x),o={rel:o,crossOrigin:d,href:a},f.querySelector(x)===null&&(a=f.createElement("link"),we(a,"link",o),Ai(a),f.head.appendChild(a)))}}function fD(o){_r.D(o),Kb("dns-prefetch",o,null)}function mD(o,a){_r.C(o,a),Kb("preconnect",o,a)}function CD(o,a,d){_r.L(o,a,d);var f=ld;if(f&&o&&a){var x='link[rel="preload"][as="'+ts(a)+'"]';a==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+ts(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+ts(d.imageSizes)+'"]')):x+='[href="'+ts(o)+'"]';var M=x;switch(a){case"style":M=cd(o);break;case"script":M=ud(o)}On.has(M)||(o=R({rel:"preload",href:a==="image"&&d&&d.imageSrcSet?void 0:o,as:a},d),On.set(M,o),f.querySelector(x)!==null||a==="style"&&f.querySelector(Dg(M))||a==="script"&&f.querySelector(Tg(M))||(a=f.createElement("link"),we(a,"link",o),Ai(a),f.head.appendChild(a)))}}function vD(o,a){_r.m(o,a);var d=ld;if(d&&o){var f=a&&typeof a.as=="string"?a.as:"script",x='link[rel="modulepreload"][as="'+ts(f)+'"][href="'+ts(o)+'"]',M=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=ud(o)}if(!On.has(M)&&(o=R({rel:"modulepreload",href:o},a),On.set(M,o),d.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Tg(M)))return}f=d.createElement("link"),we(f,"link",o),Ai(f),d.head.appendChild(f)}}}function wD(o,a,d){_r.S(o,a,d);var f=ld;if(f&&o){var x=cr(f).hoistableStyles,M=cd(o);a=a||"default";var H=x.get(M);if(!H){var j={loading:0,preload:null};if(H=f.querySelector(Dg(M)))j.loading=5;else{o=R({rel:"stylesheet",href:o,"data-precedence":a},d),(d=On.get(M))&&Yv(o,d);var ee=H=f.createElement("link");Ai(ee),we(ee,"link",o),ee._p=new Promise(function(ue,be){ee.onload=ue,ee.onerror=be}),ee.addEventListener("load",function(){j.loading|=1}),ee.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Mm(H,a,f)}H={type:"stylesheet",instance:H,count:1,state:j},x.set(M,H)}}}function yD(o,a){_r.X(o,a);var d=ld;if(d&&o){var f=cr(d).hoistableScripts,x=ud(o),M=f.get(x);M||(M=d.querySelector(Tg(x)),M||(o=R({src:o,async:!0},a),(a=On.get(x))&&Xv(o,a),M=d.createElement("script"),Ai(M),we(M,"link",o),d.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},f.set(x,M))}}function bD(o,a){_r.M(o,a);var d=ld;if(d&&o){var f=cr(d).hoistableScripts,x=ud(o),M=f.get(x);M||(M=d.querySelector(Tg(x)),M||(o=R({src:o,async:!0,type:"module"},a),(a=On.get(x))&&Xv(o,a),M=d.createElement("script"),Ai(M),we(M,"link",o),d.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},f.set(x,M))}}function qb(o,a,d,f){var x=(x=it.current)?Em(x):null;if(!x)throw Error(s(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(a=cd(d.href),d=cr(x).hoistableStyles,f=d.get(a),f||(f={type:"style",instance:null,count:0,state:null},d.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=cd(d.href);var M=cr(x).hoistableStyles,H=M.get(o);if(H||(x=x.ownerDocument||x,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(o,H),(M=x.querySelector(Dg(o)))&&!M._p&&(H.instance=M,H.state.loading=5),On.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},On.set(o,d),M||SD(x,o,d,H.state))),a&&f===null)throw Error(s(528,""));return H}if(a&&f!==null)throw Error(s(529,""));return null;case"script":return a=d.async,d=d.src,typeof d=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ud(d),d=cr(x).hoistableScripts,f=d.get(a),f||(f={type:"script",instance:null,count:0,state:null},d.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,o))}}function cd(o){return'href="'+ts(o)+'"'}function Dg(o){return'link[rel="stylesheet"]['+o+"]"}function Yb(o){return R({},o,{"data-precedence":o.precedence,precedence:null})}function SD(o,a,d,f){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=o.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),we(a,"link",d),Ai(a),o.head.appendChild(a))}function ud(o){return'[src="'+ts(o)+'"]'}function Tg(o){return"script[async]"+o}function Xb(o,a,d){if(a.count++,a.instance===null)switch(a.type){case"style":var f=o.querySelector('style[data-href~="'+ts(d.href)+'"]');if(f)return a.instance=f,Ai(f),f;var x=R({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),Ai(f),we(f,"style",x),Mm(f,d.precedence,o),a.instance=f;case"stylesheet":x=cd(d.href);var M=o.querySelector(Dg(x));if(M)return a.state.loading|=4,a.instance=M,Ai(M),M;f=Yb(d),(x=On.get(x))&&Yv(f,x),M=(o.ownerDocument||o).createElement("link"),Ai(M);var H=M;return H._p=new Promise(function(j,ee){H.onload=j,H.onerror=ee}),we(M,"link",f),a.state.loading|=4,Mm(M,d.precedence,o),a.instance=M;case"script":return M=ud(d.src),(x=o.querySelector(Tg(M)))?(a.instance=x,Ai(x),x):(f=d,(x=On.get(M))&&(f=R({},d),Xv(f,x)),o=o.ownerDocument||o,x=o.createElement("script"),Ai(x),we(x,"link",f),o.head.appendChild(x),a.instance=x);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Mm(f,d.precedence,o));return a.instance}function Mm(o,a,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,M=x,H=0;H<f.length;H++){var j=f[H];if(j.dataset.precedence===a)M=j;else if(M!==x)break}M?M.parentNode.insertBefore(o,M.nextSibling):(a=d.nodeType===9?d.head:d,a.insertBefore(o,a.firstChild))}function Yv(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function Xv(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var Dm=null;function Zb(o,a,d){if(Dm===null){var f=new Map,x=Dm=new Map;x.set(d,f)}else x=Dm,f=x.get(d),f||(f=new Map,x.set(d,f));if(f.has(o))return f;for(f.set(o,null),d=d.getElementsByTagName(o),x=0;x<d.length;x++){var M=d[x];if(!(M[ra]||M[Mi]||o==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var H=M.getAttribute(a)||"";H=o+H;var j=f.get(H);j?j.push(M):f.set(H,[M])}}return f}function Qb(o,a,d){o=o.ownerDocument||o,o.head.insertBefore(d,a==="title"?o.querySelector("head > title"):null)}function xD(o,a,d){if(d===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jb(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function RD(o,a,d,f){if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=cd(f.href),M=a.querySelector(Dg(x));if(M){a=M._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(o.count++,o=Tm.bind(o),a.then(o,o)),d.state.loading|=4,d.instance=M,Ai(M);return}M=a.ownerDocument||a,f=Yb(f),(x=On.get(x))&&Yv(f,x),M=M.createElement("link"),Ai(M);var H=M;H._p=new Promise(function(j,ee){H.onload=j,H.onerror=ee}),we(M,"link",f),d.instance=M}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,a),(a=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=Tm.bind(o),a.addEventListener("load",d),a.addEventListener("error",d))}}var Zv=0;function ED(o,a){return o.stylesheets&&o.count===0&&Pm(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var f=setTimeout(function(){if(o.stylesheets&&Pm(o,o.stylesheets),o.unsuspend){var M=o.unsuspend;o.unsuspend=null,M()}},6e4+a);0<o.imgBytes&&Zv===0&&(Zv=62500*We());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Pm(o,o.stylesheets),o.unsuspend)){var M=o.unsuspend;o.unsuspend=null,M()}},(o.imgBytes>Zv?50:800)+a);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function Tm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Fm=null;function Pm(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Fm=new Map,a.forEach(MD,o),Fm=null,Tm.call(o))}function MD(o,a){if(!(a.state.loading&4)){var d=Fm.get(o);if(d)var f=d.get(null);else{d=new Map,Fm.set(o,d);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<x.length;M++){var H=x[M];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(d.set(H.dataset.precedence,H),f=H)}f&&d.set(null,f)}x=a.instance,H=x.getAttribute("data-precedence"),M=d.get(H)||f,M===f&&d.set(null,x),d.set(H,x),this.count++,f=Tm.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),M?M.parentNode.insertBefore(x,M.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),a.state.loading|=4}}var Fg={$$typeof:K,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function DD(o,a,d,f,x,M,H,j,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.hiddenUpdates=hl(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=M,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function eS(o,a,d,f,x,M,H,j,ee,ue,be,Ee){return o=new DD(o,a,d,H,ee,ue,be,Ee,j),a=1,M===!0&&(a|=24),M=Es(3,null,null,a),o.current=M,M.stateNode=o,a=Eh(),a.refCount++,o.pooledCache=a,a.refCount++,M.memoizedState={element:f,isDehydrated:d,cache:a},Ph(M),o}function tS(o){return o?(o=xa,o):xa}function iS(o,a,d,f,x,M){x=tS(x),f.context===null?f.context=x:f.pendingContext=x,f=Go(a),f.payload={element:d},M=M===void 0?null:M,M!==null&&(f.callback=M),d=Bs(o,f,a),d!==null&&(os(d,o,a),Vs(d,o,a))}function sS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function Qv(o,a){sS(o,a),(o=o.alternate)&&sS(o,a)}function nS(o){if(o.tag===13||o.tag===31){var a=yr(o,67108864);a!==null&&os(a,o,67108864),Qv(o,67108864)}}function oS(o){if(o.tag===13||o.tag===31){var a=fs();a=Ni(a);var d=yr(o,a);d!==null&&os(d,o,a),Qv(o,a)}}var Am=!0;function TD(o,a,d,f){var x=ge.T;ge.T=null;var M=De.p;try{De.p=2,Jv(o,a,d,f)}finally{De.p=M,ge.T=x}}function FD(o,a,d,f){var x=ge.T;ge.T=null;var M=De.p;try{De.p=8,Jv(o,a,d,f)}finally{De.p=M,ge.T=x}}function Jv(o,a,d,f){if(Am){var x=ew(f);if(x===null)z(o,a,f,km,d),aS(o,f);else if(AD(x,o,a,d,f))f.stopPropagation();else if(aS(o,f),a&4&&-1<PD.indexOf(o)){for(;x!==null;){var M=la(x);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var H=lr(M.pendingLanes);if(H!==0){var j=M;for(j.pendingLanes|=2,j.entangledLanes|=2;H;){var ee=1<<31-bs(H);j.entanglements[1]|=ee,H&=~ee}kn(M),(yt&6)===0&&(td=Mt()+500,ac(0))}}break;case 31:case 13:j=yr(M,2),j!==null&&os(j,M,2),id(),Qv(M,2)}if(M=ew(f),M===null&&z(o,a,f,km,d),M===x)break;x=M}x!==null&&f.stopPropagation()}else z(o,a,f,null,d)}}function ew(o){return o=eh(o),tw(o)}var km=null;function tw(o){if(km=null,o=aa(o),o!==null){var a=r(o);if(a===null)o=null;else{var d=a.tag;if(d===13){if(o=c(a),o!==null)return o;o=null}else if(d===31){if(o=h(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return km=o,null}function rS(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case na:return 2;case dl:return 8;case Bt:case Zi:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var iw=!1,Ua=null,ja=null,$a=null,Pg=new Map,Ag=new Map,Ka=[],PD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aS(o,a){switch(o){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Pg.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(a.pointerId)}}function kg(o,a,d,f,x,M){return o===null||o.nativeEvent!==M?(o={blockedOn:a,domEventName:d,eventSystemFlags:f,nativeEvent:M,targetContainers:[x]},a!==null&&(a=la(a),a!==null&&nS(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),o)}function AD(o,a,d,f,x){switch(a){case"focusin":return Ua=kg(Ua,o,a,d,f,x),!0;case"dragenter":return ja=kg(ja,o,a,d,f,x),!0;case"mouseover":return $a=kg($a,o,a,d,f,x),!0;case"pointerover":var M=x.pointerId;return Pg.set(M,kg(Pg.get(M)||null,o,a,d,f,x)),!0;case"gotpointercapture":return M=x.pointerId,Ag.set(M,kg(Ag.get(M)||null,o,a,d,f,x)),!0}return!1}function lS(o){var a=aa(o.target);if(a!==null){var d=r(a);if(d!==null){if(a=d.tag,a===13){if(a=c(d),a!==null){o.blockedOn=a,Ip(o.priority,function(){oS(d)});return}}else if(a===31){if(a=h(d),a!==null){o.blockedOn=a,Ip(o.priority,function(){oS(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lm(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=ew(o.nativeEvent);if(d===null){d=o.nativeEvent;var f=new d.constructor(d.type,d);So=f,d.target.dispatchEvent(f),So=null}else return a=la(d),a!==null&&nS(a),o.blockedOn=d,!1;a.shift()}return!0}function cS(o,a,d){Lm(o)&&d.delete(a)}function kD(){iw=!1,Ua!==null&&Lm(Ua)&&(Ua=null),ja!==null&&Lm(ja)&&(ja=null),$a!==null&&Lm($a)&&($a=null),Pg.forEach(cS),Ag.forEach(cS)}function Om(o,a){o.blockedOn===a&&(o.blockedOn=null,iw||(iw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kD)))}var Im=null;function uS(o){Im!==o&&(Im=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Im===o&&(Im=null);for(var a=0;a<o.length;a+=3){var d=o[a],f=o[a+1],x=o[a+2];if(typeof f!="function"){if(tw(f||d)===null)continue;break}var M=la(d);M!==null&&(o.splice(a,3),a-=3,_l(M,{pending:!0,data:x,method:d.method,action:f},f,x))}}))}function dd(o){function a(ee){return Om(ee,o)}Ua!==null&&Om(Ua,o),ja!==null&&Om(ja,o),$a!==null&&Om($a,o),Pg.forEach(a),Ag.forEach(a);for(var d=0;d<Ka.length;d++){var f=Ka[d];f.blockedOn===o&&(f.blockedOn=null)}for(;0<Ka.length&&(d=Ka[0],d.blockedOn===null);)lS(d),d.blockedOn===null&&Ka.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var x=d[f],M=d[f+1],H=x[es]||null;if(typeof M=="function")H||uS(d);else if(H){var j=null;if(M&&M.hasAttribute("formAction")){if(x=M,H=M[es]||null)j=H.formAction;else if(tw(x)!==null)continue}else j=H.action;typeof j=="function"?d[f+1]=j:(d.splice(f,3),f-=3),uS(d)}}}function dS(){function o(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(H){return x=H})},focusReset:"manual",scroll:"manual"})}function a(){x!==null&&(x(),x=null),f||setTimeout(d,20)}function d(){if(!f&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(d,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),x!==null&&(x(),x=null)}}}function sw(o){this._internalRoot=o}Hm.prototype.render=sw.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(s(409));var d=a.current,f=fs();iS(d,f,o,a,null,null)},Hm.prototype.unmount=sw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;iS(o.current,2,null,o,null,null),id(),a[oa]=null}};function Hm(o){this._internalRoot=o}Hm.prototype.unstable_scheduleHydration=function(o){if(o){var a=Op();o={blockedOn:null,target:o,priority:a};for(var d=0;d<Ka.length&&a!==0&&a<Ka[d].priority;d++);Ka.splice(d,0,o),d===0&&lS(o)}};var hS=t.version;if(hS!=="19.2.0")throw Error(s(527,hS,"19.2.0"));De.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=v(a),o=o!==null?b(o):null,o=o===null?null:o.stateNode,o};var LD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{Yt=Nm.inject(LD),Qi=Nm}catch{}}return Og.createRoot=function(o,a){if(!n(o))throw Error(s(299));var d=!1,f="",x=ro,M=Iu,H=vt;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(x=a.onUncaughtError),a.onCaughtError!==void 0&&(M=a.onCaughtError),a.onRecoverableError!==void 0&&(H=a.onRecoverableError)),a=eS(o,1,!1,null,null,d,f,null,x,M,H,dS),o[oa]=a.current,L(o),new sw(a)},Og.hydrateRoot=function(o,a,d){if(!n(o))throw Error(s(299));var f=!1,x="",M=ro,H=Iu,j=vt,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(M=d.onUncaughtError),d.onCaughtError!==void 0&&(H=d.onCaughtError),d.onRecoverableError!==void 0&&(j=d.onRecoverableError),d.formState!==void 0&&(ee=d.formState)),a=eS(o,1,!0,a,d??null,f,x,ee,M,H,j,dS),a.context=tS(null),d=a.current,f=fs(),f=Ni(f),x=Go(f),x.callback=null,Bs(d,x,f),d=f,a.current.lanes=d,Vt(a,d),kn(a),o[oa]=a.current,L(o),new Hm(a)},Og.version="19.2.0",Og}var SS;function _D(){if(SS)return rw.exports;SS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rw.exports=zD(),rw.exports}var WD=_D();const UD=mp(WD);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xS="popstate";function jD(e={}){function t(s,n){let{pathname:r,search:c,hash:h}=s.location;return Xw("",{pathname:r,search:c,hash:h},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(s,n){return typeof n=="string"?n:Jg(n)}return KD(t,i,null,e)}function hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function po(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $D(){return Math.random().toString(36).substring(2,10)}function RS(e,t){return{usr:e.state,key:e.key,idx:t}}function Xw(e,t,i=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nd(t):t,state:i,key:t&&t.key||s||$D()}}function Jg({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Nd(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function KD(e,t,i,s={}){let{window:n=document.defaultView,v5Compat:r=!1}=s,c=n.history,h="POP",p=null,v=b();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function b(){return(c.state||{idx:null}).idx}function R(){h="POP";let _=b(),W=_==null?null:_-v;v=_,p&&p({action:h,location:V.location,delta:W})}function F(_,W){h="PUSH";let U=Xw(V.location,_,W);v=b()+1;let K=RS(U,v),X=V.createHref(U);try{c.pushState(K,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;n.location.assign(X)}r&&p&&p({action:h,location:V.location,delta:1})}function k(_,W){h="REPLACE";let U=Xw(V.location,_,W);v=b();let K=RS(U,v),X=V.createHref(U);c.replaceState(K,"",X),r&&p&&p({action:h,location:V.location,delta:0})}function O(_){return qD(_)}let V={get action(){return h},get location(){return e(n,c)},listen(_){if(p)throw new Error("A history only accepts one active listener");return n.addEventListener(xS,R),p=_,()=>{n.removeEventListener(xS,R),p=null}},createHref(_){return t(n,_)},createURL:O,encodeLocation(_){let W=O(_);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:F,replace:k,go(_){return c.go(_)}};return V}function qD(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),hi(i,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Jg(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Sx(e,t,i="/"){return YD(e,t,i,!1)}function YD(e,t,i,s){let n=typeof t=="string"?Nd(t):t,r=Zr(n.pathname||"/",i);if(r==null)return null;let c=xx(e);XD(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=aT(r);h=oT(c[p],v,s)}return h}function xx(e,t=[],i=[],s="",n=!1){let r=(c,h,p=n,v)=>{let b={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;hi(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let R=$r([s,b.relativePath]),F=i.concat(b);c.children&&c.children.length>0&&(hi(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),xx(c.children,t,F,R,p)),!(c.path==null&&!c.index)&&t.push({path:R,score:sT(R,c.index),routesMeta:F})};return e.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))r(c,h);else for(let p of Rx(c.path))r(c,h,!0,p)}),t}function Rx(e){let t=e.split("/");if(t.length===0)return[];let[i,...s]=t,n=i.endsWith("?"),r=i.replace(/\?$/,"");if(s.length===0)return n?[r,""]:[r];let c=Rx(s.join("/")),h=[];return h.push(...c.map(p=>p===""?r:[r,p].join("/"))),n&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function XD(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:nT(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var ZD=/^:[\w-]+$/,QD=3,JD=2,eT=1,tT=10,iT=-2,ES=e=>e==="*";function sT(e,t){let i=e.split("/"),s=i.length;return i.some(ES)&&(s+=iT),t&&(s+=JD),i.filter(n=>!ES(n)).reduce((n,r)=>n+(ZD.test(r)?QD:r===""?eT:tT),s)}function nT(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function oT(e,t,i=!1){let{routesMeta:s}=e,n={},r="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],v=h===s.length-1,b=r==="/"?t:t.slice(r.length)||"/",R=CC({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},b),F=p.route;if(!R&&v&&i&&!s[s.length-1].route.index&&(R=CC({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!R)return null;Object.assign(n,R.params),c.push({params:n,pathname:$r([r,R.pathname]),pathnameBase:dT($r([r,R.pathnameBase])),route:F}),R.pathnameBase!=="/"&&(r=$r([r,R.pathnameBase]))}return c}function CC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=rT(e.path,e.caseSensitive,e.end),n=t.match(i);if(!n)return null;let r=n[0],c=r.replace(/(.)\/+$/,"$1"),h=n.slice(1);return{params:s.reduce((v,{paramName:b,isOptional:R},F)=>{if(b==="*"){let O=h[F]||"";c=r.slice(0,r.length-O.length).replace(/(.)\/+$/,"$1")}const k=h[F];return R&&!k?v[b]=void 0:v[b]=(k||"").replace(/%2F/g,"/"),v},{}),pathname:r,pathnameBase:c,pattern:e}}function rT(e,t=!1,i=!0){po(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function aT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return po(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function lT(e,t="/"){let{pathname:i,search:s="",hash:n=""}=typeof e=="string"?Nd(e):e;return{pathname:i?i.startsWith("/")?i:cT(i,t):t,search:hT(s),hash:gT(n)}}function cT(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function uw(e,t,i,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uT(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function zy(e){let t=uT(e);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function _y(e,t,i,s=!1){let n;typeof e=="string"?n=Nd(e):(n={...e},hi(!n.pathname||!n.pathname.includes("?"),uw("?","pathname","search",n)),hi(!n.pathname||!n.pathname.includes("#"),uw("#","pathname","hash",n)),hi(!n.search||!n.search.includes("#"),uw("#","search","hash",n)));let r=e===""||n.pathname==="",c=r?"/":n.pathname,h;if(c==null)h=i;else{let R=t.length-1;if(!s&&c.startsWith("..")){let F=c.split("/");for(;F[0]==="..";)F.shift(),R-=1;n.pathname=F.join("/")}h=R>=0?t[R]:"/"}let p=lT(n,h),v=c&&c!=="/"&&c.endsWith("/"),b=(r||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(v||b)&&(p.pathname+="/"),p}var $r=e=>e.join("/").replace(/\/\/+/g,"/"),dT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ex=["POST","PUT","PATCH","DELETE"];new Set(Ex);var fT=["GET",...Ex];new Set(fT);var Gd=G.createContext(null);Gd.displayName="DataRouter";var KC=G.createContext(null);KC.displayName="DataRouterState";G.createContext(!1);var Mx=G.createContext({isTransitioning:!1});Mx.displayName="ViewTransition";var mT=G.createContext(new Map);mT.displayName="Fetchers";var CT=G.createContext(null);CT.displayName="Await";var fo=G.createContext(null);fo.displayName="Navigation";var vp=G.createContext(null);vp.displayName="Location";var rr=G.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Wy=G.createContext(null);Wy.displayName="RouteError";function vT(e,{relative:t}={}){hi(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(fo),{hash:n,pathname:r,search:c}=wp(e,{relative:t}),h=r;return i!=="/"&&(h=r==="/"?i:$r([i,r])),s.createHref({pathname:h,search:c,hash:n})}function Bd(){return G.useContext(vp)!=null}function rl(){return hi(Bd(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(vp).location}var Dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tx(e){G.useContext(fo).static||G.useLayoutEffect(e)}function Uy(){let{isDataRoute:e}=G.useContext(rr);return e?AT():wT()}function wT(){hi(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let e=G.useContext(Gd),{basename:t,navigator:i}=G.useContext(fo),{matches:s}=G.useContext(rr),{pathname:n}=rl(),r=JSON.stringify(zy(s)),c=G.useRef(!1);return Tx(()=>{c.current=!0}),G.useCallback((p,v={})=>{if(po(c.current,Dx),!c.current)return;if(typeof p=="number"){i.go(p);return}let b=_y(p,JSON.parse(r),n,v.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:$r([t,b.pathname])),(v.replace?i.replace:i.push)(b,v.state,v)},[t,i,r,n,e])}G.createContext(null);function wp(e,{relative:t}={}){let{matches:i}=G.useContext(rr),{pathname:s}=rl(),n=JSON.stringify(zy(i));return G.useMemo(()=>_y(e,JSON.parse(n),s,t==="path"),[e,n,s,t])}function yT(e,t){return Fx(e,t)}function Fx(e,t,i,s,n){hi(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=G.useContext(fo),{matches:c}=G.useContext(rr),h=c[c.length-1],p=h?h.params:{},v=h?h.pathname:"/",b=h?h.pathnameBase:"/",R=h&&h.route;{let U=R&&R.path||"";Px(v,!R||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let F=rl(),k;if(t){let U=typeof t=="string"?Nd(t):t;hi(b==="/"||U.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${U.pathname}" was given in the \`location\` prop.`),k=U}else k=F;let O=k.pathname||"/",V=O;if(b!=="/"){let U=b.replace(/^\//,"").split("/");V="/"+O.replace(/^\//,"").split("/").slice(U.length).join("/")}let _=Sx(e,{pathname:V});po(R||_!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),po(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=ET(_&&_.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:$r([b,r.encodeLocation?r.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?b:$r([b,r.encodeLocation?r.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,i,s,n);return t&&W?G.createElement(vp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},W):W}function bT(){let e=PT(),t=pT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:r},"ErrorBoundary")," or"," ",G.createElement("code",{style:r},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),i?G.createElement("pre",{style:n},i):null,c)}var ST=G.createElement(bT,null),xT=class extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?G.createElement(rr.Provider,{value:this.props.routeContext},G.createElement(Wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RT({routeContext:e,match:t,children:i}){let s=G.useContext(Gd);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(rr.Provider,{value:e},i)}function ET(e,t=[],i=null,s=null,n=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let r=e,c=i?.errors;if(c!=null){let v=r.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);hi(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),r=r.slice(0,Math.min(r.length,v+1))}let h=!1,p=-1;if(i)for(let v=0;v<r.length;v++){let b=r[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:R,errors:F}=i,k=b.route.loader&&!R.hasOwnProperty(b.route.id)&&(!F||F[b.route.id]===void 0);if(b.route.lazy||k){h=!0,p>=0?r=r.slice(0,p+1):r=[r[0]];break}}}return r.reduceRight((v,b,R)=>{let F,k=!1,O=null,V=null;i&&(F=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||ST,h&&(p<0&&R===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,V=null):p===R&&(k=!0,V=b.route.hydrateFallbackElement||null)));let _=t.concat(r.slice(0,R+1)),W=()=>{let U;return F?U=O:k?U=V:b.route.Component?U=G.createElement(b.route.Component,null):b.route.element?U=b.route.element:U=v,G.createElement(RT,{match:b,routeContext:{outlet:v,matches:_,isDataRoute:i!=null},children:U})};return i&&(b.route.ErrorBoundary||b.route.errorElement||R===0)?G.createElement(xT,{location:i.location,revalidation:i.revalidation,component:O,error:F,children:W(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:s}):W()},null)}function jy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(e){let t=G.useContext(Gd);return hi(t,jy(e)),t}function DT(e){let t=G.useContext(KC);return hi(t,jy(e)),t}function TT(e){let t=G.useContext(rr);return hi(t,jy(e)),t}function $y(e){let t=TT(e),i=t.matches[t.matches.length-1];return hi(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function FT(){return $y("useRouteId")}function PT(){let e=G.useContext(Wy),t=DT("useRouteError"),i=$y("useRouteError");return e!==void 0?e:t.errors?.[i]}function AT(){let{router:e}=MT("useNavigate"),t=$y("useNavigate"),i=G.useRef(!1);return Tx(()=>{i.current=!0}),G.useCallback(async(n,r={})=>{po(i.current,Dx),i.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...r}))},[e,t])}var MS={};function Px(e,t,i){!t&&!MS[e]&&(MS[e]=!0,po(!1,i))}G.memo(kT);function kT({routes:e,future:t,state:i,unstable_onError:s}){return Fx(e,void 0,i,s,t)}function qC({to:e,replace:t,state:i,relative:s}){hi(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=G.useContext(fo);po(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=G.useContext(rr),{pathname:c}=rl(),h=Uy(),p=_y(e,zy(r),c,s==="path"),v=JSON.stringify(p);return G.useEffect(()=>{h(JSON.parse(v),{replace:t,state:i,relative:s})},[h,v,s,t,i]),null}function zg(e){hi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LT({basename:e="/",children:t=null,location:i,navigationType:s="POP",navigator:n,static:r=!1}){hi(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:c,navigator:n,static:r,future:{}}),[c,n,r]);typeof i=="string"&&(i=Nd(i));let{pathname:p="/",search:v="",hash:b="",state:R=null,key:F="default"}=i,k=G.useMemo(()=>{let O=Zr(p,c);return O==null?null:{location:{pathname:O,search:v,hash:b,state:R,key:F},navigationType:s}},[c,p,v,b,R,F,s]);return po(k!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:G.createElement(fo.Provider,{value:h},G.createElement(vp.Provider,{children:t,value:k}))}function OT({children:e,location:t}){return yT(Zw(e),t)}function Zw(e,t=[]){let i=[];return G.Children.forEach(e,(s,n)=>{if(!G.isValidElement(s))return;let r=[...t,n];if(s.type===G.Fragment){i.push.apply(i,Zw(s.props.children,r));return}hi(s.type===zg,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hi(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zw(s.props.children,r)),i.push(c)}),i}var Qm="get",Jm="application/x-www-form-urlencoded";function YC(e){return e!=null&&typeof e.tagName=="string"}function IT(e){return YC(e)&&e.tagName.toLowerCase()==="button"}function HT(e){return YC(e)&&e.tagName.toLowerCase()==="form"}function NT(e){return YC(e)&&e.tagName.toLowerCase()==="input"}function GT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BT(e,t){return e.button===0&&(!t||t==="_self")&&!GT(e)}var Gm=null;function VT(){if(Gm===null)try{new FormData(document.createElement("form"),0),Gm=!1}catch{Gm=!0}return Gm}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dw(e){return e!=null&&!zT.has(e)?(po(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jm}"`),null):e}function _T(e,t){let i,s,n,r,c;if(HT(e)){let h=e.getAttribute("action");s=h?Zr(h,t):null,i=e.getAttribute("method")||Qm,n=dw(e.getAttribute("enctype"))||Jm,r=new FormData(e)}else if(IT(e)||NT(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(s=p?Zr(p,t):null,i=e.getAttribute("formmethod")||h.getAttribute("method")||Qm,n=dw(e.getAttribute("formenctype"))||dw(h.getAttribute("enctype"))||Jm,r=new FormData(h,e),!VT()){let{name:v,type:b,value:R}=e;if(b==="image"){let F=v?`${v}.`:"";r.append(`${F}x`,"0"),r.append(`${F}y`,"0")}else v&&r.append(v,R)}}else{if(YC(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Qm,s=null,n=Jm,c=e}return r&&n==="text/plain"&&(c=r,r=void 0),{action:s,method:i.toLowerCase(),encType:n,formData:r,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WT(e,t,i){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Zr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function UT(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $T(e,t,i){let s=await Promise.all(e.map(async n=>{let r=t.routes[n.route.id];if(r){let c=await UT(r,i);return c.links?c.links():[]}return[]}));return XT(s.flat(1).filter(jT).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function DS(e,t,i,s,n,r){let c=(p,v)=>i[v]?p.route.id!==i[v].route.id:!0,h=(p,v)=>i[v].pathname!==p.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==p.params["*"];return r==="assets"?t.filter((p,v)=>c(p,v)||h(p,v)):r==="data"?t.filter((p,v)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,v)||h(p,v))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function KT(e,t,{includeHydrateFallback:i}={}){return qT(e.map(s=>{let n=t.routes[s.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),i&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function qT(e){return[...new Set(e)]}function YT(e){let t={},i=Object.keys(e).sort();for(let s of i)t[s]=e[s];return t}function XT(e,t){let i=new Set;return new Set(t),e.reduce((s,n)=>{let r=JSON.stringify(YT(n));return i.has(r)||(i.add(r),s.push({key:r,link:n})),s},[])}function Ax(){let e=G.useContext(Gd);return Ky(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZT(){let e=G.useContext(KC);return Ky(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qy=G.createContext(void 0);qy.displayName="FrameworkContext";function kx(){let e=G.useContext(qy);return Ky(e,"You must render this element inside a <HydratedRouter> element"),e}function QT(e,t){let i=G.useContext(qy),[s,n]=G.useState(!1),[r,c]=G.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:v,onMouseLeave:b,onTouchStart:R}=t,F=G.useRef(null);G.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let V=W=>{W.forEach(U=>{c(U.isIntersecting)})},_=new IntersectionObserver(V,{threshold:.5});return F.current&&_.observe(F.current),()=>{_.disconnect()}}},[e]),G.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let k=()=>{n(!0)},O=()=>{n(!1),c(!1)};return i?e!=="intent"?[r,F,{}]:[r,F,{onFocus:Ig(h,k),onBlur:Ig(p,O),onMouseEnter:Ig(v,k),onMouseLeave:Ig(b,O),onTouchStart:Ig(R,k)}]:[!1,F,{}]}function Ig(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function JT({page:e,...t}){let{router:i}=Ax(),s=G.useMemo(()=>Sx(i.routes,e,i.basename),[i.routes,e,i.basename]);return s?G.createElement(tF,{page:e,matches:s,...t}):null}function eF(e){let{manifest:t,routeModules:i}=kx(),[s,n]=G.useState([]);return G.useEffect(()=>{let r=!1;return $T(e,t,i).then(c=>{r||n(c)}),()=>{r=!0}},[e,t,i]),s}function tF({page:e,matches:t,...i}){let s=rl(),{manifest:n,routeModules:r}=kx(),{basename:c}=Ax(),{loaderData:h,matches:p}=ZT(),v=G.useMemo(()=>DS(e,t,p,n,s,"data"),[e,t,p,n,s]),b=G.useMemo(()=>DS(e,t,p,n,s,"assets"),[e,t,p,n,s]),R=G.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let O=new Set,V=!1;if(t.forEach(W=>{let U=n.routes[W.route.id];!U||!U.hasLoader||(!v.some(K=>K.route.id===W.route.id)&&W.route.id in h&&r[W.route.id]?.shouldRevalidate||U.hasClientLoader?V=!0:O.add(W.route.id))}),O.size===0)return[];let _=WT(e,c,"data");return V&&O.size>0&&_.searchParams.set("_routes",t.filter(W=>O.has(W.route.id)).map(W=>W.route.id).join(",")),[_.pathname+_.search]},[c,h,s,n,v,t,e,r]),F=G.useMemo(()=>KT(b,n),[b,n]),k=eF(b);return G.createElement(G.Fragment,null,R.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),F.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),k.map(({key:O,link:V})=>G.createElement("link",{key:O,nonce:i.nonce,...V})))}function iF(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lx&&(window.__reactRouterVersion="7.9.4")}catch{}function sF({basename:e,children:t,window:i}){let s=G.useRef();s.current==null&&(s.current=jD({window:i,v5Compat:!0}));let n=s.current,[r,c]=G.useState({action:n.action,location:n.location}),h=G.useCallback(p=>{G.startTransition(()=>c(p))},[c]);return G.useLayoutEffect(()=>n.listen(h),[n,h]),G.createElement(LT,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}var Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ix=G.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:n,reloadDocument:r,replace:c,state:h,target:p,to:v,preventScrollReset:b,viewTransition:R,...F},k){let{basename:O}=G.useContext(fo),V=typeof v=="string"&&Ox.test(v),_,W=!1;if(typeof v=="string"&&V&&(_=v,Lx))try{let Fe=new URL(window.location.href),Pe=v.startsWith("//")?new URL(Fe.protocol+v):new URL(v),me=Zr(Pe.pathname,O);Pe.origin===Fe.origin&&me!=null?v=me+Pe.search+Pe.hash:W=!0}catch{po(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=vT(v,{relative:n}),[K,X,Y]=QT(s,F),de=aF(v,{replace:c,state:h,target:p,preventScrollReset:b,relative:n,viewTransition:R});function re(Fe){t&&t(Fe),Fe.defaultPrevented||de(Fe)}let ie=G.createElement("a",{...F,...Y,href:_||U,onClick:W||r?t:re,ref:iF(k,X),target:p,"data-discover":!V&&i==="render"?"true":void 0});return K&&!V?G.createElement(G.Fragment,null,ie,G.createElement(JT,{page:U})):ie});Ix.displayName="Link";var nF=G.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:n=!1,style:r,to:c,viewTransition:h,children:p,...v},b){let R=wp(c,{relative:v.relative}),F=rl(),k=G.useContext(KC),{navigator:O,basename:V}=G.useContext(fo),_=k!=null&&hF(R)&&h===!0,W=O.encodeLocation?O.encodeLocation(R).pathname:R.pathname,U=F.pathname,K=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(U=U.toLowerCase(),K=K?K.toLowerCase():null,W=W.toLowerCase()),K&&V&&(K=Zr(K,V)||K);const X=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Y=U===W||!n&&U.startsWith(W)&&U.charAt(X)==="/",de=K!=null&&(K===W||!n&&K.startsWith(W)&&K.charAt(W.length)==="/"),re={isActive:Y,isPending:de,isTransitioning:_},ie=Y?t:void 0,Fe;typeof s=="function"?Fe=s(re):Fe=[s,Y?"active":null,de?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Pe=typeof r=="function"?r(re):r;return G.createElement(Ix,{...v,"aria-current":ie,className:Fe,ref:b,style:Pe,to:c,viewTransition:h},typeof p=="function"?p(re):p)});nF.displayName="NavLink";var oF=G.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:n,state:r,method:c=Qm,action:h,onSubmit:p,relative:v,preventScrollReset:b,viewTransition:R,...F},k)=>{let O=uF(),V=dF(h,{relative:v}),_=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&Ox.test(h),U=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let X=K.nativeEvent.submitter,Y=X?.getAttribute("formmethod")||c;O(X||K.currentTarget,{fetcherKey:t,method:Y,navigate:i,replace:n,state:r,relative:v,preventScrollReset:b,viewTransition:R})};return G.createElement("form",{ref:k,method:_,action:V,onSubmit:s?p:U,...F,"data-discover":!W&&e==="render"?"true":void 0})});oF.displayName="Form";function rF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(e){let t=G.useContext(Gd);return hi(t,rF(e)),t}function aF(e,{target:t,replace:i,state:s,preventScrollReset:n,relative:r,viewTransition:c}={}){let h=Uy(),p=rl(),v=wp(e,{relative:r});return G.useCallback(b=>{if(BT(b,t)){b.preventDefault();let R=i!==void 0?i:Jg(p)===Jg(v);h(e,{replace:R,state:s,preventScrollReset:n,relative:r,viewTransition:c})}},[p,h,v,i,s,t,e,n,r,c])}var lF=0,cF=()=>`__${String(++lF)}__`;function uF(){let{router:e}=Hx("useSubmit"),{basename:t}=G.useContext(fo),i=FT();return G.useCallback(async(s,n={})=>{let{action:r,method:c,encType:h,formData:p,body:v}=_T(s,t);if(n.navigate===!1){let b=n.fetcherKey||cF();await e.fetch(b,i,n.action||r,{preventScrollReset:n.preventScrollReset,formData:p,body:v,formMethod:n.method||c,formEncType:n.encType||h,flushSync:n.flushSync})}else await e.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:p,body:v,formMethod:n.method||c,formEncType:n.encType||h,replace:n.replace,state:n.state,fromRouteId:i,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,i])}function dF(e,{relative:t}={}){let{basename:i}=G.useContext(fo),s=G.useContext(rr);hi(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),r={...wp(e||".",{relative:t})},c=rl();if(e==null){r.search=c.search;let h=new URLSearchParams(r.search),p=h.getAll("index");if(p.some(b=>b==="")){h.delete("index"),p.filter(R=>R).forEach(R=>h.append("index",R));let b=h.toString();r.search=b?`?${b}`:""}}return(!e||e===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:$r([i,r.pathname])),Jg(r)}function hF(e,{relative:t}={}){let i=G.useContext(Mx);hi(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Hx("useViewTransitionState"),n=wp(e,{relative:t});if(!i.isTransitioning)return!1;let r=Zr(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=Zr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return CC(n.pathname,c)!=null||CC(n.pathname,r)!=null}var Yy=bx();const gF=mp(Yy),TS=({type:e,value:t,onChange:i})=>Se.jsxs("label",{className:"block text-black",children:[Se.jsx("span",{className:"text-sm capitalize",children:e}),Se.jsx("input",{"data-testid":`login-${e}`,className:"mt-1 w-full text-black rounded-lg border px-3 py-2 placeholder:capitalize",placeholder:e,value:t,onChange:i})]});var hw={exports:{}},gw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function pF(){if(FS)return gw;FS=1;var e=Cp();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,n=e.useRef,r=e.useEffect,c=e.useMemo,h=e.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(p,v,b,R,F){var k=n(null);if(k.current===null){var O={hasValue:!1,value:null};k.current=O}else O=k.current;k=c(function(){function _(Y){if(!W){if(W=!0,U=Y,Y=R(Y),F!==void 0&&O.hasValue){var de=O.value;if(F(de,Y))return K=de}return K=Y}if(de=K,i(U,Y))return de;var re=R(Y);return F!==void 0&&F(de,re)?(U=Y,de):(U=Y,K=re)}var W=!1,U,K,X=b===void 0?null:b;return[function(){return _(v())},X===null?void 0:function(){return _(X())}]},[v,b,R,F]);var V=s(p,k[0],k[1]);return r(function(){O.hasValue=!0,O.value=V},[V]),h(V),V},gw}var PS;function fF(){return PS||(PS=1,hw.exports=pF()),hw.exports}var mF=fF();function CF(e){e()}function vF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CF(()=>{let i=e;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=e;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const n=t={callback:i,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!s||e===null||(s=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var AS={notify(){},get:()=>[]};function wF(e,t){let i,s=AS,n=0,r=!1;function c(V){b();const _=s.subscribe(V);let W=!1;return()=>{W||(W=!0,_(),R())}}function h(){s.notify()}function p(){O.onStateChange&&O.onStateChange()}function v(){return r}function b(){n++,i||(i=e.subscribe(p),s=vF())}function R(){n--,i&&n===0&&(i(),i=void 0,s.clear(),s=AS)}function F(){r||(r=!0,b())}function k(){r&&(r=!1,R())}const O={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:v,trySubscribe:F,tryUnsubscribe:k,getListeners:()=>s};return O}var yF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bF=yF(),SF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xF=SF(),RF=()=>bF||xF?G.useLayoutEffect:G.useEffect,EF=RF(),MF=Symbol.for("react-redux-context"),DF=typeof globalThis<"u"?globalThis:{};function TF(){if(!G.createContext)return{};const e=DF[MF]??=new Map;let t=e.get(G.createContext);return t||(t=G.createContext(null),e.set(G.createContext,t)),t}var tl=TF();function FF(e){const{children:t,context:i,serverState:s,store:n}=e,r=G.useMemo(()=>{const p=wF(n);return{store:n,subscription:p,getServerState:s?()=>s:void 0}},[n,s]),c=G.useMemo(()=>n.getState(),[n]);EF(()=>{const{subscription:p}=r;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==n.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[r,c]);const h=i||tl;return G.createElement(h.Provider,{value:r},t)}var PF=FF;function Xy(e=tl){return function(){return G.useContext(e)}}var Nx=Xy();function Gx(e=tl){const t=e===tl?Nx:Xy(e),i=()=>{const{store:s}=t();return s};return Object.assign(i,{withTypes:()=>i}),i}var AF=Gx();function kF(e=tl){const t=e===tl?AF:Gx(e),i=()=>t().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var LF=kF(),OF=(e,t)=>e===t;function IF(e=tl){const t=e===tl?Nx:Xy(e),i=(s,n={})=>{const{equalityFn:r=OF}=typeof n=="function"?{equalityFn:n}:n,c=t(),{store:h,subscription:p,getServerState:v}=c;G.useRef(!0);const b=G.useCallback({[s.name](F){return s(F)}}[s.name],[s]),R=mF.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,v||h.getState,b,r);return G.useDebugValue(R),R};return Object.assign(i,{withTypes:()=>i}),i}var Bx=IF();const Lc=()=>LF(),Oi=Bx;function rs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HF=typeof Symbol=="function"&&Symbol.observable||"@@observable",kS=HF,pw=()=>Math.random().toString(36).substring(7).split("").join("."),NF={INIT:`@@redux/INIT${pw()}`,REPLACE:`@@redux/REPLACE${pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pw()}`},vC=NF;function Zy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Vx(e,t,i){if(typeof e!="function")throw new Error(rs(2));if(typeof t=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(rs(0));if(typeof t=="function"&&typeof i>"u"&&(i=t,t=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(rs(1));return i(Vx)(e,t)}let s=e,n=t,r=new Map,c=r,h=0,p=!1;function v(){c===r&&(c=new Map,r.forEach((_,W)=>{c.set(W,_)}))}function b(){if(p)throw new Error(rs(3));return n}function R(_){if(typeof _!="function")throw new Error(rs(4));if(p)throw new Error(rs(5));let W=!0;v();const U=h++;return c.set(U,_),function(){if(W){if(p)throw new Error(rs(6));W=!1,v(),c.delete(U),r=null}}}function F(_){if(!Zy(_))throw new Error(rs(7));if(typeof _.type>"u")throw new Error(rs(8));if(typeof _.type!="string")throw new Error(rs(17));if(p)throw new Error(rs(9));try{p=!0,n=s(n,_)}finally{p=!1}return(r=c).forEach(U=>{U()}),_}function k(_){if(typeof _!="function")throw new Error(rs(10));s=_,F({type:vC.REPLACE})}function O(){const _=R;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(rs(11));function U(){const X=W;X.next&&X.next(b())}return U(),{unsubscribe:_(U)}},[kS](){return this}}}return F({type:vC.INIT}),{dispatch:F,subscribe:R,getState:b,replaceReducer:k,[kS]:O}}function GF(e){Object.keys(e).forEach(t=>{const i=e[t];if(typeof i(void 0,{type:vC.INIT})>"u")throw new Error(rs(12));if(typeof i(void 0,{type:vC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rs(13))})}function BF(e){const t=Object.keys(e),i={};for(let r=0;r<t.length;r++){const c=t[r];typeof e[c]=="function"&&(i[c]=e[c])}const s=Object.keys(i);let n;try{GF(i)}catch(r){n=r}return function(c={},h){if(n)throw n;let p=!1;const v={};for(let b=0;b<s.length;b++){const R=s[b],F=i[R],k=c[R],O=F(k,h);if(typeof O>"u")throw h&&h.type,new Error(rs(14));v[R]=O,p=p||O!==k}return p=p||s.length!==Object.keys(c).length,p?v:c}}function wC(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,i)=>(...s)=>t(i(...s)))}function VF(...e){return t=>(i,s)=>{const n=t(i,s);let r=()=>{throw new Error(rs(15))};const c={getState:n.getState,dispatch:(p,...v)=>r(p,...v)},h=e.map(p=>p(c));return r=wC(...h)(n.dispatch),{...n,dispatch:r}}}function zF(e){return Zy(e)&&"type"in e&&typeof e.type=="string"}var zx=Symbol.for("immer-nothing"),LS=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pd=Object.getPrototypeOf;function xc(e){return!!e&&!!e[gn]}function Qr(e){return e?_x(e)||Array.isArray(e)||!!e[LS]||!!e.constructor?.[LS]||yp(e)||ZC(e):!1}var _F=Object.prototype.constructor.toString();function _x(e){if(!e||typeof e!="object")return!1;const t=Pd(e);if(t===null)return!0;const i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===_F}function yC(e,t){XC(e)===0?Reflect.ownKeys(e).forEach(i=>{t(i,e[i],e)}):e.forEach((i,s)=>t(s,i,e))}function XC(e){const t=e[gn];return t?t.type_:Array.isArray(e)?1:yp(e)?2:ZC(e)?3:0}function Qw(e,t){return XC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wx(e,t,i){const s=XC(e);s===2?e.set(t,i):s===3?e.add(i):e[t]=i}function WF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yp(e){return e instanceof Map}function ZC(e){return e instanceof Set}function cc(e){return e.copy_||e.base_}function Jw(e,t){if(yp(e))return new Map(e);if(ZC(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=_x(e);if(t===!0||t==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(e);delete s[gn];let n=Reflect.ownKeys(s);for(let r=0;r<n.length;r++){const c=n[r],h=s[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(s[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[c]})}return Object.create(Pd(e),s)}else{const s=Pd(e);if(s!==null&&i)return{...e};const n=Object.create(s);return Object.assign(n,e)}}function Qy(e,t=!1){return QC(e)||xc(e)||!Qr(e)||(XC(e)>1&&Object.defineProperties(e,{set:{value:Bm},add:{value:Bm},clear:{value:Bm},delete:{value:Bm}}),Object.freeze(e),t&&Object.values(e).forEach(i=>Qy(i,!0))),e}function Bm(){ho(2)}function QC(e){return Object.isFrozen(e)}var UF={};function Rc(e){const t=UF[e];return t||ho(0,e),t}var ep;function Ux(){return ep}function jF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OS(e,t){t&&(Rc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ey(e){ty(e),e.drafts_.forEach($F),e.drafts_=null}function ty(e){e===ep&&(ep=e.parent_)}function IS(e){return ep=jF(ep,e)}function $F(e){const t=e[gn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const i=t.drafts_[0];return e!==void 0&&e!==i?(i[gn].modified_&&(ey(t),ho(4)),Qr(e)&&(e=bC(t,e),t.parent_||SC(t,e)),t.patches_&&Rc("Patches").generateReplacementPatches_(i[gn].base_,e,t.patches_,t.inversePatches_)):e=bC(t,i,[]),ey(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zx?e:void 0}function bC(e,t,i){if(QC(t))return t;const s=t[gn];if(!s)return yC(t,(n,r)=>NS(e,s,t,n,r,i)),t;if(s.scope_!==e)return t;if(!s.modified_)return SC(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let r=n,c=!1;s.type_===3&&(r=new Set(n),n.clear(),c=!0),yC(r,(h,p)=>NS(e,s,n,h,p,i,c)),SC(e,n,!1),i&&e.patches_&&Rc("Patches").generatePatches_(s,i,e.patches_,e.inversePatches_)}return s.copy_}function NS(e,t,i,s,n,r,c){if(xc(n)){const h=r&&t&&t.type_!==3&&!Qw(t.assigned_,s)?r.concat(s):void 0,p=bC(e,n,h);if(Wx(i,s,p),xc(p))e.canAutoFreeze_=!1;else return}else c&&i.add(n);if(Qr(n)&&!QC(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bC(e,n),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(yp(i)?i.has(s):Object.prototype.propertyIsEnumerable.call(i,s))&&SC(e,n)}}function SC(e,t,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qy(t,i)}function KF(e,t){const i=Array.isArray(e),s={type_:i?1:0,scope_:t?t.scope_:Ux(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,r=Jy;i&&(n=[s],r=tp);const{revoke:c,proxy:h}=Proxy.revocable(n,r);return s.draft_=h,s.revoke_=c,h}var Jy={get(e,t){if(t===gn)return e;const i=cc(e);if(!Qw(i,t))return qF(e,i,t);const s=i[t];return e.finalized_||!Qr(s)?s:s===fw(e.base_,t)?(mw(e),e.copy_[t]=sy(s,e)):s},has(e,t){return t in cc(e)},ownKeys(e){return Reflect.ownKeys(cc(e))},set(e,t,i){const s=jx(cc(e),t);if(s?.set)return s.set.call(e.draft_,i),!0;if(!e.modified_){const n=fw(cc(e),t),r=n?.[gn];if(r&&r.base_===i)return e.copy_[t]=i,e.assigned_[t]=!1,!0;if(WF(i,n)&&(i!==void 0||Qw(e.base_,t)))return!0;mw(e),iy(e)}return e.copy_[t]===i&&(i!==void 0||t in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=i,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mw(e),iy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const i=cc(e),s=Reflect.getOwnPropertyDescriptor(i,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:i[t]}},defineProperty(){ho(11)},getPrototypeOf(e){return Pd(e.base_)},setPrototypeOf(){ho(12)}},tp={};yC(Jy,(e,t)=>{tp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tp.deleteProperty=function(e,t){return tp.set.call(this,e,t,void 0)};tp.set=function(e,t,i){return Jy.set.call(this,e[0],t,i,e[0])};function fw(e,t){const i=e[gn];return(i?cc(i):e)[t]}function qF(e,t,i){const s=jx(t,i);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function jx(e,t){if(!(t in e))return;let i=Pd(e);for(;i;){const s=Object.getOwnPropertyDescriptor(i,t);if(s)return s;i=Pd(i)}}function iy(e){e.modified_||(e.modified_=!0,e.parent_&&iy(e.parent_))}function mw(e){e.copy_||(e.copy_=Jw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,i,s)=>{if(typeof t=="function"&&typeof i!="function"){const r=i;i=t;const c=this;return function(p=r,...v){return c.produce(p,b=>i.call(this,b,...v))}}typeof i!="function"&&ho(6),s!==void 0&&typeof s!="function"&&ho(7);let n;if(Qr(t)){const r=IS(this),c=sy(t,void 0);let h=!0;try{n=i(c),h=!1}finally{h?ey(r):ty(r)}return OS(r,s),HS(n,r)}else if(!t||typeof t!="object"){if(n=i(t),n===void 0&&(n=t),n===zx&&(n=void 0),this.autoFreeze_&&Qy(n,!0),s){const r=[],c=[];Rc("Patches").generateReplacementPatches_(t,n,r,c),s(r,c)}return n}else ho(1,t)},this.produceWithPatches=(t,i)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,p=>t(p,...h));let s,n;return[this.produce(t,i,(c,h)=>{s=c,n=h}),s,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Qr(e)||ho(8),xc(e)&&(e=XF(e));const t=IS(this),i=sy(e,void 0);return i[gn].isManual_=!0,ty(t),i}finishDraft(e,t){const i=e&&e[gn];(!i||!i.isManual_)&&ho(9);const{scope_:s}=i;return OS(s,t),HS(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const n=t[i];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}i>-1&&(t=t.slice(i+1));const s=Rc("Patches").applyPatches_;return xc(e)?s(e,t):this.produce(e,n=>s(n,t))}};function sy(e,t){const i=yp(e)?Rc("MapSet").proxyMap_(e,t):ZC(e)?Rc("MapSet").proxySet_(e,t):KF(e,t);return(t?t.scope_:Ux()).drafts_.push(i),i}function XF(e){return xc(e)||ho(10,e),$x(e)}function $x(e){if(!Qr(e)||QC(e))return e;const t=e[gn];let i;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,i=Jw(e,t.scope_.immer_.useStrictShallowCopy_)}else i=Jw(e,!0);return yC(i,(s,n)=>{Wx(i,s,$x(n))}),t&&(t.finalized_=!1),i}var ZF=new YF,Kx=ZF.produce;function qx(e){return({dispatch:i,getState:s})=>n=>r=>typeof r=="function"?r(i,s,e):n(r)}var QF=qx(),JF=qx,eP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wC:wC.apply(null,arguments)},tP=e=>e&&typeof e.match=="function";function jg(e,t){function i(...s){if(t){let n=t(...s);if(!n)throw new Error(Kr(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:s[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=s=>zF(s)&&s.type===e,i}var Yx=class _g extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,_g.prototype)}static get[Symbol.species](){return _g}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new _g(...t[0].concat(this)):new _g(...t.concat(this))}};function GS(e){return Qr(e)?Kx(e,()=>{}):e}function Vm(e,t,i){return e.has(t)?e.get(t):e.set(t,i(t)).get(t)}function iP(e){return typeof e=="boolean"}var sP=()=>function(t){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:r=!0}=t??{};let c=new Yx;return i&&(iP(i)?c.push(QF):c.push(JF(i.extraArgument))),c},nP="RTK_autoBatch",BS=e=>t=>{setTimeout(t,e)},oP=(e={type:"raf"})=>t=>(...i)=>{const s=t(...i);let n=!0,r=!1,c=!1;const h=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BS(10):e.type==="callback"?e.queueNotification:BS(e.timeout),v=()=>{c=!1,r&&(r=!1,h.forEach(b=>b()))};return Object.assign({},s,{subscribe(b){const R=()=>n&&b(),F=s.subscribe(R);return h.add(b),()=>{F(),h.delete(b)}},dispatch(b){try{return n=!b?.meta?.[nP],r=!n,r&&(c||(c=!0,p(v))),s.dispatch(b)}finally{n=!0}}})},rP=e=>function(i){const{autoBatch:s=!0}=i??{};let n=new Yx(e);return s&&n.push(oP(typeof s=="object"?s:void 0)),n};function aP(e){const t=sP(),{reducer:i=void 0,middleware:s,devTools:n=!0,preloadedState:r=void 0,enhancers:c=void 0}=e||{};let h;if(typeof i=="function")h=i;else if(Zy(i))h=BF(i);else throw new Error(Kr(1));let p;typeof s=="function"?p=s(t):p=t();let v=wC;n&&(v=eP({trace:!1,...typeof n=="object"&&n}));const b=VF(...p),R=rP(b);let F=typeof c=="function"?c(R):R();const k=v(...F);return Vx(h,r,k)}function Xx(e){const t={},i=[];let s;const n={addCase(r,c){const h=typeof r=="string"?r:r.type;if(!h)throw new Error(Kr(28));if(h in t)throw new Error(Kr(29));return t[h]=c,n},addAsyncThunk(r,c){return c.pending&&(t[r.pending.type]=c.pending),c.rejected&&(t[r.rejected.type]=c.rejected),c.fulfilled&&(t[r.fulfilled.type]=c.fulfilled),c.settled&&i.push({matcher:r.settled,reducer:c.settled}),n},addMatcher(r,c){return i.push({matcher:r,reducer:c}),n},addDefaultCase(r){return s=r,n}};return e(n),[t,i,s]}function lP(e){return typeof e=="function"}function cP(e,t){let[i,s,n]=Xx(t),r;if(lP(e))r=()=>GS(e());else{const h=GS(e);r=()=>h}function c(h=r(),p){let v=[i[p.type],...s.filter(({matcher:b})=>b(p)).map(({reducer:b})=>b)];return v.filter(b=>!!b).length===0&&(v=[n]),v.reduce((b,R)=>{if(R)if(xc(b)){const k=R(b,p);return k===void 0?b:k}else{if(Qr(b))return Kx(b,F=>R(F,p));{const F=R(b,p);if(F===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return F}}return b},h)}return c.getInitialState=r,c}var uP=(e,t)=>tP(e)?e.match(t):e(t);function dP(...e){return t=>e.some(i=>uP(i,t))}var hP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gP=(e=21)=>{let t="",i=e;for(;i--;)t+=hP[Math.random()*64|0];return t},pP=["name","message","stack","code"],Cw=class{constructor(e,t){this.payload=e,this.meta=t}_type},VS=class{constructor(e,t){this.payload=e,this.meta=t}_type},fP=e=>{if(typeof e=="object"&&e!==null){const t={};for(const i of pP)typeof e[i]=="string"&&(t[i]=e[i]);return t}return{message:String(e)}},zS="External signal was aborted",Zx=(()=>{function e(t,i,s){const n=jg(t+"/fulfilled",(p,v,b,R)=>({payload:p,meta:{...R||{},arg:b,requestId:v,requestStatus:"fulfilled"}})),r=jg(t+"/pending",(p,v,b)=>({payload:void 0,meta:{...b||{},arg:v,requestId:p,requestStatus:"pending"}})),c=jg(t+"/rejected",(p,v,b,R,F)=>({payload:R,error:(s&&s.serializeError||fP)(p||"Rejected"),meta:{...F||{},arg:b,requestId:v,rejectedWithValue:!!R,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function h(p,{signal:v}={}){return(b,R,F)=>{const k=s?.idGenerator?s.idGenerator(p):gP(),O=new AbortController;let V,_;function W(K){_=K,O.abort()}v&&(v.aborted?W(zS):v.addEventListener("abort",()=>W(zS),{once:!0}));const U=(async function(){let K;try{let Y=s?.condition?.(p,{getState:R,extra:F});if(CP(Y)&&(Y=await Y),Y===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const de=new Promise((re,ie)=>{V=()=>{ie({name:"AbortError",message:_||"Aborted"})},O.signal.addEventListener("abort",V)});b(r(k,p,s?.getPendingMeta?.({requestId:k,arg:p},{getState:R,extra:F}))),K=await Promise.race([de,Promise.resolve(i(p,{dispatch:b,getState:R,extra:F,requestId:k,signal:O.signal,abort:W,rejectWithValue:(re,ie)=>new Cw(re,ie),fulfillWithValue:(re,ie)=>new VS(re,ie)})).then(re=>{if(re instanceof Cw)throw re;return re instanceof VS?n(re.payload,k,p,re.meta):n(re,k,p)})])}catch(Y){K=Y instanceof Cw?c(null,k,p,Y.payload,Y.meta):c(Y,k,p)}finally{V&&O.signal.removeEventListener("abort",V)}return s&&!s.dispatchConditionRejection&&c.match(K)&&K.meta.condition||b(K),K})();return Object.assign(U,{abort:W,requestId:k,arg:p,unwrap(){return U.then(mP)}})}}return Object.assign(h,{pending:r,rejected:c,fulfilled:n,settled:dP(c,n),typePrefix:t})}return e.withTypes=()=>e,e})();function mP(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function CP(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var vP=Symbol.for("rtk-slice-createasyncthunk");function wP(e,t){return`${e}/${t}`}function yP({creators:e}={}){const t=e?.asyncThunk?.[vP];return function(s){const{name:n,reducerPath:r=n}=s;if(!n)throw new Error(Kr(11));const c=(typeof s.reducers=="function"?s.reducers(SP()):s.reducers)||{},h=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(K,X){const Y=typeof K=="string"?K:K.type;if(!Y)throw new Error(Kr(12));if(Y in p.sliceCaseReducersByType)throw new Error(Kr(13));return p.sliceCaseReducersByType[Y]=X,v},addMatcher(K,X){return p.sliceMatchers.push({matcher:K,reducer:X}),v},exposeAction(K,X){return p.actionCreators[K]=X,v},exposeCaseReducer(K,X){return p.sliceCaseReducersByName[K]=X,v}};h.forEach(K=>{const X=c[K],Y={reducerName:K,type:wP(n,K),createNotation:typeof s.reducers=="function"};RP(X)?MP(Y,X,v,t):xP(Y,X,v)});function b(){const[K={},X=[],Y=void 0]=typeof s.extraReducers=="function"?Xx(s.extraReducers):[s.extraReducers],de={...K,...p.sliceCaseReducersByType};return cP(s.initialState,re=>{for(let ie in de)re.addCase(ie,de[ie]);for(let ie of p.sliceMatchers)re.addMatcher(ie.matcher,ie.reducer);for(let ie of X)re.addMatcher(ie.matcher,ie.reducer);Y&&re.addDefaultCase(Y)})}const R=K=>K,F=new Map,k=new WeakMap;let O;function V(K,X){return O||(O=b()),O(K,X)}function _(){return O||(O=b()),O.getInitialState()}function W(K,X=!1){function Y(re){let ie=re[K];return typeof ie>"u"&&X&&(ie=Vm(k,Y,_)),ie}function de(re=R){const ie=Vm(F,X,()=>new WeakMap);return Vm(ie,re,()=>{const Fe={};for(const[Pe,me]of Object.entries(s.selectors??{}))Fe[Pe]=bP(me,re,()=>Vm(k,re,_),X);return Fe})}return{reducerPath:K,getSelectors:de,get selectors(){return de(Y)},selectSlice:Y}}const U={name:n,reducer:V,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:_,...W(r),injectInto(K,{reducerPath:X,...Y}={}){const de=X??r;return K.inject({reducerPath:de,reducer:V},Y),{...U,...W(de,!0)}}};return U}}function bP(e,t,i,s){function n(r,...c){let h=t(r);return typeof h>"u"&&s&&(h=i()),e(h,...c)}return n.unwrapped=e,n}var JC=yP();function SP(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function xP({type:e,reducerName:t,createNotation:i},s,n){let r,c;if("reducer"in s){if(i&&!EP(s))throw new Error(Kr(17));r=s.reducer,c=s.prepare}else r=s;n.addCase(e,r).exposeCaseReducer(t,r).exposeAction(t,c?jg(e,c):jg(e))}function RP(e){return e._reducerDefinitionType==="asyncThunk"}function EP(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MP({type:e,reducerName:t},i,s,n){if(!n)throw new Error(Kr(18));const{payloadCreator:r,fulfilled:c,pending:h,rejected:p,settled:v,options:b}=i,R=n(e,r,b);s.exposeAction(t,R),c&&s.addCase(R.fulfilled,c),h&&s.addCase(R.pending,h),p&&s.addCase(R.rejected,p),v&&s.addMatcher(R.settled,v),s.exposeCaseReducer(t,{fulfilled:c||zm,pending:h||zm,rejected:p||zm,settled:v||zm})}function zm(){}function Kr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const ny="auth:v1",DP=()=>{try{return JSON.parse(localStorage.getItem(ny)||"")}catch{return{isLoggedIn:!1,username:""}}},TP=typeof window<"u"?DP():{isLoggedIn:!1,username:""},Qx=JC({name:"auth",initialState:TP,reducers:{loginSuccess:(e,t)=>{e.isLoggedIn=!0,e.username=t.payload.username,localStorage.setItem(ny,JSON.stringify(e))},logout:e=>{e.isLoggedIn=!1,e.username="",localStorage.setItem(ny,JSON.stringify(e))}}}),{loginSuccess:FP,logout:PP}=Qx.actions,AP=Qx.reducer,kP="disney",LP="disney123";function OP(e,t,i,s,n,r){e.preventDefault(),i===kP&&t===LP?(s(FP({username:i})),n("/dashboard",{replace:!0})):r("Invalid username or password.")}const IP=()=>{const e=Lc(),t=Uy(),[i,s]=G.useState(""),[n,r]=G.useState(""),[c,h]=G.useState(null);return Se.jsxs("form",{"data-testid":"login-form",onSubmit:p=>OP(p,n,i,e,t,h),className:"w-full max-w-sm shadow-2xl bg-white p-6 rounded-2xl space-y-4",children:[Se.jsx("h1",{className:"text-xl text-black font-bold text-center",children:"Sign in"}),Se.jsx(TS,{type:"username",value:i,onChange:p=>s(p.target.value)}),Se.jsx(TS,{type:"password",value:n,onChange:p=>r(p.target.value)}),c&&Se.jsx("p",{"data-testid":"login-error",className:"text-sm text-red-600",children:c}),Se.jsx("button",{"data-testid":"log-in-btn",type:"submit",className:"w-full rounded-lg bg-black text-white py-2",children:"Log in"})]})},HP="/disney-characters-app/assets/disney-plus-logo-DkbOcNM5.webp",oy=({className:e,device:t})=>Se.jsx("img",{src:HP,alt:"Disney+",className:e,loading:"eager",decoding:"async","data-testid":`disney-image-${t}`}),NP=()=>Se.jsxs("main",{className:"flex max-xl:flex-col xl:flex-row min-h-[100svh]",children:[Se.jsx("div",{className:`flex items-center justify-center bg-slate-50\r
                      w-full xl:w-1/2\r
                      min-h-[100svh] xl:min-h-[100svh] \r
                      p-6 sm:p-8 lg:p-10`,children:Se.jsxs("div",{className:"w-full max-w-md flex flex-col items-center",children:[Se.jsx(oy,{className:"block xl:hidden w-40 sm:w-48 md:w-56 h-auto object-contain mb-6",device:"mobile"}),Se.jsx(IP,{})]})}),Se.jsx("div",{className:`hidden xl:flex items-center justify-center\r
                      w-1/2 min-h-[100svh]\r
                      bg-gradient-to-r from-[#0A2A6C] via-[#0F3EBD] to-[#1A73FF]\r
                      p-6 lg:p-10`,children:Se.jsx(oy,{className:"invert w-full max-w-md h-auto object-contain",device:"desktop"})})]}),_S=({device:e})=>{const t=Lc(),i=Oi(s=>s.auth.username);return Se.jsxs("header",{className:"flex items-center justify-between p-3 text-white bg-blue-500",children:[Se.jsx(oy,{className:"w-[7rem] ml-8 invert",device:e}),Se.jsxs("div",{className:"flex items-center gap-3",children:[Se.jsxs("span",{className:"text-sm text-white","data-testid":`username-text-${e}`,children:["Hello, ",i]}),Se.jsx("button",{onClick:()=>t(PP()),"data-testid":`log-out-btn-${e}`,className:`px-3 py-2 border rounded-lg border-white \r
          font-semibold hover:text-blue-500 hover:bg-white cursor-pointer`,children:"Logout"})]})]})};var Ec=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const h=e.event;h instanceof Event&&(e.eventPath=h.composedPath())}const{frameworkOverrides:s}=this,n=h=>{const p=s?()=>s.wrapIncoming(h):h;t?this.dispatchAsync(p):p()},r=this.getListeners(i,t,!1);if((r?.size??0)>0){const h=new Set(r);for(const p of h)r?.has(p)&&n(()=>p(e))}const c=this.getGlobalListeners(t);if(c.size>0){const h=new Set(c);for(const p of h)n(()=>p(i,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function qr(e){return e==null||e===""?null:e}function He(e){return e!=null&&e!==""}function gi(e){return!He(e)}function ry(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ip(e,t){const i=e?JSON.stringify(e):null,s=t?JSON.stringify(t):null;return i===s}function GP(e,t,i=!1){const s=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function r(c,h){return c>h?1:c<h?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var BP=/[&<>"']/g,VP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Vd(e){return e?.toString().toString()??null}function $g(e){return Vd(e)?.replace(BP,t=>VP[t])??null}function sp(e){return e.eRootDiv.getRootNode()}function vi(e){return sp(e).activeElement}function as(e){const{gos:t,eRootDiv:i}=e;let s=null;const n=t.get("getDocument");return n&&He(n)?s=n():i&&(s=i.ownerDocument),s&&He(s)?s:document}function Jx(e){const t=vi(e);return t===null||t===as(e).body}function eR(e){return as(e).defaultView||window}function eb(e){let t=null,i=null;try{t=as(e).fullscreenElement}catch{}finally{t||(t=sp(e));const s=t.querySelector("body");s?i=s:t instanceof ShadowRoot?i=t:t instanceof Document?i=t?.documentElement:i=t}return i}function zP(e){return eb(e)?.clientWidth??(window.innerWidth||-1)}function _P(e){return eb(e)?.clientHeight??(window.innerHeight||-1)}function mo(e,t,i){i==null||typeof i=="string"&&i==""?tR(e,t):Co(e,t,i)}function Co(e,t,i){e.setAttribute(iR(t),i.toString())}function tR(e,t){e.removeAttribute(iR(t))}function iR(e){return`aria-${e}`}function Mc(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function WP(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function UP(e){return e.getAttribute("aria-label")}function Ad(e,t){mo(e,"label",t)}function np(e,t){mo(e,"labelledby",t)}function sR(e,t){mo(e,"live",t)}function jP(e,t){mo(e,"atomic",t)}function $P(e,t){mo(e,"relevant",t)}function KP(e,t){mo(e,"invalid",t)}function qP(e,t){mo(e,"disabled",t)}function nR(e,t){mo(e,"hidden",t)}function ay(e,t){Co(e,"expanded",t)}function YP(e,t){Co(e,"setsize",t)}function XP(e,t){Co(e,"posinset",t)}function ZP(e,t){Co(e,"rowcount",t)}function oR(e,t){Co(e,"rowindex",t)}function QP(e,t){Co(e,"rowspan",t)}function JP(e,t){Co(e,"colcount",t)}function rR(e,t){Co(e,"colindex",t)}function eA(e,t){Co(e,"colspan",t)}function tA(e,t){Co(e,"sort",t)}function iA(e){tR(e,"sort")}function aR(e,t){mo(e,"selected",t)}function sA(e,t){mo(e,"controls",t)}function nA(e,t){sA(e,t.id),np(t,e.id)}function WS(e,t){mo(e,"owns",t)}function ev(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var oA="[tabindex], input, select, button, textarea, [href]",lR="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function tb(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),n=t.call(e,lR),r=ea(e);return s&&!n&&r}function Ci(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||nR(e,!t)}function rA(e,t,i={}){const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||nR(e,!t)}function op(e,t){const i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e);const n=e.querySelectorAll("input")??[];for(const r of n)s(r)}function fc(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function Oc(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:r,borderLeftWidth:c,paddingTop:h,paddingRight:p,paddingBottom:v,paddingLeft:b,marginTop:R,marginRight:F,marginBottom:k,marginLeft:O,boxSizing:V}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(c||"0"),paddingTop:parseFloat(h||"0"),paddingRight:parseFloat(p||"0"),paddingBottom:parseFloat(v||"0"),paddingLeft:parseFloat(b||"0"),marginTop:parseFloat(R||"0"),marginRight:parseFloat(F||"0"),marginBottom:parseFloat(k||"0"),marginLeft:parseFloat(O||"0"),boxSizing:V}}function ib(e){const t=Oc(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function rp(e){const t=Oc(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function cR(e){const{height:t,marginBottom:i,marginTop:s}=Oc(e);return Math.floor(t+i+s)}function xC(e){const{width:t,marginLeft:i,marginRight:s}=Oc(e);return Math.floor(t+i+s)}function uR(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:r}=Oc(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(r||0)}}function RC(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i)),i}function EC(e,t,i){i&&(t*=-1),e.scrollLeft=t}function Zs(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function il(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function dR(e){return!!e.offsetParent}function ea(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!dR(e)||window.getComputedStyle(e).visibility!=="visible")}function sb(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function eC(e){return()=>{const t=e();return t?nb(t)||hR(t):!0}}function nb(e){return e.clientWidth<e.scrollWidth}function hR(e){return e.clientHeight<e.scrollHeight}function MC(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ir(e,t)}function ir(e,t){t=ob(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Kg(e,t){t=ob(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function ob(e){return typeof e=="number"?`${e}px`:e}function rb(e){return e instanceof Node||e instanceof HTMLElement}function un(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function ta(e,t,i){const n=eR(e).ResizeObserver,r=n?new n(i):null;return r?.observe(t),()=>r?.disconnect()}function ia(e,t){const i=eR(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var gR="data-ref",vw;function US(){return vw??(vw=document.createTextNode(" ")),vw.cloneNode()}function bp(e){const{attrs:t,children:i,cls:s,ref:n,role:r,tag:c}=e,h=document.createElement(c);if(s&&(h.className=s),n&&h.setAttribute(gR,n),r&&h.setAttribute("role",r),t)for(const p of Object.keys(t))h.setAttribute(p,t[p]);if(i)if(typeof i=="string")h.textContent=i;else{let p=!0;for(const v of i)v&&(typeof v=="string"?(h.appendChild(document.createTextNode(v)),p=!1):typeof v=="function"?h.appendChild(v()):(p&&(h.appendChild(US()),p=!1),h.append(bp(v)),h.appendChild(US())))}return h}var aA=["touchstart","touchend","touchmove","touchcancel","scroll"],lA=["wheel"],ww={},pR=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof ww[i]=="boolean")return ww[i];const s=document.createElement(e[i]||"div");return i="on"+i,ww[i]=i in s}})();function cA(e,t){return!t||!e?!1:dA(t).indexOf(e)>=0}function uA(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function dA(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():uA(t)}function hA(e,t,i){const s=gA(t);let n;s!=null&&(n={passive:s}),e.addEventListener(t,i,n)}var gA=e=>{const t=aA.includes(e),i=lA.includes(e);if(t)return!0;if(i)return!1};function fR(e,t,i){if(i===0)return!1;const s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}function ap(e,t){return e.gos.isElementInThisInstance(t.target)}function pA(e,t,i){const n=e.getBoundingClientRect().height,r=zP(i)-2,c=_P(i)-2;if(!e.offsetParent)return;const p=uR(e.offsetParent),{clientY:v,clientX:b}=t;let R=v-p.top-n/2,F=b-p.left-10;const k=as(i),O=k.defaultView||window,V=O.pageYOffset||k.documentElement.scrollTop,_=O.pageXOffset||k.documentElement.scrollLeft;r>0&&F+e.clientWidth>r+_&&(F=r+_-e.clientWidth),F<0&&(F=0),c>0&&R+e.clientHeight>c+V&&(R=c+V-e.clientHeight),R<0&&(R=0),e.style.left=`${F}px`,e.style.top=`${R}px`}function fA(e,t){return t}function mR(e){return e?.getLocaleTextFunc()??fA}function mA(e,t,i,s){const n=t[i];return e.getLocaleTextFunc()(i,typeof n=="function"?n(s):n,s)}function CA(e){return(t,i,s)=>e({key:t,defaultValue:i,variableValues:s})}function vA(e){return(t,i,s)=>{let n=e&&e[t];if(n&&s&&s.length){let r=0;for(;!(r>=s.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",s[r++])}return n??i}}var ar=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Ec),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService?.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s of Object.keys(t)){const n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let s;if(wA(e))e.__addEventListener(t,i),s=()=>(e.__removeEventListener(t,i),null);else{const n=yA(e);e instanceof HTMLElement?hA(e,t,i):n?e.addListener(t,i):e.addEventListener(t,i),s=n?()=>(e.removeListener(t,i),null):()=>(e.removeEventListener(t,i),null)}return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupPropertyListener(e,t){const{gos:i}=this;i.addPropertyEventListener(e,t);const s=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}const r={type:"propertyChanged",changeSet:n.changeSet,source:n.source};t(r)};e.forEach(n=>this.setupPropertyListener(n,s))}getLocaleTextFunc(){return mR(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function wA(e){return e.__addEventListener!==void 0}function yA(e){return e.eventServiceType==="global"}var ye=class extends ar{},jS={};function ab(e,t){jS[t]||(e(),jS[t]=!0)}var bA={pending:!1,funcs:[]},SA={pending:!1,funcs:[]};function ly(e,t="setTimeout",i){const s=t==="raf"?SA:bA;if(s.funcs.push(e),s.pending)return;s.pending=!0;const n=()=>{const r=s.funcs.slice();s.funcs.length=0,s.pending=!1,r.forEach(c=>c())};t==="raf"?ia(i,n):window.setTimeout(n,0)}function ls(e,t,i){let s;return function(...n){const r=this;window.clearTimeout(s),s=window.setTimeout(function(){e.isAlive()&&t.apply(r,n)},i)}}function $S(e,t){let i=0;return function(...s){const n=this,r=Date.now();r-i<t||(i=r,e.apply(n,s))}}function xA(e,t,i,s=100){const n=Date.now();let r=null,c=!1;const h=()=>{r!=null&&(window.clearInterval(r),r=null)};e.addDestroyFunc(h);const p=()=>{const v=Date.now()-n>s;(t()||v)&&(i(),c=!0,h())};p(),c||(r=window.setInterval(p,10))}var CR=new Set(["__proto__","constructor","prototype"]);function RA(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const i of Object.keys(e).filter(s=>!CR.has(s)))t(i,e[i])}}function As(e,t,i=!0,s=!1){He(t)&&RA(t,(n,r)=>{let c=e[n];c!==r&&(s&&c==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(c={},e[n]=c),KS(r)&&KS(c)&&!Array.isArray(c)?As(c,r,i,s):(i||r!==void 0)&&(e[n]=r))})}function KS(e){return typeof e=="object"&&e!==null}var lb=class uc{static applyGlobalGridOptions(t){if(!uc.gridOptions)return{...t};let i={};return As(i,uc.gridOptions,!0,!0),uc.mergeStrategy==="deep"?As(i,t,!0,!0):i={...i,...t},uc.gridOptions.context&&(i.context=uc.gridOptions.context),t.context&&(uc.mergeStrategy==="deep"&&i.context&&As(t.context,i.context,!0,!0),i.context=t.context),i}};lb.gridOptions=void 0;lb.mergeStrategy="shallow";var vR=lb;function EA(e){return vR.gridOptions?.[e]}var wR={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1},yR="https://www.ag-grid.com";function Dc(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function qg(e,...t){ab(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function wd(e,...t){ab(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var Ne="34.2.0",qS=2e3,YS=100,bR="_version_",SR=null,yd=`${yR}/javascript-data-grid`;function MA(e){SR=e}function DA(e){yd=e}function xR(e,t,i){return SR?.(e,t)??[AA(e,t,i)]}function cb(e,t,i,s,n){e(`${s?"warning":"error"} #${t}`,...xR(t,i,n))}function TA(e){if(!e)return String(e);const t={};for(const i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function FA(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=TA(e)),t}function DC(e){return e===void 0?"undefined":e===null?"null":e}function cy(e,t){return`${e}?${t.toString()}`}function PA(e,t,i){const s=Array.from(t.entries()).sort((r,c)=>c[1].length-r[1].length);let n=cy(e,t);for(const[r,c]of s){if(r===bR)continue;const h=n.length-i;if(h<=0)break;const p="...",v=h+p.length,b=c.length-v>YS?c.slice(0,c.length-v)+p:c.slice(0,YS)+p;t.set(r,b),n=cy(e,t)}return n}function RR(e,t){const i=new URLSearchParams;if(i.append(bR,Ne),t)for(const r of Object.keys(t))i.append(r,FA(t[r]));const s=`${yd}/errors/${e}`,n=cy(s,i);return n.length<=qS?n:PA(s,i,qS)}var AA=(e,t,i)=>{const s=RR(e,t);return`${i?i+` 
`:""}Visit ${s}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Te(...e){cb(qg,e[0],e[1],!0)}function jt(...e){cb(wd,e[0],e[1],!1)}function Wg(e,t,i){cb(wd,e,t,!1,i)}function kA(e,t){const i=t[0];return`error #${i} `+xR(i,t[1],e).join(" ")}function sr(...e){return kA(void 0,e)}function ER(e,t){return e.get("rowModelType")===t}function _i(e,t){return ER(e,"clientSide")}function Ic(e,t){return ER(e,"serverSide")}function cs(e,t){return e.get("domLayout")===t}function mc(e){return FC(e)!==void 0}function MR(e){return typeof e.get("getRowHeight")=="function"}function LA(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function sl(e,t,i=!1,s){const{gos:n,environment:r}=e;if(s==null&&(s=r.getDefaultRowHeight()),MR(n)){if(i)return{height:s,estimated:!0};const p={node:t,data:t.data},v=n.getCallback("getRowHeight")(p);if(uy(v))return v===0&&Te(23),{height:Math.max(1,v),estimated:!1}}if(t.detail&&n.get("masterDetail"))return OA(n);const c=n.get("rowHeight");return{height:c&&uy(c)?c:s,estimated:!1}}function OA(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return uy(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Cc(e){const{environment:t,gos:i}=e,s=i.get("rowHeight");if(!s||gi(s))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(Te(24),t.getDefaultRowHeight())}function uy(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function DR(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function Tc(e,t,i,s){const n=e.getDomDataKey();let r=t[n];gi(r)&&(r={},t[n]=r),r[i]=s}function bd(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function TR(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||cs(e,"print"))}function Jo(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function dy(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function FR(e){return e.get("grandTotalRow")}function PR(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function AR(e,t,i){return!!t.group&&!t.footer&&PR(e,i)}function kd(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(ab(()=>Te(25,{id:s}),"getRowIdString"),s=String(s)),s}}function IA(e,t){const i=e.get("groupHideParentOfSingleChild");return!!(i===!0||i==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function HA(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Sd(e){return e?.checkboxes??!0}function tC(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function TC(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function yw(e){return e?.hideDisabledCheckboxes??!1}function NA(e){return typeof e.get("rowSelection")!="string"}function nl(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function kR(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),s=e.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function GA(e){const t=kR(e);return t===!0||t==="enableSelection"}function BA(e){const t=kR(e);return t===!0||t==="enableDeselection"}function hy(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function FC(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function PC(e){return FC(e)==="multiRow"}function VA(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function AC(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function LR(e,t=!0){const i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function lp(e){const t=AC(e);return t==="descendants"||t==="filteredDescendants"}function XS(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function zA(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function dn(e){return e.get("columnMenu")==="legacy"}function _A(e){return!dn(e)}function WA(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function UA(e,t,i){typeof e!="object"&&(e={});const s={...e};return i.forEach(n=>{const r=t[n];typeof r<"u"&&(s[n]=r)}),s}function jA(e,t){if(!e)return;const i={};let s=!1;if(Object.keys(e).forEach(c=>{i[c]=e[c],s=!0}),!s)return;const n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);const r={type:"componentStateChanged",...i};t.dispatchEvent(r)}function tt(e,t){return e.addCommon(t)}function OR(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function iC(e,t){return e[t]??e.gridOptions?.[t]??EA(t)??wR[t]}function ZS({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var $A={resizable:!0,sortable:!0},KA=0;function IR(){return KA++}function ol(e){return e instanceof Hc}var Hc=class extends ye{constructor(e,t,i,s){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.isColumn=!0,this.instanceId=IR(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Ec,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=$g(i)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:s}}=this;t?.initCol(this);const n=e.hide;n!==void 0?this.visible=!n:this.visible=!e.initialHide,i?.initCol(this),s?.initCol(this)}setColDef(e,t,i){const s=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),s&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:i}}=this,s=e.get("suppressFieldDotNotation");this.fieldContainsDots=He(t)&&t.indexOf(".")>=0&&!s,this.tooltipFieldContainsDots=He(i)&&i.indexOf(".")>=0&&!s}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:i=>{const s=e.recreateColDef(this.colDef);this.setColDef(s,s,i.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=e.width,s=e.initialWidth;return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const i=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return tt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??$A[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return tt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return gi(this.sort)}isSorting(){return He(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Te(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return tt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(gi(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(gi(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){const s=this.createColumnEvent(e,t);i&&As(s,i),this.colEventSvc.dispatchEvent(s)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function vs(e){return e instanceof sC}var sC=class extends ye{constructor(e,t,i,s){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=s,this.isColumn=!1,this.expandable=!1,this.instanceId=IR(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)ol(t)?e(t):vs(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{ol(t)?e.push(t):vs(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let r=0,c=s.length;r<c;r++){const h=s[r];if(!h.isVisible())continue;const p=h.getColumnGroupShow();p==="open"?(e=!0,i=!0):p==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(s=>{vs(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},qA={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function QS(e,t,i){const s={},n=e.gos;return Object.assign(s,n.get("defaultColGroupDef")),Object.assign(s,t),n.validateColDef(s,i),s}var YA=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=ry(e);let i=0;for(;;){let s=e??t;if(s?i!==0&&(s+="_"+i):s=i,!this.existingKeys[s]){const n=String(s);return e&&i>0&&Te(273,{providedId:e,usedId:n}),this.existingKeys[n]=!0,n}i++}}},JS=Object.freeze([]);function Ut(e){if(e?.length)return e[e.length-1]}function al(e,t,i){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n]&&!i?.(e[n],t[n]))return!1;return!0}function Hg(e,t){if(e)for(const i of e)t(i)}function zn(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function e0(e,t,i){for(let s=0;s<t.length;s++)zn(e,t[s]);for(let s=t.length-1;s>=0;s--)e.splice(i,0,t[s])}var tv="ag-Grid-AutoColumn",HR="ag-Grid-SelectionColumn",NR="ag-Grid-RowNumbersColumn";function GR(e){const t=[],i=s=>{for(let n=0;n<s.length;n++){const r=s[n];ol(r)?t.push(r):vs(r)&&i(r.getChildren())}};return i(e),t}function Wr(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function kC(e,t,i){const s={};if(!t)return;Yr(null,t,r=>{s[r.getInstanceId()]=r}),i&&Yr(null,i,r=>{s[r.getInstanceId()]=null});const n=Object.values(s).filter(r=>r!=null);e.context.destroyBeans(n)}function ub(e){return e.getId().startsWith(tv)}function ll(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(HR)??!1}function el(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(NR)??!1}function XA(e){return ll(e)||el(e)}function LC(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function ZA(e,t){return al(e,t,(i,s)=>i.getColId()===s.getColId())}function QA(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function xd(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function BR(e,t){const i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}var JA=(e,t)=>(i,s)=>{const n={value1:void 0,value2:void 0};let r=!1;return e&&(e[i]!==void 0&&(n.value1=e[i],r=!0),He(s)&&e[s]!==void 0&&(n.value2=e[s],r=!0)),!r&&t&&(t[i]!==void 0&&(n.value1=t[i]),He(s)&&t[s]!==void 0&&(n.value2=t[s])),n};function e1(e,t=null,i,s,n){const r=new YA,{existingCols:c,existingGroups:h,existingColKeys:p}=t1(s);r.addExistingKeys(p);const v=VR(e,t,0,i,c,r,h,n),{colGroupSvc:b}=e,R=b?.findMaxDepth(v,0)??0,F=b?b.balanceColumnTree(v,0,R,r):v;return Yr(null,F,(O,V)=>{vs(O)&&O.setupExpandable(),O.originalParent=V}),{columnTree:F,treeDepth:R}}function t1(e){const t=[],i=[],s=[];return e&&Yr(null,e,n=>{if(vs(n)){const r=n;i.push(r)}else{const r=n;s.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}function VR(e,t,i,s,n,r,c,h){if(!t)return[];const{colGroupSvc:p}=e,v=new Array(t.length);for(let b=0;b<v.length;b++){const R=t[b];p&&a1(R)?v[b]=p.createProvidedColumnGroup(s,R,i,n,r,c,h):v[b]=i1(e,s,R,n,r,h)}return v}function i1(e,t,i,s,n,r){const c=n1(i,s);c&&s?.splice(c.idx,1);let h=c?.column;if(h){const p=gy(e,i,h.getColId());h.setColDef(p,i,r),s1(e,h,p,r)}else{const p=n.getUniqueKey(i.colId,i.field),v=gy(e,i,p);h=new Hc(v,i,p,t),e.context.createBean(h)}return e.dataTypeSvc?.addColumnListeners(h),h}function zR(e,t,i,s,n,r,c,h){const{sortSvc:p,pinnedCols:v,colFlex:b}=e;i!==void 0&&t.setVisible(!i,h),p&&(p.updateColSort(t,s,h),n!==void 0&&p.setColSortIndex(t,n)),r!==void 0&&v?.setColPinned(t,r),c!==void 0&&b?.setColFlex(t,c)}function s1(e,t,i,s){zR(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,s);const n=t.getFlex();if(!(n!=null&&n>0))if(i.width!=null)t.setActualWidth(i.width,s);else{const r=t.getActualWidth();t.setActualWidth(r,s)}}function n1(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}function gy(e,t,i,s){const{gos:n,dataTypeSvc:r}=e,c={},h=n.get("defaultColDef");As(c,h,!1,!0);const p=o1(e,c,t,i);p&&r1(e,p,c);const v=c.cellDataType;As(c,t,!1,!0),v!==void 0&&(c.cellDataType=v);const b=n.get("autoGroupColumnDef"),R=Jo(n);return t.rowGroup&&b&&R&&As(c,{sort:b.sort,initialSort:b.initialSort},!1,!0),r&&(r.postProcess(c),r.validateColDef(c)),n.validateColDef(c,i,s),c}function o1(e,t,i,s){const n=e.dataTypeSvc?.updateColDefAndGetColumnType(t,i,s),r=i.type??n??t.type;return t.type=r,r?LC(r):void 0}function r1(e,t,i){if(!t.length)return;const s=Object.assign({},qA),n=e.gos.get("columnTypes")||{};for(const r of Object.keys(n)){const c=n[r];r in s?Te(34,{key:r}):(c.type&&Te(35),s[r]=c)}t.forEach(r=>{const c=s[r.trim()];c?As(i,c,!1,!0):Te(36,{t:r})})}function a1(e){return e.children!==void 0}function Yr(e,t,i){if(t)for(let s=0;s<t.length;s++){const n=t[s];vs(n)&&Yr(n,n.getChildren(),i),i(n,e)}}function _R(e,t){const i=[],s=[],n=[];return e.forEach(c=>{const h=c.getColDef().lockPosition;h==="right"?n.push(c):h==="left"||h===!0?i.push(c):s.push(c)}),t.get("enableRtl")?[...n,...s,...i]:[...i,...s,...n]}function WR(e,t){let i=!0;return Yr(null,t,s=>{if(!vs(s))return;const n=s,r=n.getColGroupDef();if(!(r&&r.marryChildren))return;const h=[];n.getLeafColumns().forEach(F=>{const k=e.indexOf(F);h.push(k)});const p=Math.max.apply(Math,h),v=Math.min.apply(Math,h),b=p-v,R=n.getLeafColumns().length-1;b>R&&(i=!1)}),i}function UR(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}function jR(e,t,i){if(!t.length)return;const s=t.length===1?t[0]:null,n=UR(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:s,source:i})}function l1(e,t,i){if(!t.length)return;const s=t.length===1?t[0]:null,n=UR(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:s,source:i})}function c1(e,t,i,s){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:s})}function Ld(e,t,i,s,n=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:i,source:s})}function go(e,t,i){const{colModel:s,rowGroupColsSvc:n,pivotColsSvc:r,autoColSvc:c,selectionColSvc:h,colAnimation:p,visibleCols:v,pivotResultCols:b,environment:R,valueColsSvc:F,eventSvc:k,gos:O}=e,V=s.getColDefCols()??[],_=h?.getColumns();if(!V.length&&!_?.length)return!1;if(t?.state&&!t.state.forEach)return Te(32),!1;const W=(Y,de,re,ie,Fe)=>{if(!Y)return;const Pe=JA(de,t.defaultState),me=Pe("flex").value1;if(zR(e,Y,Pe("hide").value1,Pe("sort").value1,Pe("sortIndex").value1,Pe("pinned").value1,me,i),me==null){const Me=Pe("width").value1;if(Me!=null){const _e=Y.getColDef().minWidth??R.getDefaultColumnMinWidth();_e!=null&&Me>=_e&&Y.setActualWidth(Me,i)}}Fe||!Y.isPrimary()||(F?.syncColumnWithState(Y,i,Pe),n?.syncColumnWithState(Y,i,Pe,re),r?.syncColumnWithState(Y,i,Pe,ie))},U=(Y,de,re)=>{const ie=$R(e,i),Fe=de.slice(),Pe={},me={},Me=[],_e=[],Je=[];let Be=0;const ge=n?.columns.slice()??[],De=r?.columns.slice()??[];Y.forEach(Le=>{const J=Le.colId;if(J.startsWith(tv)){Me.push(Le),Je.push(Le);return}if(ll(J)){_e.push(Le),Je.push(Le);return}const xe=re(J);xe?(W(xe,Le,Pe,me,!1),zn(Fe,xe)):(Je.push(Le),Be+=1)});const Ae=Le=>W(Le,null,Pe,me,!1);Fe.forEach(Ae),n?.sortColumns(t0.bind(n,Pe,ge)),r?.sortColumns(t0.bind(r,me,De)),s.refreshCols(!1);const $e=(Le,J,le=[])=>{J.forEach(xe=>{const Oe=Le(xe.colId);zn(le,Oe),W(Oe,xe,null,null,!0)}),le.forEach(Ae)};return $e(Le=>c?.getColumn(Le)??null,Me,c?.getColumns()?.slice()),$e(Le=>h?.getColumn(Le)??null,_e,h?.getColumns()?.slice()),d1(t,s,O),v.refresh(i),k.dispatchEvent({type:"columnEverythingChanged",source:i}),ie(),{unmatchedAndAutoStates:Je,unmatchedCount:Be}};p?.start();let{unmatchedAndAutoStates:K,unmatchedCount:X}=U(t.state||[],V,Y=>s.getColDefCol(Y));if(K.length>0||He(t.defaultState)){const Y=b?.getPivotResultCols()?.list??[];X=U(K,Y,de=>b?.getPivotResultCol(de)??null).unmatchedCount}return p?.finish(),X===0}function u1(e,t){const{colModel:i,autoColSvc:s,selectionColSvc:n,eventSvc:r,gos:c}=e,h=i.getColDefCols();if(!h?.length)return;const p=i.getColDefColTree(),v=GR(p),b=[];let R=1e3,F=1e3;const k=U=>{const K=KR(U);gi(K.rowGroupIndex)&&K.rowGroup&&(K.rowGroupIndex=R++),gi(K.pivotIndex)&&K.pivot&&(K.pivotIndex=F++),b.push(K)};s?.getColumns()?.forEach(k),n?.getColumns()?.forEach(k),v?.forEach(k),go(e,{state:b},t);const O=s?.getColumns()??[],W=[...n?.getColumns()??[],...O,...h].map(U=>({colId:U.colId}));go(e,{state:W,applyOrder:!0},t),r.dispatchEvent(tt(c,{type:"columnsReset",source:t}))}function $R(e,t){const{rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:n,colModel:r,sortSvc:c,eventSvc:h}=e,p={rowGroupColumns:i?.columns.slice()??[],pivotColumns:s?.columns.slice()??[],valueColumns:n?.columns.slice()??[]},v=OC(e),b={};return v.forEach(R=>{b[R.colId]=R}),()=>{const R=(de,re,ie,Fe)=>{const Pe=re.map(Fe),me=ie.map(Fe);if(al(Pe,me))return;const _e=new Set(re);ie.forEach(Be=>{_e.delete(Be)||_e.add(Be)});const Je=[..._e];h.dispatchEvent({type:de,columns:Je,column:Je.length===1?Je[0]:null,source:t})},F=de=>{const re=[];return r.forAllCols(ie=>{const Fe=b[ie.getColId()];Fe&&de(Fe,ie)&&re.push(ie)}),re},k=de=>de.getColId();R("columnRowGroupChanged",p.rowGroupColumns,i?.columns??[],k),R("columnPivotChanged",p.pivotColumns,s?.columns??[],k);const V=F((de,re)=>{const ie=de.aggFunc!=null,Fe=ie!=re.isValueActive(),Pe=ie&&de.aggFunc!=re.getAggFunc();return Fe||Pe});V.length>0&&c1(h,"columnValueChanged",V,t),Ld(h,F((de,re)=>de.width!=re.getActualWidth()),!0,t),jR(h,F((de,re)=>de.pinned!=re.getPinned()),t),l1(h,F((de,re)=>de.hide==re.isVisible()),t);const X=F((de,re)=>de.sort!=re.getSort()||de.sortIndex!=re.getSortIndex());X.length>0&&c?.dispatchSortChangedEvents(t,X);const Y=OC(e);g1(v,Y,t,r,h)}}function OC(e){const{colModel:t,rowGroupColsSvc:i,pivotColsSvc:s}=e,n=t.getColDefCols();if(gi(n)||!t.isAlive())return[];const r=i?.columns,c=s?.columns,h=[],p=b=>{const R=b.isRowGroupActive()&&r?r.indexOf(b):null,F=b.isPivotActive()&&c?c.indexOf(b):null,k=b.isValueActive()?b.getAggFunc():null,O=b.getSort()!=null?b.getSort():null,V=b.getSortIndex()!=null?b.getSortIndex():null;h.push({colId:b.getColId(),width:b.getActualWidth(),hide:!b.isVisible(),pinned:b.getPinned(),sort:O,sortIndex:V,aggFunc:k,rowGroup:b.isRowGroupActive(),rowGroupIndex:R,pivot:b.isPivotActive(),pivotIndex:F,flex:b.getFlex()??null})};t.forAllCols(b=>p(b));const v=new Map(t.getCols().map((b,R)=>[b.getColId(),R]));return h.sort((b,R)=>{const F=v.has(b.colId)?v.get(b.colId):-1,k=v.has(R.colId)?v.get(R.colId):-1;return F-k}),h}function KR(e){const t=(O,V)=>O??V??null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),c=t(i.pinned,i.initialPinned),h=t(i.width,i.initialWidth),p=t(i.flex,i.initialFlex);let v=t(i.rowGroupIndex,i.initialRowGroupIndex),b=t(i.rowGroup,i.initialRowGroup);v==null&&(b==null||b==!1)&&(v=null,b=null);let R=t(i.pivotIndex,i.initialPivotIndex),F=t(i.pivot,i.initialPivot);R==null&&(F==null||F==!1)&&(R=null,F=null);const k=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:r,pinned:c,width:h,flex:p,rowGroup:b,rowGroupIndex:v,pivot:F,pivotIndex:R,aggFunc:k}}function d1(e,t,i){if(!e.applyOrder||!e.state)return;const s=[];e.state.forEach(n=>{n.colId!=null&&s.push(n.colId)}),h1(t.cols,s,t,i)}function h1(e,t,i,s){if(e==null)return;let n=[];const r={};t.forEach(h=>{if(r[h])return;const p=e.map[h];p&&(n.push(p),r[h]=!0)});let c=0;if(e.list.forEach(h=>{const p=h.getColId();if(r[p]!=null)return;p.startsWith(tv)?n.splice(c++,0,h):n.push(h)}),n=_R(n,s),!WR(n,i.getColTree())){Te(39);return}e.list=n}function g1(e,t,i,s,n){const r={};t.forEach(b=>r[b.colId]=b);const c={};e.forEach(b=>{r[b.colId]&&(c[b.colId]=!0)});const h=e.filter(b=>c[b.colId]),p=t.filter(b=>c[b.colId]),v=[];p.forEach((b,R)=>{const F=h&&h[R];if(F&&F.colId!==b.colId){const k=s.getCol(F.colId);k&&v.push(k)}}),v.length&&n.dispatchEvent({type:"columnMoved",columns:v,column:v.length===1?v[0]:null,finished:!0,source:i})}var t0=(e,t,i,s)=>{const n=e[i.getId()],r=e[s.getId()],c=n!=null,h=r!=null;if(c&&h)return n-r;if(c)return-1;if(h)return 1;const p=t.indexOf(i),v=t.indexOf(s),b=p>=0,R=v>=0;return b&&R?p-v:b?-1:1},p1=class extends ye{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(xd(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),xd(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:i,colAutosize:s,rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:c,visibleCols:h,eventSvc:p,groupHierarchyColSvc:v}=t,b=this.colDefs?$R(t,e):void 0;i?.expire();const R=this.colDefCols?.list,F=this.colDefCols?.tree,k=e1(t,this.colDefs,!0,F,e);kC(t,this.colDefCols?.tree,k.columnTree);const O=k.columnTree,V=k.treeDepth,_=GR(O),W={};_.forEach(U=>W[U.getId()]=U),this.colDefCols={tree:O,treeDepth:V,list:_,map:W},this.createColumnsForService([v],this.colDefCols),n?.extractCols(e,R),r?.extractCols(e,R),c?.extractCols(e,R),this.ready=!0,this.refreshCols(!0),h.refresh(e),p.dispatchEvent({type:"columnEverythingChanged",source:e}),b&&(this.changeEventsDispatching=!0,b(),this.changeEventsDispatching=!1),p.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&s?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:s,rowNumbersSvc:n,quickFilter:r,pivotResultCols:c,showRowGroupCols:h,rowAutoHeight:p,visibleCols:v,colViewport:b,eventSvc:R}=this.beans,F=this.selectCols(c,this.colDefCols);this.createColumnsForService([i,s,n],F);const k=LA(this.gos,this.showingPivotResult);(!e||k)&&this.restoreColOrder(F),this.positionLockedCols(F),h?.refresh(),r?.refreshCols(),this.setColSpanActive(),p?.setAutoHeightActive(F),v.clear(),b.clear(),!al(t,this.cols.tree)&&R.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const i of e)i&&(i.createColumns(t,s=>{this.lastOrder=s(this.lastOrder),this.lastPivotOrder=s(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){const i=e?.getPivotResultCols()??null;this.showingPivotResult=i!=null;const{map:s,list:n,tree:r,treeDepth:c}=i??t;return this.cols={list:n.slice(),map:{...s},tree:r.slice(),treeDepth:c},i&&(i.list.some(p=>this.cols?.map[p.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:i}=this.beans,s=this.isPivotMode()&&!this.showingPivotResult,n=t?.isSelectionColumnEnabled(),r=i.get("rowNumbers"),c=e?.columns;return this.cols.list.filter(p=>{const v=ub(p);if(s){const b=c?.includes(p);return v||b||n&&ll(p)||r&&el(p)}else return v||p.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){go(this.beans,{state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const i=t.filter(R=>e.map[R.getId()]!=null);if(i.length===0)return;if(i.length===e.list.length){e.list=i;return}const s=R=>{const F=R.getOriginalParent();return F?F.getChildren().length>1?!0:s(F):!1};if(!i.some(R=>s(R))){const R=new Set(i);for(const F of e.list)R.has(F)||i.push(F);e.list=i;return}const n=new Map;for(let R=0;R<i.length;R++){const F=i[R];n.set(F,R)}const r=e.list.filter(R=>!n.has(R));if(r.length===0){e.list=i;return}const c=(R,F)=>{const k=F?F.getOriginalParent():R.getOriginalParent();if(!k)return null;let O=null,V=null;for(const _ of k.getChildren())if(!(_===F||_===R)){if(_ instanceof Hc){const W=n.get(_);if(W==null)continue;(O==null||O<W)&&(O=W,V=_);continue}_.forEachLeafColumn(W=>{const U=n.get(W);U!=null&&(O==null||O<U)&&(O=U,V=W)})}return V??c(R,k)},h=[],p=new Map;for(const R of r){const F=c(R,null);if(F==null){h.push(R);continue}const k=p.get(F);k===void 0?p.set(F,R):Array.isArray(k)?k.push(R):p.set(F,[k,R])}const v=new Array(e.list.length);let b=v.length-1;for(let R=h.length-1;R>=0;R--)v[b--]=h[R];for(let R=i.length-1;R>=0;R--){const F=i[R],k=p.get(F);if(k)if(Array.isArray(k))for(let O=k.length-1;O>=0;O--){const V=k[O];v[b--]=V}else v[b--]=k;v[b--]=F}e.list=v}positionLockedCols(e){e.list=_R(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:i,eventSvc:s}=this.beans;i.refresh(t),s.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=xd(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){kC(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:i,selectionColSvc:s,groupHierarchyColSvc:n}=this.beans;Hg(this.colDefCols?.list,e),Hg(i?.columns?.list,e),Hg(s?.columns?.list,e),Hg(n?.columns?.list,e),Hg(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let h=0;h<s.length;h++)if(BR(s[h],e))return s[h];const{autoColSvc:n,selectionColSvc:r,groupHierarchyColSvc:c}=this.beans;return n?.getColumn(e)??r?.getColumn(e)??c?.getColumn(e)??null}},qR=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},zd=class extends ye{};function Sp(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var Xe=null;function i0(e){return typeof e?.getGui=="function"}var xp=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const s=(e||"").split(" ");if(s.length>1){s.forEach(n=>this.toggleCss(n,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},f1=0,Rp=class extends ar{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=f1++,this.cssManager=new xp(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(gR):null}applyElementsToComponent(e,t,i,s=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const n=this[t];if(n===Xe)this[t]=s??e;else{const r=i&&i[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){const i=[];for(const s of e.childNodes??[])i.push(s);i.forEach(s=>{if(!(s instanceof HTMLElement))return;const n=this.createComponentFromElement(s,r=>{const c=r.getGui();if(c)for(const h of s.attributes??[])c.setAttribute(h.name,h.value)},t);if(n){if(n.addItems&&s.children.length){this.createChildComponentsFromTags(s,t);const r=Array.prototype.slice.call(s.children);n.addItems(r)}this.swapComponentForNode(n,e,s)}else s.childNodes&&this.createChildComponentsFromTags(s,t)})}createComponentFromElement(e,t,i){const s=e.nodeName,n=this.getDataRefAttribute(e),r=s.indexOf("AG-")===0,c=r?this.componentSelectors.get(s):null;let h=null;if(c){const p=i&&n?i[n]:void 0;h=new c.component(p),h.setParentComponent(this),this.createBean(h,null,t)}else if(r)throw new Error(`selector: ${s}`);return this.applyElementsToComponent(e,n,i,h),h}swapComponentForNode(e,t,i){const s=e.getGui();t.replaceChild(s,i),t.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){let s;typeof e=="string"||e==null?s=sb(e):s=bp(e),this.setTemplateFromElement(s,t,i)}setTemplateFromElement(e,t,i,s=!1){if(this.eGui=e,this.suppressDataRefValidation=s,t)for(let n=0;n<t.length;n++){const r=t[n];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),rb(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;rA(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;Ci(this.eGui,e,{skipAriaHidden:i});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},wi=class extends Rp{};function YR(e){return typeof e=="object"&&!!e.component}function m1(e,t){return new Rt(i=>{i(window.setInterval(e,t))})}var Rt=class Ug{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Ug(i=>{let s=t.length;const n=new Array(s);t.forEach((r,c)=>{r.then(h=>{n[c]=h,s--,s===0&&i(n)})})}):Ug.resolve()}static resolve(t=null){return new Ug(i=>i(t))}then(t){return new Ug(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function C1(e){return e?e.prototype&&"getGui"in e.prototype:!1}function XR(e,t,i,s){const{name:n}=i;let r,c,h,p,v,b;if(t){const R=t,F=R[n+"Selector"],k=F?F(s):null,O=V=>{typeof V=="string"?r=V:V!=null&&V!==!0&&(e.isFrameworkComponent(V)?h=V:c=V)};k?(O(k.component),p=k.params,v=k.popup,b=k.popupPosition):O(R[n])}return{compName:r,jsComp:c,fwComp:h,paramsFromSelector:p,popupFromSelector:v,popupPositionFromSelector:b}}var v1=class extends ye{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,s=!1){return this.getCompDetails(this.gridOptions,e,t,i,s)}getCompDetails(e,t,i,s,n=!1){const{name:r,cellRenderer:c}=t;let{compName:h,jsComp:p,fwComp:v,paramsFromSelector:b,popupFromSelector:R,popupPositionFromSelector:F}=XR(this.beans.frameworkOverrides,e,t,s),k,O;const V=K=>{const X=this.registry.getUserComponent(r,K);X&&(p=X.componentFromFramework?void 0:X.component,v=X.componentFromFramework?X.component:void 0,k=X.params,O=X.processParams)};if(h!=null&&V(h),p==null&&v==null&&i!=null&&V(i),p&&c&&!C1(p)&&(p=this.agCompUtils?.adaptFunction(t,p)),!p&&!v){const{validation:K}=this.beans;n&&(h!==i||!i)?h?K?.isProvidedUserComp(h)||jt(50,{compName:h}):i?K||jt(260,{...this.gos.getModuleErrorParams(),propName:r,compName:i}):jt(216,{name:r}):i&&!K&&jt(146,{comp:i});return}const _=this.mergeParams(e,t,s,b,k,O),W=p==null,U=p??v;return{componentFromFramework:W,componentClass:U,params:_,type:t,popupFromSelector:R,popupPositionFromSelector:F,newAgStackInstance:()=>this.newAgStackInstance(U,W,_,t)}}newAgStackInstance(e,t,i,s){const n=!t;let r;n?r=new e:r=this.frameworkCompWrapper.wrap(e,s.mandatoryMethods,s.optionalMethods,s),this.createBean(r);const c=r.init?.(i);return c==null?Rt.resolve(r):c.then(()=>r)}mergeParams(e,t,i,s=null,n,r){const c={...i,...n},h=e,p=h&&h[t.name+"Params"];if(typeof p=="function"){const v=p(i);As(c,v)}else typeof p=="object"&&As(c,p);return As(c,s),r?r(c):c}},w1={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},y1={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},b1={name:"headerComponent",optionalMethods:["refresh"]},S1={name:"innerHeaderComponent"},x1={name:"innerHeaderGroupComponent"},R1={name:"headerGroupComponent"},E1={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},M1={name:"loadingCellRenderer",cellRenderer:!0},D1={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},T1={name:"loadingOverlayComponent",optionalMethods:["refresh"]},F1={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},P1={name:"tooltipComponent"},db={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},A1={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},k1={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},L1={name:"loadingCellRenderer",cellRenderer:!0},O1={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},I1={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function H1(e,t){return e.getCompDetailsFromGridOptions(y1,"agDragAndDropImage",t,!0)}function N1(e,t,i){return e.getCompDetails(t,b1,"agColumnHeader",i)}function G1(e,t,i){return e.getCompDetails(t,S1,void 0,i)}function B1(e,t){const i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,R1,"agColumnGroupHeader",t)}function V1(e,t,i){return e.getCompDetails(t,x1,void 0,i)}function z1(e,t){return e.getCompDetailsFromGridOptions(k1,void 0,t,!0)}function _1(e,t){return e.getCompDetailsFromGridOptions(L1,"agLoadingCellRenderer",t,!0)}function W1(e,t){return e.getCompDetailsFromGridOptions(O1,"agGroupRowRenderer",t,!0)}function U1(e,t){return e.getCompDetailsFromGridOptions(I1,"agDetailCellRenderer",t,!0)}function s0(e,t,i){return e.getCompDetails(t,E1,void 0,i)}function n0(e,t,i){return e.getCompDetails(t,M1,"agSkeletonCellRenderer",i,!0)}function ZR(e,t,i){return e.getCompDetails(t,D1,"agCellEditor",i,!0)}function j1(e,t,i,s){const n=t.filter;return YR(n)&&(t={filter:n.component,filterParams:t.filterParams}),e.getCompDetails(t,db,s,i,!0)}function $1(e,t,i){return e.getCompDetails(t,w1,"agDateInput",i,!0)}function K1(e,t){return e.getCompDetailsFromGridOptions(T1,"agLoadingOverlay",t,!0)}function q1(e,t){return e.getCompDetailsFromGridOptions(F1,"agNoRowsOverlay",t,!0)}function Y1(e,t){return e.getCompDetails(t.colDef,P1,"agTooltipComponent",t,!0)}function X1(e,t,i,s){return e.getCompDetails(t,A1,s,i)}function QR(e,t){return XR(e,t,db)}function bw(e,t,i){return e.mergeParams(t,db,i)}function cp(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}function Z1(e){return typeof e=="object"&&!!e.getComp}var he={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},hb=class extends Rp{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Sw,xw,Rw,Ew,py,fy,Mw;function cl(){return Sw===void 0&&(Sw=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Sw}function JR(){return xw===void 0&&(xw=/(firefox)/i.test(navigator.userAgent)),xw}function eE(){return Rw===void 0&&(Rw=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Rw}function vc(){return Ew===void 0&&(Ew=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Ew}function my(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!JR())?null:t.toString()}function Q1(){if(Mw!==void 0)return Mw;if(!document.body)return-1;let e=1e6;const t=JR()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),Mw=e,e}function J1(){return fy==null&&tE(),fy}function tE(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(fy=i,py=i===0)}function iE(){return py==null&&tE(),py}var gb="T",ek=new RegExp(`[${gb} ]`),tk=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${gb}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function er(e,t){return e.toString().padStart(t,"0")}function hn(e,t=!0,i=gb){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>er(n,2)).join("-");return t&&(s+=i+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>er(n,2)).join(":")),s}function _m(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),er(e.getDate(),2),er(e.getHours(),2),`:${er(e.getMinutes(),2)}`,`:${er(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,er(e.getDate(),2)].map(String):null}var Dw=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},o0=["January","February","March","April","May","June","July","August","September","October","November","December"],Tw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Cy(e,t){if(t==null)return hn(e,!1);const i=er(e.getFullYear(),4),s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>o0[e.getMonth()],MMM:()=>o0[e.getMonth()].slice(0,3),MM:()=>er(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Dw(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Dw(e.getDate())}`,DD:()=>er(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>Tw[e.getDay()],ddd:()=>Tw[e.getDay()].slice(0,3),dd:()=>Tw[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Dw(e.getDay())}`,d:()=>`${e.getDay()}`},n=new RegExp(Object.keys(s).join("|"),"g");return t.replace(n,r=>r in s?s[r]():r)}function nC(e,t=!1){return!!Qs(e,t)}function ik(e){return nC(e,!0)}function Qs(e,t=!1,i){if(!e||!i&&!tk.test(e))return null;const[s,n]=e.split(ek);if(!s)return null;const r=s.split("-").map(k=>parseInt(k,10));if(r.filter(k=>!isNaN(k)).length!==3)return null;const[c,h,p]=r,v=new Date(c,h-1,p);if(v.getFullYear()!==c||v.getMonth()!==h-1||v.getDate()!==p||!n&&t)return null;if(!n||n==="00:00:00")return v;const[b,R,F]=n.split(":").map(k=>parseInt(k,10));if(b>=0&&b<24)v.setHours(b);else if(t)return null;if(R>=0&&R<60)v.setMinutes(R);else if(t)return null;if(F>=0&&F<60)v.setSeconds(F);else if(t)return null;return v}function vy(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:n}=e;let r=(i??[]).map((p,v)=>({value:p,relevance:sk(t,p),idx:v}));if(r.sort((p,v)=>p.relevance-v.relevance),s&&(r=r.filter(p=>p.relevance<Math.max(p.value.length,t.length))),r.length>0&&n&&n>0){const v=r[0].relevance*n;r=r.filter(b=>v-b.relevance<0)}const c=[],h=[];for(const p of r)c.push(p.value),h.push(p.idx);return{values:c,indices:h}}function sk(e,t){e.length<t.length&&([e,t]=[t,e]);let i=[],s=[];const n=e.length,r=t.length;for(let h=0;h<=r;h++)i[h]=h;let c=0;for(let h=1;h<=n;h++){s[0]=h;for(let p=1;p<=r;p++){const v=e[h-1],b=t[p-1];if(v.toLocaleLowerCase()===b.toLocaleLowerCase())++c,v===b&&++c,h>1&&p>1&&e[h-2].toLocaleLowerCase()===t[p-2].toLocaleLowerCase()&&(++c,e[h-2]===t[p-2]&&++c),h<n/2-10&&++c,s[p]=i[p-1];else{const R=s[p-1],F=i[p],k=i[p-1];s[p]=1+Math.min(R,F,k)}}[i,s]=[s,i]}return i[r]/(c+1)}function sE(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}var wy=!1,IC=0;function nk(e){IC>0||(e.addEventListener("keydown",HC),e.addEventListener("mousedown",HC))}function ok(e){IC>0||(e.removeEventListener("keydown",HC),e.removeEventListener("mousedown",HC))}function HC(e){const t=wy,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(wy=i)}function rk(e){const t=as(e);return nk(t),IC++,()=>{IC--,ok(t)}}function ak(){return wy}function Rd(e,t,i=!1){const s=oA;let n=lR;t&&(n+=", "+t),i&&(n+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(p=>ea(p)),c=Array.prototype.slice.apply(e.querySelectorAll(n));return c.length?((p,v)=>p.filter(b=>v.indexOf(b)===-1))(r,c):r}function Fc(e,t=!1,i=!1,s=!1){const n=Rd(e,s?".ag-tab-guard":null,i),r=t?Ut(n):n[0];return r?(r.focus({preventScroll:!0}),!0):!1}function Nc(e,t,i,s){const n=Rd(t,i?':not([tabindex="-1"])':null),r=vi(e);let c;i?c=n.findIndex(p=>p.contains(r)):c=n.indexOf(r);const h=c+(s?-1:1);return h<0||h>=n.length?null:n[h]}function nE(e,t=5){let i=0;for(;e&&my(e)===null&&++i<=t;)e=e.parentElement;return my(e)===null?null:e}var lk=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",ck=class extends Rp{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(lk)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Zs(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ci(t,!1),Mc(t,"presentation")):(Ci(t,!0),Mc(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(MC(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return op(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},oE=class extends ck{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||UP(e)!==null?np(e,""):np(e,t??"")}setAriaLabel(e){return Ad(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ir(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function uk(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var gc=class extends oE{constructor(e,t,i="text",s="input"){super(e,e?.template??uk(s),[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=Xe,this.eWrapper=Xe,this.eInput=Xe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:i,className:s}=this;e.classList.add(`${s}-label`),t.classList.add(`${s}-input-wrapper`),i.classList.add(`${s}-input`),this.addCss("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;const{inputName:n,inputWidth:r}=this.config;n!=null&&this.setInputName(n),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,un(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return MC(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return un(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ad(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return op(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)un(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";un(this.eInput,"autocomplete",t)}return this}},pb=class extends gc{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},fb={selector:"AG-CHECKBOX",component:pb},dk=class extends pb{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Gc=class extends gc{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=this.eInput;return i.value!==e&&(i.value=He(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{sE(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{const s=i.clipboardData?.getData("text");s&&s.split("").some(n=>!e.test(n))&&i.preventDefault()}})}},iv={selector:"AG-INPUT-TEXT-FIELD",component:Gc},hk=class extends gc{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},gk={selector:"AG-INPUT-TEXT-AREA",component:hk},mb=class extends Gc{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=parseFloat(e.value),c=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==c&&this.setValue(c)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:i,max:s,step:n}=this.config;typeof t=="number"&&this.setPrecision(t),typeof i=="number"&&this.setMin(i),typeof s=="number"&&this.setMax(s),typeof n=="number"&&this.setStep(n)}onWheel(e){vi(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const i=this.precision;if(i==null)return e;if(t){const n=parseFloat(e).toFixed(i);return parseFloat(n).toString()}const s=String(e).split(".");if(s.length>1){if(s[1].length<=i)return e;if(i>0)return`${s[0]}.${s[1].slice(0,i)}`}return s[0]}setMin(e){return this.min===e?this:(this.min=e,un(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,un(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,un(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(He(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){i=this.adjustPrecision(i);const n=this.normalizeValue(i);s=i!=n}if(s)return t(i)}return e(i)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},pk={selector:"AG-INPUT-NUMBER-FIELD",component:mb},fk=class extends Gc{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=cl();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){vi(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?hn(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,un(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?hn(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,un(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,un(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Qs(this.getValue())??void 0}setDate(e,t){this.setValue(hn(e??null,this.includeTime),t)}},rE={selector:"AG-INPUT-DATE-FIELD",component:fk},mk=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",Ck="ag-active-item",vk=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",ref:"eText",children:t}]}),wk=class extends Rp{constructor(e,t,i){super(vk(e,t)),this.label=t,this.value=i,this.eText=Xe}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(Ck,e),aR(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const i=this.getGui();XP(i,e),YP(i,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>nb(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},yk=class extends Rp{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(mk)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case he.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const i=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(i)}break;case he.DOWN:case he.UP:e.preventDefault(),this.navigate(t);break;case he.PAGE_DOWN:case he.PAGE_UP:case he.PAGE_HOME:case he.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,s=i??t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.listItems.forEach(e=>{e.destroy()}),Zs(this.getGui()),this.listItems=[],this.refreshAriaRole()}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(s=>s.value===e);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.listItems[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!ea(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const i=this.getGui(),{scrollTop:s,clientHeight:n}=i,{offsetTop:r,offsetHeight:c}=t;(r+c>s+n||r<s)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const i=new wk(this.cssIdentifier,t,e);i.setParentComponent(this);const s=this.createManagedBean(i);this.listItems.push(s),this.getGui().appendChild(s.getGui())}navigate(e){const t=e===he.DOWN;let i;const{listItems:s,highlightedItem:n}=this;if(!n)i=t?s[0]:Ut(s);else{let c=s.indexOf(n)+(t?1:-1);c=Math.min(Math.max(c,0),s.length-1),i=s[c]}this.highlightItem(i)}navigateToPage(e){const{listItems:t,highlightedItem:i}=this;if(!i||t.length===0)return;const s=t.indexOf(i),n=this.options.length-1,r=t[0].getHeight(),c=Math.floor(this.getGui().clientHeight/r);let h=-1;e===he.PAGE_HOME?h=0:e===he.PAGE_END?h=n:e===he.PAGE_DOWN?h=Math.min(s+c,n):e===he.PAGE_UP&&(h=Math.max(s-c,0)),h!==-1&&this.highlightItem(t[h])}refreshAriaRole(){Mc(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((i,s)=>{i.setIndex(s+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},bk=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",Sk={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},xk=class extends oE{constructor(e){if(super(e,e?.template||Sk,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Xe,this.eWrapper=Xe,this.eDisplayField=Xe,this.eIcon=Xe,this.registerCSS(bk),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:n,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const n=this.beans.iconSvc.createIconNoSpan(i);n&&this.eIcon.appendChild(n)}s!=null&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ay(e,!1),this.ariaRole&&Mc(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case he.UP:case he.DOWN:case he.ENTER:case he.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case he.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:n=!0},maxPickerHeight:r,minPickerWidth:c,maxPickerWidth:h,variableWidth:p,beans:v,eWrapper:b}=this,R={modal:n,eChild:e,closeOnEsc:!0,closedCallback:()=>{const V=Jx(v);this.beforeHidePicker(),V&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:b};e.style.position="absolute";const F=v.popupSvc,k=F.addPopup(R);p?(c&&(e.style.minWidth=c),e.style.width=ob(xC(b)),h&&(e.style.maxWidth=h)):MC(e,h??xC(b));const O=r??`${ib(F.getPopupParent())}px`;return e.style.setProperty("max-height",O),this.alignPickerToComponent(),k.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:i,gos:s},eWrapper:n,pickerComponent:r}=this,c=s.get("enableRtl")?"right":"left";i.positionPopupByComponent({type:t,eventSource:n,ePopup:r.getGui(),position:"under",alignSide:c,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();ay(t,e);const i=this.eWrapper.classList;i.toggle("ag-picker-expanded",e),i.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return MC(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Rk=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}",Cb=class extends xk{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Rk)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:eC(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new yk("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),i=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",i),nA(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:s=>{s?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===he.TAB&&this.hidePicker(),t){case he.ENTER:case he.UP:case he.DOWN:case he.PAGE_UP:case he.PAGE_DOWN:case he.PAGE_HOME:case he.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case he.ESCAPE:super.onKeyDown(e);break;case he.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,i){const{listComponent:s,config:{placeholder:n},eDisplayField:r,tooltipFeature:c}=this;if(this.value===e||!s)return this;if(i||s.setValue(e,!0),s.getValue()===this.getValue())return this;let p=s.getDisplayValue();return p==null&&n&&(p=n),r.textContent=p,c?.setTooltipAndRefresh(p??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Ek={selector:"AG-SELECT",component:Cb},Mk=':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',vb=typeof window!="object"||!window?.document?.fonts?.forEach,Od=(e,t,i,s,n,r)=>{if(vb)return;s&&(e=`@layer ${CSS.escape(s)} { ${e} }`);let c=Ed.map.get(t);if(c||(c=[],Ed.map.set(t,c)),c.find(b=>b.css===e))return;const h=document.createElement("style");r&&h.setAttribute("nonce",r),h.dataset.agGlobalCss=i,h.textContent=e;const p={css:e,el:h,priority:n};let v;for(const b of c){if(b.priority>n)break;v=b}if(v){v.el.insertAdjacentElement("afterend",h);const b=c.indexOf(v);c.splice(b+1,0,p)}else t.insertBefore(h,t.querySelector(":not(title, meta)")),c.push(p)},aE=(e,t,i,s)=>{Od(Mk,e,"shared",t,0,i),s?.forEach((n,r)=>n.forEach(c=>Od(c,e,r,t,0,i)))},Dk=e=>{Ed.grids.add(e)},Tk=e=>{if(Ed.grids.delete(e),Ed.grids.size===0){Ed.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},r0,Ed=(r0=typeof window=="object"?window:{}).agStyleInjectionState??(r0.agStyleInjectionState={map:new WeakMap,grids:new Set}),nr=e=>new lE(e),Qa="$default",Fk=0,lE=class{constructor({feature:e,params:t,modeParams:i={},css:s,cssImports:n}){this.feature=e,this.css=s,this.cssImports=n,this.modeParams={[Qa]:{...i[Qa]??{},...t??{}},...i}}use(e,t,i){let s=this._inject;if(s==null){let{css:n}=this;if(n){const r=`ag-theme-${this.feature??"part"}-${++Fk}`;typeof n=="function"&&(n=n()),n=`:where(.${r}) {
${n}
}
`;for(const c of this.cssImports??[])n=`@import url(${JSON.stringify(c)});
${n}`;s={css:n,class:r}}else s=!1;this._inject=s}return s&&e&&Od(s.css,e,s.class,t,1,i),s?s.class:!1}},Pk=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),cE=e=>`--ag-${Pk(e)}`,or=e=>`var(${cE(e)})`,Ak=(e,t,i)=>Math.max(t,Math.min(i,e)),kk=e=>{const t=new Map;return i=>{const s=i;return t.has(s)||t.set(s,e(i)),t.get(s)}},Qo=e=>({ref:"accentColor",mix:e}),In=e=>({ref:"foregroundColor",mix:e}),Gn=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Lk=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Xs={ref:"backgroundColor"},md={ref:"foregroundColor"},Ur={ref:"accentColor"},NC={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:In(.15),chromeBackgroundColor:Gn(.02),browserColorScheme:"light"},Ok={...NC,textColor:md,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:Qo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Xs,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Ur,toggleButtonOffBackgroundColor:Gn(.3),toggleButtonSwitchBackgroundColor:Xs,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},Ik=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Hk=kk(e=>(e=e.toLowerCase(),Ik.find(t=>e.endsWith(t.toLowerCase()))??"length")),sv=e=>typeof e=="object"&&e?.ref?or(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,wb=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=or(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?or(e.onto):"transparent"}, ${t} ${Ak(e.mix*100,0,100)}%)`}return!1},Nk=sv,Cd=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${or(i)} `)})`:e&&"ref"in e?or(e.ref):!1,Gk=sv,yy=(e,t)=>typeof e=="string"?e:e===!0?yy({},t):e===!1?t==="columnBorder"?yy({color:"transparent"},t):"none":e&&"ref"in e?or(e.ref):uE(e.style??"solid")+" "+Cd(e.width??{ref:"borderWidth"})+" "+wb(e.color??{ref:"borderColor"}),Bk=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?or(e.ref):[Cd(e.offsetX??0),Cd(e.offsetY??0),Cd(e.radius??0),Cd(e.spread??0),wb(e.color??{ref:"foregroundColor"})].join(" "),uE=sv,dE=e=>typeof e=="string"?e.includes(",")?e:a0(e):e&&"googleFont"in e?dE(e.googleFont):e&&"ref"in e?or(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),a0(t))).join(", "):!1,a0=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Vk=sv,hE=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?hE({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?or(e.ref):!1,zk=(e,t,i)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&i.warn(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?or(e.ref):!1,_k={color:wb,colorScheme:Nk,length:Cd,scale:Gk,border:yy,borderStyle:uE,shadow:Bk,image:hE,fontFamily:dE,fontWeight:Vk,duration:zk},Wk=(e,t,i)=>{const s=Hk(e);return _k[s](t,e,i)},Uk=e=>new gE(e),gE=class pE{constructor(t,i=[]){this.themeLogger=t,this.parts=i}withPart(t){return typeof t=="function"&&(t=t()),t instanceof lE?new pE(this.themeLogger,[...this.parts,t]):(this.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(nr({feature:t}))}withParams(t,i=Qa){return this.withPart(nr({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,nonce:s,loadThemeGoogleFonts:n,moduleCss:r}){if(vb)return;$k(),aE(t,i,s,r);const c=jk(this);if(c.length>0)for(const h of c)n&&qk(h,s);for(const h of this.parts)h.use(t,i,s)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=l0(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const i={[Qa]:{...Ok}};for(const s of l0(this.parts))for(const n of Object.keys(s.modeParams)){const r=s.modeParams[n];if(r){const c=i[n]??(i[n]={}),h=new Set;for(const p of Object.keys(r)){const v=r[p];v!==void 0&&(c[p]=v,h.add(p))}if(n===Qa)for(const p of Object.keys(i)){const v=i[p];if(p!==Qa)for(const b of h)delete v[b]}}}this._paramsCache=t=i}return t}_getPerInstanceCss(t){const i="##SELECTOR##";let s=this._paramsCssCache;if(!s){let n="",r="";const c=this._getModeParams();for(const p of Object.keys(c)){const v=c[p];if(p!==Qa){const R=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(p):p}"]) & {
`;n+=R,r+=R}for(const b of Object.keys(v).sort()){const R=v[b],F=Wk(b,R,this.themeLogger);if(F===!1)this.themeLogger.error(107,{key:b,value:R});else{const k=cE(b),O=k.replace("--ag-","--ag-inherited-");n+=`	${k}: var(${O}, ${F});
`,r+=`	${O}: var(${k});
`}}p!==Qa&&(n+=`}
`,r+=`}
`)}let h=`${i} {
${n}}
`;h+=`:has(> ${i}):not(${i}) {
${r}}
`,this._paramsCssCache=s=h}return s.replaceAll(i,`:where(.${t})`)}},l0=e=>{const t=new Map;for(const s of e)t.set(s.feature,s);const i=[];for(const s of e)(!s.feature||t.get(s.feature)===s)&&i.push(s);return i},jk=e=>{const t=new Set,i=r=>{if(Array.isArray(r))r.forEach(i);else{const c=r?.googleFont;typeof c=="string"&&t.add(c)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(i),Array.from(t).sort()},c0=!1,$k=()=>{if(!c0){c0=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Kk=new Set,qk=async(e,t)=>{Kk.add(e);const i=`@import url('https://${Yk}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Od(i,document.head,`googleFont:${e}`,void 0,0,t)},Yk="fonts.googleapis.com",Xk=1,Zk=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=Xk++,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{const{beanName:i,bean:s}=t(this);this.beans[i]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const i=this.beans;e.forEach(s=>{s.preWireBeans?.(i),s.wireBeans?.(i)}),e.forEach(s=>s.preConstruct?.()),t&&e.forEach(t),e.forEach(s=>s.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},Qk=0,Jk=class extends ar{constructor(){super(...arguments),this.beanName="environment",this.paramsClass=`ag-theme-params-${++Qk}`,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t),this.eStyleContainer=e.get("themeStyleContainer")??(t.getRootNode()===document?document.head:t),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc(()=>Tk(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:i}=this;let s;i?s=`${this.paramsClass} ${i._getCssClass()}`:s=this.applyLegacyThemeClasses();for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(s){const n=e.className;e.className=`${n}${n?" ":""}${s}${t?.length?` ${t.join(" ")}`:""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let i=!1;for(const s of Array.from(t.classList))s.startsWith("ag-theme-")&&(i=!0,e=e?`${e} ${s}`:s);i&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?Od(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}handleThemeChange(){const{gos:e,theme:t}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const n=i??this.getDefaultTheme();n instanceof gE?s=n:this.themeError(n)}s!==t&&this.handleNewTheme(s),this.postProcessThemeChange(s,i)}handleNewTheme(e){const{gos:t,eRootDiv:i,globalCSS:s}=this,n=this.getAdditionalCss();if(e){Dk(this),aE(this.eStyleContainer,this.cssLayer,this.styleNonce,n);for(const[c,h]of s)Od(c,this.eStyleContainer,h,this.cssLayer,0,this.styleNonce);s.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:n});let r=this.eParamsStyle;if(!r){r=this.eParamsStyle=bp({tag:"style"});const c=t.get("styleNonce");c&&r.setAttribute("nonce",c),i.appendChild(r)}vb||(r.textContent=e?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(i),this.fireStylesChangedEvent("themeChanged")}},eL=class extends ar{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...i){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const s=this.dynamicBeans[e];if(s==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new s(...i)}},tL=class extends ar{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new Ec}addListener(e,t,i){this.globalSvc.addEventListener(e,t,i)}removeListener(e,t,i){this.globalSvc.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},fE=class extends ar{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const i="title",s=this.ctrl.getGui();s&&(e!=null&&(e!=""||t)?s.setAttribute(i,e):s.removeAttribute(i))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},iL=1e3,sL=1e3,u0=100,d0,Wm=!1,nL=class extends ar{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!vc()&&(Wm?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},u0):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,i=this.tooltipCtrl.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&s?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Wm)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-d0<iL}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!He(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const i=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(i,s)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),d0=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const s=t.getGui();this.tooltipComp=t,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const n=this.getLocaleTextFunc(),r=this.popupSvc?.addPopup({eChild:s,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const c=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:c}),this.setEventHandlers(c)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(as(this.beans),{keydown:c=>{s.contains(c?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=vi(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=this.tooltipTrigger===0?sL:0;window.setTimeout(()=>{e(),this.destroyBean(t)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Wm=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},u0)}unlockService(){Wm=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},oL=class extends fE{constructor(e,t,i){super(e,i),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},Um=0,rL=200,aL=class extends ar{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:r,alignSide:c="left",position:h="over",type:p}=e,v=r.getBoundingClientRect(),b=this.getParentRect();this.setAlignedTo(r,t);const R=()=>{let F=v.left-b.left;c==="right"&&(F-=t.offsetWidth-v.width);let k;return h==="over"?(k=v.top-b.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,v,b,e.nudgeY||0)==="under"?k=v.top-b.top+v.height:k=v.top-t.offsetHeight-(s||0)*2-b.top),{x:F,y:k}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:R,postProcessCallback:()=>this.callPostProcessPopup(e,p,t,r,null)})}shouldRenderUnderOrAbove(e,t,i,s){const n=i.bottom-t.bottom,r=t.top-i.top,c=e.offsetHeight+s;return n>c?"under":r>c||r>n?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i],{alignedToElement:n}=s;!n||(["right","left","over","above","under"].forEach(c=>{n.classList.remove(`ag-has-popup-positioned-${c}`),e.classList.remove(`ag-popup-positioned-${c}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const i=this.getPopupIndex(t);if(i!==-1){const s=this.popupList[i];s.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:n,skipObserver:r,updatePosition:c}=e,h={width:0,height:0},p=(v=!1)=>{let{x:b,y:R}=c();v&&t.clientWidth===h.width&&t.clientHeight===h.height||(h.width=t.clientWidth,h.height=t.clientHeight,s&&(b+=s),n&&(R+=n),i&&(b=this.keepXYWithinBounds(t,b,1),R=this.keepXYWithinBounds(t,R,0)),t.style.left=`${b}px`,t.style.top=`${R}px`,e.postProcessCallback&&e.postProcessCallback())};if(p(),!r){const v=ta(this.beans,t,()=>p(!0));setTimeout(()=>v(),rL)}}getParentRect(){const e=as(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),uR(t)}keepXYWithinBounds(e,t,i){const s=i===0,n=s?"clientHeight":"clientWidth",r=s?"top":"left",c=s?"height":"width",h=s?"scrollTop":"scrollLeft",p=as(this.beans),v=p.documentElement,b=this.getPopupParent(),R=e.getBoundingClientRect(),F=b.getBoundingClientRect(),k=p.documentElement.getBoundingClientRect(),O=b===p.body,V=Math.ceil(R[c]);let W=O?(s?cR:xC)(v)+v[h]:b[n];O&&(W-=Math.abs(k[r]-F[r]));const U=W-V;return Math.min(Math.max(t,0),Math.abs(U))}addPopup(e){const{eChild:t,ariaLabel:i,ariaOwns:s,alwaysOnTop:n,positionCallback:r,anchorToElement:c}=e,h=this.getPopupIndex(t);if(h!==-1)return{hideFunc:this.popupList[h].hideFunc};this.initialisePopupPosition(t);const p=this.createPopupWrapper(t,!!n,i,s),v=this.addEventListenersToPopup({...e,wrapperEl:p});return r&&r(),this.addPopupToPopupList(t,p,v,c),{hideFunc:v}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();He(e.style.top)||(e.style.top=`${i.top*-1}px`),He(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i,s){const n=this.getPopupParent(),{environment:r,gos:c}=this.beans,h=bp({tag:"div"});return r.applyThemeClasses(h),h.classList.add("ag-popup"),e.classList.add(c.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Mc(e,"dialog"),i?Ad(e,i):s&&(e.id||(e.id=`popup-component-${Um}`),WS(s,e.id)),h.appendChild(e),n.appendChild(h),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),h}addEventListenersToPopup(e){const t=this.beans,i=as(t),s=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:c,afterGuiAttached:h,closeOnEsc:p,modal:v,ariaOwns:b}=e;let R=!1;const F=_=>{if(!n.contains(vi(t)))return;_.key===he.ESCAPE&&!this.isStopPropagation(_)&&V({keyboardEvent:_})},k=_=>V({mouseEvent:_}),O=_=>V({touchEvent:_}),V=(_={})=>{const{mouseEvent:W,touchEvent:U,keyboardEvent:K,forceHide:X}=_;!X&&(this.isEventFromCurrentPopup({mouseEvent:W,touchEvent:U},r)||R)||(R=!0,s.removeChild(n),i.removeEventListener("keydown",F),i.removeEventListener("mousedown",k),i.removeEventListener("touchstart",O),i.removeEventListener("contextmenu",k),this.eventSvc.removeListener("dragStarted",k),c&&c(W||U||K),this.removePopupFromPopupList(r,b))};return h&&h({hidePopup:V}),window.setTimeout(()=>{p&&i.addEventListener("keydown",F),v&&(i.addEventListener("mousedown",k),this.eventSvc.addListener("dragStarted",k),i.addEventListener("touchstart",O),i.addEventListener("contextmenu",k))},0),V}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Um,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s),Um=Um+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(r=>r&&r()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&WS(t,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,r=s.getBoundingClientRect(),c=R=>parseInt(R.substring(0,R.length-1),10),h=(R,F)=>{const k=i[R]-r[R],O=c(n.style[R]);return{initialDiff:k,lastDiff:k,initial:O,last:O,direction:F}},p=h("top",0),v=h("left",1),b=this.beans.frameworkOverrides;return new Rt(R=>{b.wrapIncoming(()=>{m1(()=>{const F=t.getBoundingClientRect(),k=s.getBoundingClientRect();if(k.top==0&&k.left==0&&k.height==0&&k.width==0){e.hidePopup();return}const V=(_,W)=>{const U=c(n.style[W]);_.last!==U&&(_.initial=U,_.last=U);const K=F[W]-k[W];if(K!=_.lastDiff){const X=this.keepXYWithinBounds(n,_.initial+_.initialDiff-K,_.direction);n.style[W]=`${X}px`,_.last=X}_.lastDiff=K};V(p,"top"),V(v,"left")},200).then(F=>{R(()=>{F!=null&&window.clearInterval(F)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let c=r;c<this.popupList.length;c++){const h=this.popupList[c];if(cA(h.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=as(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=this.getWrapper(e);if(!n||s<=1||!t.contains(e))return;const r=[],c=[];for(const F of i)F!==n&&(F.classList.contains("ag-always-on-top")?c.push(F):r.push(F));const h=[],p=c.length,R=n.classList.contains("ag-always-on-top")||!p?[...r,...c,n]:[...r,n,...c];for(let F=0;F<=s;F++){const k=R[F];if(i[F]===R[F]||k===n)continue;k.querySelectorAll("div").forEach(V=>{V.scrollTop!==0&&h.push([V,V.scrollTop])}),F===0?t.insertAdjacentElement("afterbegin",k):R[F-1].insertAdjacentElement("afterend",k)}for(;h.length;){const F=h.pop();F[0].scrollTop=F[1]}}},lL=class extends hb{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,i=this.getGui();i.textContent=Vd(t);const s=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();i.classList.add(`ag-${s}-tooltip`)}},cL=class extends ar{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,i=t.find(s=>s.dragSource===e);i&&(this.removeListener(i),zn(t,i))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let r=null;const c=this.gos.get("suppressTouch");s&&!c&&(r=h=>{tb(h.target)||(n&&h.stopPropagation(),this.onTouchStart(e,h))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!s})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=p=>this.onTouchMove(p,e.eElement),n=p=>this.onTouchUp(p,e.eElement),r=p=>{p.cancelable&&p.preventDefault()},c=t.target,h=[{target:sp(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:c,type:"touchmove",listener:s,options:{passive:!0}},{target:c,type:"touchend",listener:n,options:{passive:!0}},{target:c,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(h),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=v=>this.onMouseMove(v,e.eElement),n=v=>this.onMouseUp(v,e.eElement),r=v=>v.preventDefault(),c=v=>{v.key===he.ESCAPE&&this.cancelDrag(e.eElement)},h=sp(this.beans),p=[{target:h,type:"mousemove",listener:s},{target:h,type:"mouseup",listener:n},{target:h,type:"contextmenu",listener:r},{target:h,type:"keydown",listener:c}];this.addTemporaryEvents(p),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.addEventListener(s,n,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:s,listener:n,options:r}=t;i.removeEventListener(s,n,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,s=He(i)?i:4;return fR(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){cl()&&as(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return t&&e.cancelable&&ap(this.beans,e)&&!i(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}},uL=class extends ar{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(e,t=!1){const i={dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:s=>this.onDragStart(e,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(i),this.beans.dragSvc.addDragSource(i)}setDragImageCompIcon(e,t=!1){const i=this.dragImageComp;i&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,i.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:i}=this,s=t.find(n=>n.dragSource===e);s&&(i.dragSvc?.removeDragSource(s),zn(t,s))}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:i}=this,s=i.dragSvc;for(const n of e)s?.removeDragSource(n);e.length=0,t.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:i}=this;if(t?.onDragStopped?.(),i){const s=this.dropTargetEvent(i,e,!1);i.onDragStop?.(s)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:i}=this;if(e?.onDragCancelled?.(),t&&i){const s=this.dropTargetEvent(t,i,!1);t.onDragCancel?.(s)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const i=this.findCurrentDropTarget(e),{lastDropTarget:s,dragSource:n,dragItem:r}=this;let c=!1;if(i!==s){if(c=!0,s){const h=this.dropTargetEvent(s,e,t);s.onDragLeave?.(h)}if(s!==null&&!i?this.handleExit(n,r):s===null&&i&&this.handleEnter(n,r),i){const h=this.dropTargetEvent(i,e,t);i.onDragEnter?.(h)}this.lastDropTarget=i}else if(i){const h=this.dropTargetEvent(i,e,t);i.onDragging?.(h),h?.changed&&(c=!0)}this.lastMouseEvent=e,c&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;const n=(h,p)=>{for(const v of p){const{width:b,height:R,left:F,right:k,top:O,bottom:V}=v.getBoundingClientRect();if(b===0||R===0)return!1;const _=h.clientX>=F&&h.clientX<k,W=h.clientY>=O&&h.clientY<V;if(!_||!W)return!1}return!0};for(const h of i)if(n(e,h)){s=!0;break}const{eElement:r,type:c}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:s&&t.isInterestedIn(c,r)}findCurrentDropTarget(e){const t=this.dropTargets.filter(r=>this.isMouseOnDropTarget(e,r)),i=t.length;if(i===0)return null;if(i===1)return t[0];const n=sp(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of n)for(const c of t)if(this.getAllContainersFromDropTarget(c).flatMap(p=>p).indexOf(r)!==-1)return c;return null}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.find(t=>t.external&&t.getContainer()===e)||null}dropTargetEvent(e,t,i){const{dragSource:s,dragItem:n,lastDraggingEvent:r,lastMouseEvent:c}=this,h=e.getContainer(),p=h.getBoundingClientRect(),{clientX:v,clientY:b}=t,R=v-(c?.clientX||0),F=b-(c?.clientY||0),k=this.createEvent({event:t,x:v-p.left,y:b-p.top,vDirection:F>0?"down":F<0?"up":null,hDirection:R<0?"left":R>0?"right":null,dragSource:s,fromNudge:i,dragItem:n,dropZoneTarget:h,dropTarget:r?.dropTarget??null,changed:!!r?.changed});return this.lastDraggingEvent=k,k}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&pA(t,e,this.beans)}removeDragImageComp(e){if(this.dragImageComp===e&&(this.dragImageComp=null),e){const t=e.getGui();this.dragImageParent?.removeChild(t),this.destroyBean(e)}}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(i=>{if(t!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive()){this.destroyBean(i);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const s=this.dragImageComp;s!==i&&(this.dragImageComp=i,this.removeDragImageComp(s)),i&&(this.appendDragImageComp(i),this.updateDragImageComp())})}appendDragImageComp(e){const t=e.getGui(),i=t.style;i.setProperty("position","absolute"),i.setProperty("z-index","9999"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),i.top="20px",i.left="20px";const s=eb(this.beans);this.dragImageParent=s,s?s.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:i,lastDraggingEvent:s,dragImageLastLabel:n}=this;if(!e)return;this.setDragImageCompIcon(i?.getIconName?.(s)??null);let r=t?.dragItemName;typeof r=="function"&&(r=r(s)),r||(r=""),n!==r&&(this.dragImageLastLabel=r,e.setLabel(r))}},dL=class extends uL{createEvent(e){return tt(this.gos,e)}createDragImageComp(e){const{gos:t,beans:i}=this;return H1(i.userCompFactory,tt(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){Te(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const i={getContainer:e,isInterestedIn:s=>s===1||s===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}};function mE(e,t){return e+"_"+t}function Fi(e){return e instanceof up}var up=class extends ye{constructor(e,t,i,s){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=s,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=$g(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return mE(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Fi(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ut(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{ol(t)?e.push(t):Fi(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{ol(t)?e.push(t):Fi(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(Fi(i)&&!i.displayedChildren?.length)return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},by="row-group-",yb="t-",bb="b-",hL=0,Pc=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=hL++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:i,eventSvc:s}=this.beans,n=this.data;this.data=e,i?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,n,t);if(this.__localEventService?.dispatchEvent(r),this.sibling){this.sibling.data=e;const h=this.sibling.createDataChangedEvent(e,n,t);this.sibling.__localEventService?.dispatchEvent(h)}s.dispatchEvent({type:"rowNodeDataChanged",node:this});const c=this.pinnedSibling;c&&(c.data=e,c.__localEventService?.dispatchEvent(c.createDataChangedEvent(e,n,t)),s.dispatchEvent({type:"rowNodeDataChanged",node:c}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(jt(13),null):this.rowPinned==="top"?yb+this.rowIndex:this.rowPinned==="bottom"?bb+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:i}=this.beans,s=i?.createDaemonNode?.(this),n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,s));const r=this.createDataChangedEvent(e,n,!1);this.__localEventService?.dispatchEvent(r)}setId(e){const t=kd(this.beans.gos);if(t)if(this.data){const i=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(by)&&jt(14,{groupPrefix:by})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){this.beans.expansionSvc?.setExpanded(this,e,t,i)}setDataValue(e,t,i){const{colModel:s,valueSvc:n,gos:r,editSvc:c}=this.beans,h=typeof e!="string"?e:s.getCol(e)??s.getColDefCol(e);if(!h)return!1;const p=n.getValueForDisplay(h,this,void 0,void 0,"api").value;if(r.get("readOnlyEdit")){const{beans:{eventSvc:R},data:F,rowIndex:k,rowPinned:O}=this;return R.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:k,rowPinned:O,column:h,colDef:h.colDef,data:F,node:this,oldValue:p,newValue:t,value:t,source:i}),!1}if(c&&!c.committing){const R=c.setDataValue({rowNode:this,column:h},t,i);if(R!=null)return R}const v=n.setValue(this,h,t,i);this.dispatchCellChangedEvent(h,t,p);const b=this.pinnedSibling;return b&&v&&b.dispatchCellChangedEvent(h,t,p),v}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){const s={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};this.__localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Ec),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Ec),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const i=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Te(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function gL(e,t,i){return tt(t,{type:i,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var pL=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function fL(e,t){const i=new Pc(t);return Object.keys(e).forEach(s=>{pL.has(s)||(i[s]=e[s])}),i.oldRowTop=null,i}var CE={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},mL=new Set(Object.values(CE));function Ya(e,t){const i=e.filterUi;if(!i)return null;if(i.created)return i.promise;if(t)return null;const s=i.create(i.refreshed),n=i;return n.created=!0,n.promise=s,s}function CL(e,t,i,s,n,r){return t.refresh?.({...i,model:s,source:r}),e().then(c=>{if(c){const{filter:h,filterParams:p}=c;vE(h,p,s,n,r)}})}function vE(e,t,i,s,n){e?.refresh?.({...t,model:i,state:s,source:n})}function wE(e,t,i){const s=e();s?.created&&s.promise.then(n=>{const r=t();vE(n,s.filterParams,r,i()??{model:r},"ui")})}function h0(e,t,i,s,n,r,c){let h,p=!1,v;switch(e){case"apply":{const b=s();v=b?.model??null,c&&(v=c(v)),h={state:b?.state,model:v},p=!0;break}case"clear":{h={model:null};break}case"reset":{h={model:null},p=!0,v=null;break}case"cancel":{h={model:i()};break}}n(h),p?r(v):wE(t,i,s)}function Xi(e,t){return e[t]??null}function ks(e){return bp(e)}function vL(e){return{tag:"div",cls:e}}var wL=class extends wi{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(vL(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const i=this.buttons;if(this.buttons=e,i===e)return;const s=this.getGui();Zs(s);let n;this.destroyListeners();const r=document.createDocumentFragment(),c=this.className,h=({type:v,label:b})=>{const R=W=>{this.dispatchLocalEvent({type:v,event:W})};["apply","clear","reset","cancel"].includes(v)||Te(75);const F=v==="apply",O=ks({tag:"button",attrs:{type:F&&t?"submit":"button"},ref:`${v}FilterButton`,cls:`ag-button ag-standard-button ${c}-button${F?" "+c+"-apply-button":""}`,children:b});this.activateTabIndex([O]),F&&(n=O);const V=W=>{W.key===he.ENTER&&(W.preventDefault(),R(W))},_=this.listeners;O.addEventListener("click",R),_.push(()=>O.removeEventListener("click",R)),O.addEventListener("keydown",V),_.push(()=>O.removeEventListener("keydown",V)),r.append(O)};e.forEach(v=>h(v)),this.eApply=n;const p=this.validationTooltipFeature;n&&!p?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!n&&p&&(this.validationTooltipFeature=this.destroyBean(p)),s.append(r)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const i=this.eApply;i&&(op(i,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},yL={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Ja(e,t,i){return mA(e,yL,t,i)}function Sb(e,t){const{debounceMs:i}=e;return nv(e)?(i!=null&&Te(71),0):i??t}function nv(e){return(e.buttons?.indexOf("apply")??-1)>=0}var bL=class extends wi{constructor(e,t,i,s,n,r){super(),this.column=e,this.wrapper=t,this.eventParent=i,this.updateModel=s,this.isGlobalButtons=n,this.enableGlobalButtonCheck=r,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,i=t,s=i.useForm,n=s?"form":"div";this.setTemplate({tag:n,cls:"ag-filter-wrapper"}),s&&this.addManagedElementListeners(this.getGui(),{submit:r=>{r?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=i,this.resetButtonsPanel(i),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:r,params:c})=>{r===this.column&&this.resetButtonsPanel(c,this.params)},filterStateChanged:({column:r,state:c})=>{r===this.column&&this.eButtons?.updateValidity(c.valid!==!1)},filterAction:({column:r,action:c,event:h})=>{r===this.column&&this.afterAction(c,h)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:r})=>{if(r!==this.isGlobalButtons){this.isGlobalButtons=r;const c=this.params;this.resetButtonsPanel(c,c,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,i){const{buttons:s,readOnly:n}=t??{},{buttons:r,readOnly:c,useForm:h}=e;if(!i&&n===c&&ip(s,r))return;const p=r&&r.length>0&&!e.readOnly&&!this.isGlobalButtons;let v=this.eButtons;if(p){const b=r.map(R=>{const F=`${R}Filter`;return{type:R,label:Ja(this,F)}});if(this.applyActive=nv(this.params),!v){v=this.createBean(new wL),this.appendChild(v.getGui());const R=this.column,F=k=>({event:O})=>{this.updateModel(R,k),this.afterAction(k,O)};v?.addManagedListeners(v,{apply:F("apply"),clear:F("clear"),reset:F("reset"),cancel:F("cancel")}),this.eButtons=v}v.updateButtons(b,h)}else this.applyActive=!1,v&&(il(v.getGui()),this.eButtons=this.destroyBean(v))}close(e){const t=this.hidePopup;if(!t)return;const i=e,s=i&&i.key;let n;(s===he.ENTER||s===he.SPACE)&&(n={keyboardEvent:i}),t(n),this.hidePopup=null}afterAction(e,t){const{params:i,applyActive:s}=this,n=i?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),n&&s&&this.close(t);break}case"reset":{n&&s&&this.close();break}case"cancel":{n&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===he.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},SL={tag:"div",cls:"ag-filter"},xL=class extends wi{constructor(e,t,i){super(SL),this.column=e,this.source=t,this.enableGlobalButtonCheck=i,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Rt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:i,beans:{colFilter:s}}=this,n=s.getFilterUiForDisplay(t)??null;this.wrapper=n,n?.then(r=>{if(!r)return;const{isHandler:c,comp:h}=r;let p;if(c){const v=!!this.enableGlobalButtonCheck,b=this.createBean(new bL(t,r,s,s.updateModel.bind(s),v&&s.isGlobalButtons,v));this.comp=b,p=b.getGui()}else p=h.getGui(),He(p)||Te(69,{guiFromFilter:p});this.appendChild(p),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()}):h.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:i}=e;(t==="api"||t==="paramsUpdated")&&i.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Zs(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},g0={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},p0=["january","february","march","april","may","june","july","august","september","october","november","december"];function RL(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function f0(e){return e instanceof Date&&!isNaN(e.getTime())}var Sy={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:f0}),dateString:({dataTypeDefinition:e})=>({comparator:(t,i)=>{const s=e.dateParser(i);return i==null||s<t?-1:s>t?1:0},isValidDate:t=>typeof t=="string"&&f0(e.dateParser(t))}),dateTime:e=>Sy.date(e),dateTimeString:e=>Sy.dateString(e),object:()=>{},text:()=>{}},xy={number:()=>({comparator:RL}),boolean:({t:e})=>({valueFormatter:t=>He(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:i=>{const s=e(i);return He(s)?s:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(i,s)=>{if(i==="NaN")return t("invalidDate","Invalid Date");if(s===1&&i!=null){const n=p0[Number(i)-1];return t(n,g0[n])}return i??t("blanks","(Blanks)")},treeListPathGetter:i=>_m(i,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:i})=>({valueFormatter:s=>{const n=e(s);return He(n)?n:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:s=>_m(t.dateParser(s??void 0),!1),treeListFormatter:(s,n)=>{if(n===1&&s!=null){const r=p0[Number(s)-1];return i(r,g0[r])}return s??i("blanks","(Blanks)")}}),dateTime:e=>{const t=xy.date(e);return t.treeListPathGetter=_m,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,i=xy.dateString(e);return i.treeListPathGetter=s=>_m(t(s??void 0)),i},object:({formatValue:e,t})=>({valueFormatter:i=>{const s=e(i);return He(s)?s:t("blanks","(Blanks)")}}),text:()=>{}};function EL(e,t,i,s,n,r,c){let h=t,p=i;const v=e==="agSetColumnFilter";!p&&s.baseDataType==="object"&&!v&&(p=({column:k,node:O})=>n({column:k,node:O,value:r.valueSvc.getValue(k,O)}));const R=(v?xy:Sy)[s.baseDataType],F=R({dataTypeDefinition:s,formatValue:n,t:c});return h=typeof t=="object"?{...F,...t}:F,{filterParams:h,filterValueGetter:p}}var ML={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},DL={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function TL(e,t=!1){return(t?DL:ML)[e??"text"]}var yE="ag-resizer-wrapper",Xa=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),FL={tag:"div",cls:yE,children:[Xa("eTopLeft","topLeft"),Xa("eTop","top"),Xa("eTopRight","topRight"),Xa("eRight","right"),Xa("eBottomRight","bottomRight"),Xa("eBottom","bottom"),Xa("eBottomLeft","bottomLeft"),Xa("eLeft","left")]},PL=class extends ye{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:i}=this.offsetParent,s=i/2-this.getWidth()/2,n=t/2-this.getHeight()/2;this.offsetElement(s,n,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:i,minWidth:s,width:n,minHeight:r,height:c,x:h,y:p}=this.config;this.offsetParent||this.setOffsetParent();let v=0,b=0;const R=ea(this.element);if(R){const F=this.findBoundaryElement(),k=window.getComputedStyle(F);if(k.minWidth!=null){const O=F.offsetWidth-this.element.offsetWidth;b=parseInt(k.minWidth,10)-O}if(k.minHeight!=null){const O=F.offsetHeight-this.element.offsetHeight;v=parseInt(k.minHeight,10)-O}}if(this.minHeight=r||v,this.minWidth=s||b,n&&this.setWidth(n),c&&this.setHeight(c),(!n||!c)&&this.refreshSize(),t)this.center(e);else if(h||p)this.offsetElement(h,p,e);else if(R&&i){let F=this.boundaryEl,k=!0;if(F||(F=this.findBoundaryElement(),k=!1),F){const O=parseFloat(F.style.top),V=parseFloat(F.style.left);k?this.offsetElement(isNaN(V)?0:V,isNaN(O)?0:O,e):this.setPosition(V,O)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(i),this.moveElementDragListener=i):(this.dragSvc?.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const s=!!e[t],n=this.getResizerElement(t),r={dragStartPixels:0,eElement:n,onDragStart:c=>this.onResizeStart(c,t),onDragging:this.onResize.bind(this),onDragStop:c=>this.onResizeEnd(c,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragSvc?.addDragSource(r),this.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Kg(i,e),e=cR(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Kg(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:s.top,c=e?0:n.top;let h=0;if(t){const v=this.element.parentElement;if(v){const{bottom:b}=v.getBoundingClientRect();h=b-s.bottom}}return i+c-r-h}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ir(t,e),e=xC(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:n}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ir(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,i){const{forcePopupParentAsOffsetParent:s}=this.config,n=s?this.boundaryEl:this.element;n&&(this.popupSvc?.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:i}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=ta(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:r}=e,c=t.clientX-this.dragStartPosition.x,h=t.clientY-this.dragStartPosition.y,p=this.shouldSkipX(t,!!i,!!n,c)?0:c,v=this.shouldSkipY(t,!!s,r,h)?0:h;return{movementX:p,movementY:v}}shouldSkipX(e,t,i,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),c=this.boundaryEl.getBoundingClientRect(),h=this.config.popup?this.position.x:n.left;let p=h<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=c.right;return p?!0:(t?p=s<0&&e.clientX>h+r.left||s>0&&e.clientX<h+r.left:i?p=s<0&&e.clientX>c.right||s>0&&e.clientX<h+r.left:p=s<0&&e.clientX>c.right||s>0&&e.clientX<c.right,p)}shouldSkipY(e,t,i=0,s){const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),c=this.boundaryEl.getBoundingClientRect(),h=this.config.popup?this.position.y:n.top;let p=h<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=c.bottom;return p?!0:(t?p=s<0&&e.clientY>h+r.top+i||s>0&&e.clientY<h+r.top:p=s<0&&e.clientY>c.bottom||s>0&&e.clientY<c.bottom,p)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(ks(FL)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${yE}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const n=e[s],r=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let c=this.minHeight||0,h=this.minWidth||0;if(r){const p=window.getComputedStyle(n);p.minHeight&&(c=parseInt(p.minHeight,10)),p.minWidth&&(h=parseInt(p.minWidth,10))}else c=n.offsetHeight,h=n.offsetWidth;t+=c,i+=h}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:r,isLeft:c}=this.currentResizer,h=n||c,p=r||s,{movementX:v,movementY:b}=this.calculateMouseMovement({e,isLeft:c,isTop:s}),R=this.position.x,F=this.position.y;let k=0,O=0;if(h&&v){const V=c?-1:1,_=this.getWidth(),W=_+v*V;let U=!1;c&&(k=_-W,(R+k<=0||W<=this.minWidth)&&(U=!0,k=0)),U||this.setWidth(W)}if(p&&b){const V=s?-1:1,_=this.getHeight(),W=_+b*V;let U=!1;s?(O=_-W,(F+O<=0||W<=this.minHeight)&&(U=!0,O=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_<W&&this.getMinSizeOfSiblings().height+W>this.element.parentElement.offsetHeight&&(U=!0),U||this.setHeight(W)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&k||O)&&this.offsetElement(R+k,F+O)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:n,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},bE="__ag_Grid_Stop_Propagation";function Ac(e){e[bE]=!0}function Xr(e){return e[bE]===!0}var AL="ag-focus-managed",_d=class extends ye{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const s=Nc(this.beans,this.eFocusable,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(AL),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Xr(t))return;const{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Ac(t);return}t.key===he.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}},kL=class extends wi{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new _d(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new PL(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,i=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,i);const n=t.state,r=this.state;return this.state=n,(n.model!==r.model||n.state!==r.state)&&this.setModelIntoUi(n.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=nv(e),this.setupApplyDebounced()}doesFilterPass(e){Te(283);const{getHandler:t,model:i,column:s}=this.params;return t().doesFilterPass({...e,model:i,handlerParams:this.beans.colFilter.getHandlerParams(s)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return Te(284),this.params.model!=null}setupApplyDebounced(){const e=Sb(this.params,this.defaultDebounceMs),t=ls(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return Te(285),this.params.model}setModel(e){Te(286);const{beans:t,params:i}=this;return t.colFilter.setModelForColumnLegacy(i.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:i}=this,s=!this.areModelsEqual(t.model,i.model);return s&&t.onAction("apply",e),s}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const i=this.getModelFromUi(),s={model:i,state:this.getState(),valid:this.canApply(i)};this.state=s;const n=this.params;n.onStateChange(s),n.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:n.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:i}=this;if(!t)return;const s=e==="floatingFilter"||e==="columnFilter";s?(t.restoreLastSize(),t.setResizable(i.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(s)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Ja(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function SE(e){return!!e.operator}function LL(e,t,i){if(t==null)return null;let s=null;const{compName:n,jsComp:r,fwComp:c}=QR(e,t);return n?s={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:r==null&&c==null&&t.filter===!0&&(s=i()),s}var oC={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},xb=class extends ye{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?oC.AUTO_HEIGHT:t.print?oC.PRINT:oC.NORMAL;this.view.updateLayoutClasses(i,t)}},Za="Viewport",m0="fakeVScrollComp",Fw=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],C0=100,Pw=150,OL=class extends ye{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=ls(this,()=>this.lastScrollSource[1]=null,Pw),this.resetLastVScrollDebounced=ls(this,()=>this.lastScrollSource[0]=null,Pw)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,i=>{this.centerRowsCtrl=i.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Za)});for(const e of Fw){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?ls(this,this.onVScroll.bind(this,Za),C0):this.onVScroll.bind(this,Za),s=t?ls(this,this.onVScroll.bind(this,m0),C0):this.onVScroll.bind(this,m0);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Fw,Za]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);EC(i,e,this.enableRtl)}}getViewportForSource(e){return e===Za?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=RC(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Za?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:i}=this;i?.setScrollTop(t),this.nextScrollTop=t,e===Za?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,i?.active?i.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Pw)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!vc()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=ib(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const i of Fw)if(this.getViewportForSource(i).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Za)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const s=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),EC(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:i,lastScrollTop:s}=this;return{top:s,bottom:s+i}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:i}=this.beans,s=i.getRowCount();let n=-1;for(let r=0;r<s;r++){const c=i.getRow(r);if(typeof e=="function"){if(c&&e(c)){n=r;break}}else if(e===c||e===c.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t,i=0){if(cs(this.gos,"print"))return;const{rowModel:s}=this.beans,n=s.getRowCount();if(typeof e!="number"||e<0||e>=n){Te(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:r,pageBounds:c,rowContainerHeight:h,rowRenderer:p}=this.beans;r.wrapIncoming(()=>{const v=this.ctrlsSvc.getGridBodyCtrl(),b=s.getRow(e);let R,F,k=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:O,stickyBottomHeight:V}=v,_=b.rowTop,W=b.rowHeight,U=c.getPixelOffset(),K=b.rowTop-U,X=K+b.rowHeight,Y=this.getVScrollPosition(),de=h.divStretchOffset,re=Y.top+de,ie=Y.bottom+de,Fe=ie-re,Pe=h.getScrollPositionForPixel(K),me=h.getScrollPositionForPixel(X-Fe),Me=Math.min((Pe+me)/2,K),_e=re+O>K,Je=ie-V<X;let Be=null;t==="top"?Be=Pe-O:t==="bottom"?Be=me+V:t==="middle"?Be=Me:_e?Be=Pe-O:Je&&(me-Pe>Fe?Be=Pe-O:Be=me+V),Be!==null&&(this.setVerticalScrollPosition(Be),p.redraw({afterScroll:!0})),R=_!==b.rowTop||W!==b.rowHeight,F=O!==v.stickyTopHeight||V!==v.stickyBottomHeight,k++}while((R||F)&&k<10);if(this.animationFrameSvc?.flushAllFrames(),i<10&&(b?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const O=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const V=this.getVScrollPosition().top;O!==V&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=s.getRowCount())&&this.ensureIndexVisible(e,t,i+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:i,frameworkOverrides:s}=this.beans,n=i.getCol(e);if(!n||n.isPinned()||!this.visibleCols.isColDisplayed(n))return;const r=this.getPositionedHorizontalScroll(n,t);s.wrapIncoming(()=>{r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),c=this.enableRtl;let h=(c?i:s)||n,p=c?s:i;t!=="auto"&&(h=t==="start",p=t==="end");const v=t==="middle";if(h||p||v){const{colLeft:b,colMiddle:R,colRight:F}=this.getColumnBounds(e);return v?R-r/2:h?c?F:b:c?b-r:F-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),r=this.enableRtl,c=r?t>n:i<n,h=r?i<s:t>s;return{columnBeforeStart:c,columnAfterEnd:h}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleCols.bodyWidth,s=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,c=t?i-n:n,h=c+s*r,p=c+s/2*r;return{colLeft:c,colMiddle:p,colRight:h}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},Rb=class extends ye{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=cs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,s=t.bodyWidth,n=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let c;e?c=s+n+r:(c=s,this.addSpacer&&(this.gos.get("enableRtl")?n:r)===0&&i.verticalScrollShowing&&(c+=i.getScrollbarWidth())),this.callback(c)}},IL=class extends ye{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,s=()=>{ia(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(s),i.registerBodyViewportResizeListener(s)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=ib(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function rC(e,t,i,s){const n=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return xE(e,t,i,s,n)}function HL(e,t,i,s){const n=t?.suppressMouseEventHandling;return xE(e,void 0,i,s,n)}function xE(e,t,i,s,n){return n?n(tt(e,{column:t,node:i,event:s})):!1}function RE(e,t,i){let s=t;for(;s;){const n=DR(e,s,i);if(n)return n;s=s.parentElement}return null}var GC="cellCtrl";function Eb(e,t){return RE(e,t,GC)}var BC="renderedRow";function NL(e,t){return RE(e,t,BC)}function Ry(e,t,i,s,n){const r=s?s.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const c=tt(e,{event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(r&&r(c))}function GL(e){const{pinnedRowModel:t,rowModel:i}=e,[s,n]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],r=s?null:"top";let c,h;n?(c=null,h=i.getRowCount()-1):(c="bottom",h=t?.getPinnedBottomRowCount()??-1);const{visibleCols:p,rangeSvc:v}=e,b=p.allCols;!v||!b?.length||v.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:h,rowEndPinned:c})}var BL=65,VL=67,zL=86,_L=68,WL=90,UL=89;function jL(e){const{keyCode:t}=e;let i;switch(t){case BL:i=he.A;break;case VL:i=he.C;break;case zL:i=he.V;break;case _L:i=he.D;break;case WL:i=he.Z;break;case UL:i=he.Y;break;default:i=e.code}return i}var $L=class extends ye{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",pR("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!ap(this.beans,t)||Xr(t))return;const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i?.column&&i.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,s,i)):(i&&i.onMouseEvent(e,t),s&&s.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:Eb(t,e),rowCtrl:NL(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!Ry(this.gos,i,e.rowNode,e.column,s)&&t==="keydown"&&(!s&&this.beans.navigation?.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,s),sE(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const{rowNode:s}=e,{focusSvc:n,navigation:r}=this.beans,h=n.getFocusedCell()?.column;if(!Ry(this.gos,i,s,h,!1)){const v=i.key;if(t==="keydown")switch(v){case he.PAGE_HOME:case he.PAGE_END:case he.PAGE_UP:case he.PAGE_DOWN:r?.handlePageScrollingKey(i,!0);break;case he.LEFT:case he.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case he.UP:case he.DOWN:e.onKeyboardNavigate(i);break;case he.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ap(this.beans,e))return;const i=jL(e),{clipboardSvc:s,undoRedo:n}=this.beans;if(i===he.A)return this.onCtrlAndA(e);if(i===he.C)return this.onCtrlAndC(s,e);if(i===he.D)return this.onCtrlAndD(s,e);if(i===he.V)return this.onCtrlAndV(s,e);if(i===he.X)return this.onCtrlAndX(s,e);if(i===he.Y)return this.onCtrlAndY(n);if(i===he.Z)return this.onCtrlAndZ(n,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:i,selectionSvc:s},gos:n}=this;i&&nl(n)&&t.isRowsToRender()?GL(this.beans):s&&s?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:LR(n)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:i}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(i,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},EE=class extends ye{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},jm=e=>e.topRowCtrls,$m=e=>e.getStickyTopRowCtrls(),Km=e=>e.getStickyBottomRowCtrls(),qm=e=>e.bottomRowCtrls,Ym=e=>e.allRowCtrls,Aw=e=>e.getCtrls("top"),kw=e=>e.getCtrls("center"),Lw=e=>e.getCtrls("bottom"),KL={center:{type:"center",name:"center-cols",getRowCtrls:Ym,getSpannedRowCtrls:kw},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Ym,getSpannedRowCtrls:kw},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Ym,getSpannedRowCtrls:kw},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Ym},topCenter:{type:"center",name:"floating-top",getRowCtrls:jm,getSpannedRowCtrls:Aw},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:jm,getSpannedRowCtrls:Aw},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:jm,getSpannedRowCtrls:Aw},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:jm},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:$m},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:$m},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:$m},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:$m},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Km},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Km},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Km},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Km},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:qm,getSpannedRowCtrls:Lw},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:qm,getSpannedRowCtrls:Lw},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:qm,getSpannedRowCtrls:Lw},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:qm}};function ME(e){return`ag-${Ep(e).name}-viewport`}function aC(e){const t=Ep(e);return t.container??`ag-${t.name}-container`}function qL(e){return`ag-${Ep(e).name}-spanned-cells-container`}function Ep(e){return KL[e]}var YL=["topCenter","topLeft","topRight"],XL=["bottomCenter","bottomLeft","bottomRight"],ZL=["center","left","right"],QL=["center","left","right","fullWidth"],JL=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],eO=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],tO=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],DE=["stickyTopCenter","stickyTopLeft","stickyTopRight"],TE=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],iO=[...DE,"stickyTopFullWidth",...TE,"stickyBottomFullWidth"],sO=[...YL,...XL,...ZL,...DE,...TE],nO=class extends ye{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Ep(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new IL(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,s){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=s,this.createManagedBean(new $L(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:n,rangeSvc:r}=this.beans,c=()=>this.onPinnedWidthChanged();this.forContainers(eO,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:c})}),this.forContainers(tO,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:c})}),this.forContainers(QL,()=>this.createManagedBean(new EE(this.eContainer,this.name==="center"?s:void 0))),r&&this.forContainers(sO,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(JL,()=>this.createManagedBean(new Rb(h=>this.comp.setContainerWidth(`${h}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i,displayedColumnsWidthChanged:i,displayedRowsChanged:s=>this.onDisplayedRowsChanged(s.afterScroll)}),i(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const s=this.options.getSpannedRowCtrls(e);s&&this.comp.setSpannedRowCtrls(s,!1)}})}listenOnDomOrder(){if(iO.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),s=cs(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return rp(this.eViewport)}getCenterViewportScrollLeft(){return RC(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=ta(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return dR(this.eViewport)}getViewportScrollLeft(){return RC(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||nb(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){EC(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=cs(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||i,r=t.filter(c=>{const h=c.isFullWidth();return this.options.fullWidth?!n&&h:n||!h});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},oO="ag-force-vertical-scroll",rO="ag-selectable",aO="ag-column-moving",lO=class extends ye{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,s,n,r,c){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=r,this.eStickyBottom=c,this.eCenterColsViewport=i.querySelector(`.${ME("center")}`),this.eFullWidthContainer=i.querySelector(`.${aC("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${aC("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=c.querySelector(`.${aC("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",h=>this.setCellTextSelection(h.currentValue)),this.createManagedBean(new xb(this.comp)),this.scrollFeature=this.createManagedBean(new OL(i)),this.beans.rowDragSvc?.setupRowDrag(i,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,r,c]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(s),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),i=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:i,rowResizeEnded:i}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const i=t&&e.getScrollbarWidth()||0,s=iE()?16:0,n=`calc(100% + ${i+s}px)`;ia(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let i=this.gos.get("treeData");if(!i){const s=t.isPivotMode();i=(e?e.columns.length:0)>=(s?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:s}=i,n=fc(s,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:i=>{const{target:s,relatedTarget:n}=i,r=t.contains(n),c=fc(n,"ag-root",t);fc(s,"ag-root",t)||(!r||c)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(aO,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(rO,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,s=i===-1?-1:e+i;this.comp.setRowCount(s)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?oO:null,i=cs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&hR(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let i=t.sizesMeasured;const s=()=>{const n=i&&bd(this.gos)&&!e.stretching,r=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,n)};s(),this.addManagedEventListeners({heightScaleChanged:s}),this.addManagedPropertyListener("animateRows",s),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,s())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:i,eTop:s,eBottom:n,beans:{popupSvc:r,touchSvc:c}}=this,h=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:h}),c?.mockBodyContextMenu(this,h),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,r)});const p=this.onStickyWheel.bind(this);for(const b of[t,i,s,n])this.addManagedElementListeners(b,{wheel:p});const v=this.onHorizontalWheel.bind(this);for(const b of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(b).eContainer,{wheel:v});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&ap(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,i=e?.getPinnedTopTotalHeight(),s=e?.getPinnedBottomTotalHeight(),n=t.getPinnedRowBorderWidth(),r=t.getRowBorderWidth(),c=n-r,h=i?c+i:0,p=s?c+s:0;this.comp.setTopHeight(h),this.comp.setBottomHeight(p),this.comp.setTopInvisible(h<=0),this.comp.setBottomInvisible(p<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,s=e?.getPinnedBottomTotalHeight()??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,c=s+r;i.setStickyBottomBottom(`${c}px`)}};function cO(e,t){return Eb(e,t.target)?.getFocusedCellPosition()??null}function v0(e,t){const i=cs(e.gos,"normal"),s=t;let n,r;s.clientX!=null||s.clientY!=null?(n=s.clientX,r=s.clientY):(n=s.x,r=s.y);const{pageFirstPixel:c}=e.pageBounds.getCurrentPagePixelRange();if(r+=c,i){const h=e.ctrlsSvc.getScrollFeature(),p=h.getVScrollPosition(),v=h.getHScrollPosition();n+=v.left,r+=p.top}return{x:n,y:r}}var FE=class extends wi{constructor(e,t){super(),this.direction=t,this.eViewport=Xe,this.eContainer=Xe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",eE()||vc())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=iE(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),i=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ia(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;xA(this,()=>ea(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},uO={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},dO=class extends FE{constructor(){super(uO,"horizontal"),this.eLeftSpacer=Xe,this.eRightSpacer=Xe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Rb(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=s),ir(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(n+=s),ir(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=i?0:s===0&&t?16:s,c=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Kg(this.getGui(),r),Kg(this.eViewport,r),Kg(this.eContainer,r),r||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(c,100):c()}getScrollPosition(){return RC(this.eViewport,this.enableRtl)}setScrollPosition(e){ea(this.eViewport)||this.attemptSettingScrollPosition(e),EC(this.eViewport,e,this.enableRtl)}},hO={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},gO=class extends FE{constructor(){super(hO,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new EE(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,s=t&&e.getScrollbarWidth()||0,n=s===0&&i?16:s;this.toggleCss("ag-scrollbar-invisible",i),ir(this.getGui(),n),ir(this.eViewport,n),ir(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const i=e.getGridBodyCtrl().eBodyViewport,s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!ea(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},pO="ag-column-first",fO="ag-column-last";function PE(e,t,i,s){return gi(e)?[]:CO(e.headerClass,e,t,i,s)}function AE(e,t,i){e.toggleCss(pO,i.isColAtEdge(t,"first")),e.toggleCss(fO,i.isColAtEdge(t,"last"))}function mO(e,t,i,s){return tt(t,{colDef:e,column:i,columnGroup:s})}function CO(e,t,i,s,n){if(gi(e))return[];let r;if(typeof e=="function"){const c=mO(t,i,s,n);r=e(c)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}function vO(e,t,i){t.addManagedElementListeners(i,{keydown:s=>{if(!s.defaultPrevented&&s.key===he.TAB){const n=s.shiftKey;Nc(e,i,!1,n)||Id(e,n)&&s.preventDefault()}}})}function wO(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function wc(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function ov(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Id(e,t,i=!1){const s=e.ctrlsSvc.get("gridCtrl");return!i&&s.focusNextInnerContainer(t)?!0:((i||!t&&!s.isDetailGrid())&&s.forceFocusOutOfContainer(t),!1)}function tr(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Mb(e){const t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const s of i){if(!s)continue;const n=s.getGroupRowCount()||0;for(let r=0;r<n;r++){const c=s.getGroupRowCtrlAtIndex(r),h=t[r];if(c){const p=yO(e,c);(h==null||p>h)&&(t[r]=p)}}}return t}function yO(e,t){let s=e.colModel.isPivotMode()?SO(e):LE(e);const n=t.getHeaderCellCtrls();for(const r of n){const{column:c}=r,h=c.getAutoHeaderHeight();h!=null&&h>s&&c.isAutoHeaderHeight()&&(s=h)}return s}function Db(e){let i=e.colModel.isPivotMode()?bO(e):Mp(e);return e.colModel.forAllCols(s=>{const n=s.getAutoHeaderHeight();n!=null&&n>i&&s.isAutoHeaderHeight()&&(i=n)}),i}function Mp(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function kE(e){return e.gos.get("floatingFiltersHeight")??Mp(e)}function LE(e){return e.gos.get("groupHeaderHeight")??Mp(e)}function bO(e){return e.gos.get("pivotHeaderHeight")??Mp(e)}function SO(e){return e.gos.get("pivotGroupHeaderHeight")??LE(e)}var xO=class extends ye{setComp(e,t,i){this.comp=e,this.eGui=t;const{beans:s}=this,{headerNavigation:n,touchSvc:r,ctrlsSvc:c}=s;n&&this.createManagedBean(new _d(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,s),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,s)}),this.onPivotModeChanged(s),this.setupHeaderHeight();const h=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:h}),r?.mockHeaderContextMenu(this,h),c.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ia(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const i=Mb(e).reduce((r,c)=>r+c,0),s=Db(e);if(e.filterManager?.hasFloatingFilters()&&(t+=kE(e)),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const i=e.visibleCols.allCols.some(s=>s.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",i)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?"LEFT":"RIGHT",{beans:n}=this,{headerNavigation:r,focusSvc:c}=n;(r.navigateHorizontally(s,!0,e)||!i&&c.focusOverlay(!1)||Id(n,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:i}=this.beans;switch(e.key){case he.LEFT:t="LEFT";case he.RIGHT:{He(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case he.UP:t="UP";case he.DOWN:{He(t)||(t="DOWN"),i.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:i,beans:s}=this;!t&&i.contains(vi(s))||i.contains(t)||(s.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){const{menuSvc:s,ctrlsSvc:n}=this.beans;if(!e&&!i||!s?.isHeaderContextMenuEnabled())return;const{target:r}=e??t;(r===this.eGui||r===n.getHeaderRowContainerCtrl()?.eViewport)&&s.showHeaderContextMenu(void 0,e,i)}},Tb=class extends ye{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=s,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Ut(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),s=He(this.columnOrGroup.getOldLeft());t?.isActive()&&s&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:i,visibleCols:s}=this.beans;if(!cs(i,"print")||e.getPinned()==="left")return t;const r=s.getColsLeftWidth();if(e.getPinned()==="right"){const c=s.bodyWidth;return r+c+t}return r+t}setLeft(e){if(He(e)&&(this.eCell.style.left=`${e}px`),Fi(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&eA(this.ariaEl,t.length)}}},RO=0,OE="headerCtrl",Fb=class extends ye{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+RO++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,i,s,n){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,i,s,n),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,s=i.getDefinition(),n=s&&s.suppressHeaderKeyboardEvent;if(!He(n))return!1;const r=tt(this.gos,{colDef:s,column:i,headerRowIndex:t,event:e});return!!n(r)}getWrapperHasFocus(){return vi(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let i;if(typeof t=="function"){const s=this.getHeaderClassParams();i=t(s)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:i,compBean:s}=e,{beans:n}=this,r=R=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:F,paddingBottom:k,borderBottomWidth:O,borderTopWidth:V}=Oc(this.eGui),_=F+k+O+V,U=t.offsetHeight+_;if(R<5){const K=as(n),X=!K||!K.contains(t),Y=U==0;if(X||Y){ly(()=>r(R+1),"raf",n);return}}this.setColHeaderHeight(this.column,U)};let c=!1,h;const p=()=>{const R=this.column.isAutoHeaderHeight();R&&!c&&v(),!R&&c&&b()},v=()=>{c=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),r(0),h=ta(this.beans,t,()=>r(0))},b=()=>{c=!1,h&&h(),this.comp.toggleCss("ag-header-cell-auto-height",!1),h=void 0};p(),s.addDestroyFunc(()=>b()),s.addManagedListeners(this.column,{widthChanged:()=>c&&r(0)}),s.addManagedEventListeners({sortChanged:()=>{c&&window.setTimeout(()=>r(0))}}),i&&i(p)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:i,eGui:s}=this;!e||!t||!s||(AE(e,t,i.visibleCols),rR(s,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=wc(this.beans);this.eGui&&un(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=vi(this.beans),i=e.key===he.LEFT||e.key===he.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;const n=e.key===he.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(n)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:i}=this;let s=e.key===he.LEFT!==t.get("enableRtl");const n=i.getPinned(),r=t.get("enableRtl");return n&&r!==(n==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case he.PAGE_DOWN:case he.PAGE_UP:case he.PAGE_HOME:case he.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=OE,{eGui:i,gos:s}=this;Tc(s,i,t,this),e.addDestroyFunc(()=>Tc(s,i,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(t.focus(),this.lastFocusEvent=e||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const s=e??t,{menuSvc:n,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&s.preventDefault(),n?.isHeaderContextMenuEnabled(i)&&n.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},EO=class extends Fb{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,i,s,n){this.comp=e;const{rowCtrl:r,column:c,beans:h}=this,{colResize:p,context:v,colHover:b,rangeSvc:R}=h,F=Sp(this,v,n);this.setGui(t,F),this.updateState(),this.setupWidth(F),this.setupMovingCss(F),this.setupMenuClass(F),this.setupSortableClass(F),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:O=>this.setRefreshFunction("measuring",O),compBean:F}),this.addColumnHoverListener(F),this.setupFilterClass(F),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(F),this.setupSelectAll(F),this.setupUserComp(),this.refreshAria(),p?this.resizeFeature=F.createManagedBean(p.createResizeFeature(r.pinned,c,i,e,this)):Ci(i,!1),b?.createHoverFeature(F,[c],t),R?.createRangeHighlightFeature(F,c,e),F.createManagedBean(new Tb(c,t,h)),F.createManagedBean(new _d(t,{shouldStopEventPropagation:O=>this.shouldStopEventPropagation(O),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(F),F.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),F.addManagedListeners(c,{colDefChanged:()=>this.refresh()}),F.addManagedListeners(c,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const k=()=>this.checkDisplayName();F.addManagedEventListeners({columnValueChanged:k,columnRowGroupChanged:k,columnPivotChanged:k,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),F.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return tt(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return N1(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:i,gos:s}=this.beans;return tt(s,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!i&&(!this.openFilterEnabled||dn(this.gos)),showColumnMenu:(r,c)=>{e?.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:c})},showColumnMenuAfterMouseClick:(r,c)=>{e?.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:c})},showFilter:r=>{e?.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t?.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,c)=>{t?.setSortForColumn(this.column,r,!!c,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,c)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,c)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const i=t.createSelectAllFeature(this.column);i&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(i),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!i&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===he.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===he.ENTER&&this.onEnterKeyDown(e),e.key===he.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();w0(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),ak()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=PE(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{s.has(n)?s.delete(n):this.comp.toggleCss(n,!0)}),s.forEach(n=>this.comp.toggleCss(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this,n=Mb(this.beans),r=n.reduce((F,k)=>F+=k,0)===0;if(i.toggleCss("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.toggleCss("ag-header-span-height",!1),i.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:c,isSpanningTotal:h}=this.column.getColumnGroupPaddingInfo();i.toggleCss("ag-header-span-height",c>0);const p=Db(s);if(c===0){i.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${p}px`);return}i.toggleCss("ag-header-span-total",h);const v=(this.column.getFirstRealParent()?.getLevel()??-1)+1,b=n.length-v;let R=0;for(let F=0;F<b;F++)R+=n[n.length-1-F];e.style.setProperty("top",`${-R}px`),e.style.setProperty("height",`${p+R}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(WP(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!dn(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(vi(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return w0(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function w0(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var MO=0,Ow=class extends ye{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=MO++,this.comp=null,this.allCtrls=[];let s="ag-header-row-column";i==="group"?s="ag-header-row-group":i==="filter"&&(s="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${s}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=cs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=Sp(this,this.beans.context,t),i&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:s=>this.onVirtualColumnsChanged(s.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",s=>this.isEnsureDomOrder=s.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=cs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Mb(this.beans);for(let n=0;n<t.length;n++){if(n===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[n]};e+=t[n]}const i=Db(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:i};e+=i;const s=kE(this.beans);return{topOffset:e,rowHeight:s}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,this.ctrlsById,e);const i=s=>{const{focusSvc:n,visibleCols:r}=this.beans;return n.isHeaderWrapperFocused(s)?r.isVisible(s.column):!1};if(e)for(const[s,n]of e)i(n)?this.ctrlsById.set(s,n):this.destroyBean(n);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,i){if(e.isEmptyGroup())return;const s=e.getUniqueId();let n;if(i&&(n=i.get(s),i.delete(s)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new EO(e,this));break}t.set(s,n)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const i=this.allCtrls.find(n=>n.column==e);return i?i.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},DO=class extends ye{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:i,ctrlsSvc:s,colModel:n,colMoves:r}=this.beans;this.setupCenterWidth(),i?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const c=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:c,advancedFilterEnabledChanged:c});const h=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;s.register(h,this),n.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:i,visibleCols:s}=this.beans;let n=0;const r=t.getFocusHeaderToUseAfterRefresh(),c=()=>{const R=s.headerGroupRowCount;n=R;const F=this.groupsRowCtrls.length;if(F!==R){if(F>R){for(let k=R;k<F;k++)this.destroyBean(this.groupsRowCtrls[k]);this.groupsRowCtrls.length=R;return}for(let k=F;k<R;k++){const O=this.createBean(new Ow(k,this.pinned,"group"));this.groupsRowCtrls.push(O)}}},h=()=>{const R=n++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Ow(R,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==R&&this.columnsRowCtrl.setRowIndex(R)},p=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;const R=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){R();return}e||R();const F=n++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==F&&this.filtersRowCtrl.setRowIndex(F):this.filtersRowCtrl=this.createBean(new Ow(F,this.pinned,"filter"))},v=this.getAllCtrls();c(),h(),p();const b=this.getAllCtrls();this.comp.setCtrls(b),this.restoreFocusOnHeader(t,r),v.length!==b.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=i=>i?.getHeaderCellCtrls().find(s=>s.column===e);if(ol(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=t(this.groupsRowCtrls[i]);if(s)return s}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,i){const n=this.getAllCtrls()[e];return n?n.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const i=e?.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;const{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Rb(e=>this.comp.setCenterWidth(`${e}px`),!0))}},TO=class extends ye{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(b0(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,i)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){b0(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(dn(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&ol(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(vc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!dn(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!dn(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return dn(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,i,s){const{positionBy:n,onClosedCallback:r}=t,c=t.column;if(n==="button"){const{buttonElement:h}=t;e?.showMenuAfterButtonClick(c,h,i,r,s)}else if(n==="mouse"){const{mouseEvent:h}=t;e?.showMenuAfterMouseEvent(c,h,i,r,s)}else if(c){const h=this.beans,p=h.ctrlsSvc;p.getScrollFeature().ensureColumnVisible(c,"auto"),ia(h,()=>{const v=p.getHeaderRowContainerCtrl(c.getPinned())?.getHeaderCtrlForColumn(c);v&&e?.showMenuAfterButtonClick(c,v.getAnchorElementForMenu(s),i,r,s)})}}};function y0(e,t,i){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",i))}function b0(e){const{enterpriseMenuFactory:t,filterMenuFactory:i,gos:s}=e;return t&&dn(s)?t:i}var rv=class extends hb{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},IE=class extends wi{constructor(){super()}},FO={tag:"span",cls:"ag-overlay-loading-center"},PO=class extends IE{init(){const e=qr(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??FO),!e){const i=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=i,this.beans.ariaAnnounce.announceValue(i,"overlay")}}},AO={tag:"span",cls:"ag-overlay-no-rows-center"},kO=class extends IE{init(){const e=qr(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??AO),!e){const i=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=i,this.beans.ariaAnnounce.announceValue(i,"overlay")}}};function LO(e,t,i){const s=Bn(e,t,i);if(s){const{className:r}=s;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return s}const n=ks({tag:"span"});return n.appendChild(s),n}function Bn(e,t,i){let s=null;e==="smallDown"?Te(262):e==="smallLeft"?Te(263):e==="smallRight"&&Te(264);const n=i&&i.getColDef().icons;if(n&&(s=n[e]),t.gos&&!s){const r=t.gos.get("icons");r&&(s=r[e])}if(s){let r;if(typeof s=="function")r=s();else if(typeof s=="string")r=s;else{Te(38,{iconName:e});return}if(typeof r=="string")return sb(r);if(rb(r))return r;Te(133,{iconName:e});return}else{const r=t.registry.getIcon(e);return r||t.validation?.validateIcon(e),ks({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var OO=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",IO={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},HO=class extends wi{constructor(){super(),this.dragSource=null,this.eIcon=Xe,this.eLabel=Xe,this.eGhost=Xe,this.registerCSS(OO)}postConstruct(){const e=t=>LO(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(IO),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:i,eIcon:s,dragSource:n,dropIconMap:r,gos:c}=this;Zs(s);let h=null;e||(e=n?.getDefaultIconName?n.getDefaultIconName():"notAllowed"),h=r[e],i.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),s.classList.toggle("ag-shake-left-to-right",t),!(h===r.hide&&c.get("suppressDragLeaveHidesColumns"))&&h&&s.appendChild(h)}setLabel(e){this.eLabel.textContent=e}},NO=".ag-checkbox-cell{height:100%}",GO={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},BO=class extends wi{constructor(){super(GO,[fb]),this.eCheckbox=Xe,this.registerCSS(NO)}init(e){this.refresh(e);const{eCheckbox:t,beans:i}=this,s=t.getInputElement();s.setAttribute("tabindex","-1"),sR(s,"polite"),this.addManagedListeners(s,{click:n=>{if(Ac(n),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:n=>{Ac(n)}}),this.addManagedElementListeners(e.eGridCell,{keydown:n=>{if(n.key===he.SPACE&&!t.isDisabled()){e.eGridCell===vi(i)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;const{value:s,column:n,node:r}=e;if(r.group&&n)if(typeof s=="boolean")t=s;else{const R=n.getColId();R.startsWith(tv)?t=s==null||s===""?void 0:s==="true":r.aggData&&r.aggData[R]!==void 0||r.sourceRowIndex>=0?t=s??void 0:i=!1}else t=s??void 0;const{eCheckbox:c}=this;if(!i){c.setDisplayed(!1);return}c.setValue(t);const h=e.disabled??!n?.isCellEditable(r);c.setDisabled(h);const p=this.getLocaleTextFunc(),v=ev(p,t),b=h?v:`${p("ariaToggleCellValue","Press SPACE to toggle cell value")} (${v})`;c.setInputAriaLabel(b)}onCheckboxChanged(e){const{params:t}=this,{column:i,node:s,value:n}=t;this.beans?.editSvc?.setEditingCells([{column:i,colId:i.getColId(),rowIndex:s.rowIndex,rowPinned:s.rowPinned,state:"changed",oldValue:n,newValue:n}],{update:!0,forceRefreshOfEditCellsOnly:!0});const r=s.setDataValue(i,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:s,column:i},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),r||this.updateCheckbox(t)}},S0=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:i,order:s}=this;t.has(e)||(t.add(e),i.add(e),s.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),zn(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:i,queued:s}=this;e.clear(),s.clear(),t.clear(),i.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:i}=this.beans,s=e?.getSortOptions()??[],n=_O(this.order);if(this.order.sort((c,h)=>(c.pinnedSibling?.rowIndex??0)-(h.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,s)??this.order,!n)return;const r=FR(i);r==="bottom"||r==="pinnedBottom"?this.order.push(n):this.order.unshift(n)}hide(e){const{all:t,visible:i}=this;t.forEach(s=>e(s)?i.delete(s):i.add(s)),this.order=Array.from(i),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function HE(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(i=>i==e)?HE(t):!1}function Iw(e,t){const{gos:i,rowModel:s,filterManager:n}=e;return Ic(i)?!s.getRowNode(t.id):n?.isAnyFilterPresent()?!HE(t):i.get("pivotMode")?!t.group:!1}function VO(e){return!!e.footer&&e.level===-1}function zO(e){return!!e.pinnedSibling&&VO(e.pinnedSibling)}function _O(e){const t=e.findIndex(zO);if(t>-1)return e.splice(t,1)?.[0]}var x0=class extends ye{postConstruct(){const{gos:e,beans:t}=this;this.top=new S0(t,"top"),this.bottom=new S0(t,"bottom");const i=n=>Iw(t,n.pinnedSibling),s=()=>{const n=e.get("isRowPinned");n&&e.get("enableRowPinning")&&t.rowModel.forEachNode(r=>this.pinRow(r,n(r)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:n})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(c=>c.hide(i));const r=this.refreshRowPositions();(!n||r)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(UO),this.refreshRowPositions()},rowNodeDataChanged:({node:n})=>{(e.get("isRowPinnable")?.(n)??!0)||this.pinRow(n,null)},firstDataRendered:s}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(n=>n.hide(i)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:n})=>{this._grandTotalPinned=n==="pinnedBottom"?"bottom":n==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",s)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const i=[];t.forEach(s=>i.push(s)),i.forEach(s=>this.pinRow(s,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,i){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,$O(this.beans);return}const s=e.rowPinned??e.pinnedSibling?.rowPinned;if(s!=null&&t!=null&&t!=s){const c=e.rowPinned?e:e.pinnedSibling,h=e.rowPinned?e.pinnedSibling:e;this.pinRow(c,null,i),this.pinRow(h,t,i);return}const r=i&&jO(this.beans,e,i);if(r){r.forEach(c=>this.pinRow(c,t));return}if(t==null){const c=e.rowPinned?e:e.pinnedSibling,h=this.findPinnedRowNode(c);if(!h)return;h.delete(c);const p=c.pinnedSibling;Hw(c),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(p)}else{const c=R0(this.beans,e,t),h=this.getContainer(t);h.add(c),Iw(this.beans,e)&&h.hide(p=>Iw(this.beans,p.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const i=s=>{if(s.rowHeightEstimated){const n=sl(this.beans,s);s.setRowTop(t),s.setRowHeight(n.height),t+=n.height,e=!0}};return this.bottom.forEach(i),t=0,this.top.forEach(i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return E0(this.top)}getPinnedBottomTotalHeight(){return E0(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const i=[];return this.forEachPinnedRow(t,s=>i.push(s.pinnedSibling.id)),i};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,i)=>{for(const s of e[i]){const n=this.beans.rowModel.getRowNode(s);n?this.pinRow(n,i):t.queue(s)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const i=new Set;e.forEachQueued(s=>{const n=this.beans.rowModel.getRowNode(s);n&&i.add(n)});for(const s of i)e.unqueue(s.id),this.pinRow(s,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:i}=this,s=t.rowModel;if(!_i(e))return;const n=s.rootNode?.sibling;if(!n)return;const r=n.pinnedSibling,c=r&&this.findPinnedRowNode(r);if(i){if(c&&c.floating!==i&&(c.delete(r),Hw(r)),!c||c.floating!==i){const h=R0(t,n,i);this.getContainer(i).add(h)}}else{if(!c)return;c.delete(r),Hw(r)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(i=>i.setRowHeight(i.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=s=>WO(this.beans,s);if(e)return t(this.getContainer(e));let i=!1;return this.forContainers(s=>{const n=t(s);i||(i=n)}),i}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function WO(e,t){let i=0,s=!1;return t.forEach((n,r)=>{if(s||(s=n.rowTop!==i),n.setRowTop(i),n.rowHeightEstimated||n.rowHeight==null){const c=sl(e,n).height;s||(s=n.rowHeight!==c),n.setRowHeight(c)}n.setRowIndex(r),i+=n.rowHeight}),s}function R0(e,t,i){if(t.pinnedSibling)return t.pinnedSibling;const s=fL(t,e);s.setRowTop(null),s.setRowIndex(null),s.rowPinned=i;const n=i==="top"?yb:bb;return s.id=`${n}${i}-${t.id}`,s.pinnedSibling=t,t.pinnedSibling=s,s}function Hw(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function UO(e){const t=new Set;e.forEach(i=>{i.group&&t.add(i)}),t.forEach(i=>e.delete(i))}function jO(e,t,i){const{rowSpanSvc:s}=e,n=(i&&s?.isCellSpanning(i,t))??!1;if(i&&n)return s?.getCellSpan(i,t)?.spannedNodes}function E0(e){const t=e.size();if(t===0)return 0;const i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}function $O({gos:e,rowModel:t}){_i(e)&&t.refreshModel({step:"map"})}var M0=class extends ye{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};Ng(this.pinnedBottomRows,t),Ng(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const i=s=>{if(s.rowHeightEstimated){const n=sl(this.beans,s);s.setRowTop(t),s.setRowHeight(n.height),t+=n.height,e=!0}};return Ng(this.pinnedBottomRows,i),t=0,Ng(this.pinnedTopRows,i),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=this.getCache(t);if(e===void 0){i.order.length=0,i.cache={};return}const s=kd(this.gos),n=t==="top"?yb:bb,r=new Set(i.order),c=[],h=new Set;let p=0,v=-1;for(const b of e){const R=s?.({data:b,level:0,rowPinned:t})??n+this.nextId++;if(h.has(R)){Te(96,{id:R,data:b});continue}v++,h.add(R),c.push(R);const F=Yg(i,R);if(F!==void 0)F.data!==b&&F.updateData(b),p+=this.setRowTopAndRowIndex(F,p,v),r.delete(R);else{const k=new Pc(this.beans);k.id=R,k.data=b,k.rowPinned=t,p+=this.setRowTopAndRowIndex(k,p,v),i.cache[R]=k,i.order.push(R)}}r.forEach(b=>{Yg(i,b)?.clearRowTopAndRowIndex(),delete i.cache[b]}),i.order=c}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(sl(this.beans,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return D0(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return D0(this.pinnedBottomRows)}getPinnedTopRowCount(){return My(this.pinnedTopRows)}getPinnedBottomRowCount(){return My(this.pinnedBottomRows)}getPinnedTopRow(e){return Ey(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Ey(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Yg(this.getCache(t),e)}forEachPinnedRow(e,t){return Ng(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function D0(e){const t=My(e);if(t===0)return 0;const i=Ey(e,t-1);return i===void 0?0:i.rowTop+i.rowHeight}function Yg(e,t){return e.cache[t]}function Ey(e,t){return Yg(e,e.order[t])}function Ng(e,t){e.order.forEach((i,s)=>{const n=Yg(e,i);n&&t(n,s)})}function My(e){return e.order.length}var KO=class extends ye{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const i=e.get("enableRowPinning"),s=FR(e),r=!!i||(s==="pinnedBottom"||s==="pinnedTop"),c=r?this.inner instanceof M0:this.inner instanceof x0;this.inner&&c&&this.destroyBean(this.inner),(c||!this.inner)&&(this.inner=this.createManagedBean(r?new x0:new M0))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,i){return this.inner.pinRow(e,t,i)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},qO="ROOT_NODE_ID",YO=class extends ye{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=qO,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,i)=>this.createRowNode(t,i))??[]}setImmutableRowData(e,t){const i=kd(this.gos),s=!this.gos.get("suppressMaintainUnsortedOrder"),n=e.changedRowNodes,r=new Set,c=this.rootNode,h=c.allLeafChildren,p=h.length;let v=!1,b=!1,R=!1,F=!1;for(let O=0,V=-1,_=t.length;O<_;O++){const W=t[O];let U=this.getRowNode(i({data:W,level:0}));if(!U)v=!0,U=this.createRowNode(W,-1),n.add(U);else{if(s){const K=U.sourceRowIndex;F||(F=K<=V||v),V=K}U.data!==W&&(R=!0,U.updateData(W),n.update(U))}r.add(U)}const k=[];for(let O=0;O<p;O++){const V=h[O];r.has(V)||(b=!0,V.isSelected()&&k.push(V),V.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(V.pinnedSibling,null),this.rowNodeDeleted(V),n.remove(V))}if(v||b||F){const O=new Array(r.size);let V=0;if(!s)for(let W=0;W<p;++W){const U=h[W];r.delete(U)&&(U.sourceRowIndex=V,O[V++]=U)}for(const W of r)W.sourceRowIndex=V,O[V++]=W;c.allLeafChildren=O;const _=c.sibling;_&&(_.allLeafChildren=O),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=F)}(v||b||F||R)&&(this.deselectNodes(k),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,i=this.allNodesMap;i[t]===e&&delete i[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const i={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},s=[],n=kd(this.gos);return this.executeRemove(n,e,i,s),this.executeUpdate(n,e,i,s),this.executeAdd(e,i),this.deselectNodes(s),i}executeAdd(e,t){const i=e.add;if(!i?.length)return;let s=this.rootNode.allLeafChildren,n=s.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let R=0;R<s.length;R++)if(s[R]?.rowIndex==n-1){n=R+1;break}}const r=i.length,c=t.changedRowNodes,h=new Array(r);for(let b=0;b<r;b++){const R=this.createRowNode(i[b],n+b);c.add(R),h[b]=R}const p=this.rootNode;if(n<s.length){const b=s.slice(0,n),R=s.slice(n,s.length),F=b.length+h.length;for(let k=0,O=R.length;k<O;++k)R[k].sourceRowIndex=F+k;s=[...b,...h,...R],t.rowsInserted=!0}else s=s.concat(h);p.allLeafChildren=s;const v=p.sibling;v&&(v.allLeafChildren=s),t.rowNodeTransaction.add=h}executeRemove(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){const{remove:r}=t;if(!r?.length)return;const c={};r.forEach(v=>{const b=this.lookupRowNode(e,v);b&&(b.isSelected()&&n.push(b),b.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(b.pinnedSibling,null),b.clearRowTopAndRowIndex(),c[b.id]=!0,delete this.allNodesMap[b.id],s.remove.push(b),i.remove(b))});const h=this.rootNode;h.allLeafChildren=h.allLeafChildren?.filter(v=>!c[v.id])??null,h.allLeafChildren?.forEach((v,b)=>{v.sourceRowIndex=b});const p=h.sibling;p&&(p.allLeafChildren=h.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){const{update:r}=t;r?.length&&r.forEach(c=>{const h=this.lookupRowNode(e,c);h&&(h.updateData(c),!h.selectable&&h.isSelected()&&n.push(h),s.update.push(h),i.update(h))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",i=this.beans.selectionSvc,s=e.length>0;s&&i?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),i?.updateGroupsFromChildrenSelections?.(t),s&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:i?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const i=new Pc(this.beans);return i.parent=this.rootNode,i.level=0,i.group=!1,i.expanded=!1,i.sourceRowIndex=t,i.setDataAndId(e,String(this.nextId)),this.allNodesMap[i.id]&&Te(2,{nodeId:i.id}),this.allNodesMap[i.id]=i,this.nextId++,i}lookupRowNode(e,t){let i;if(e){const s=e({data:t,level:0});if(i=this.allNodesMap[s],!i)return jt(4,{id:s}),null}else if(i=this.rootNode?.allLeafChildren?.find(s=>s.data===t),!i)return jt(5,{data:t}),null;return i||null}};function Dp(e){return!!(e.rowPinned&&e.pinnedSibling)}function Hn(e,t,i,s){const n=t==="top";if(!i)return Hn(e,t,n?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),s);if(!s){const p=n?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Hn(e,t,i,n?e.getPinnedTopRow(p-1):e.getPinnedBottomRow(p-1))}let r=!1,c=!1;const h=[];return e.forEachPinnedRow(t,p=>{if(p===i&&!r){r=!0,h.push(p);return}if(r&&p===s){c=!0,h.push(p);return}r&&!c&&h.push(p)}),h}var XO={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},ZO=class extends wi{constructor(){super(XO,[fb]),this.eCheckbox=Xe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:i}=this,s=t.isSelected(),n=ev(e,s),[r,c]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],h=e(r,c);i.setValue(s,!0),i.setInputAriaLabel(`${h} (${n})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Ac,click:s=>{Ac(s),this.beans.selectionSvc?.handleSelectionEvent(s,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:n})=>{const r=typeof s=="object"?yw(s):void 0,c=typeof n=="object"?yw(n):void 0;r!==c&&this.onSelectableChanged()}),hy(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:i,gos:s}=this,n=t.selectable,r=this.getIsVisible();let c;if(typeof r=="function"){const R=i?.callbackParams;if(!e)c=r({...R,node:t,data:t.data});else{const F=e.createColumnFunctionCallbackParams(t);c=r({...R,...F})}}else c=r??!1;const h=n&&!c||!n&&c,p=n||c,v=s.get("rowSelection"),b=v&&typeof v!="string"?!yw(v):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(p&&(h?b:!0)),this.setDisplayed(p&&(h?b:!0)),p&&this.eCheckbox.setDisabled(h),i?.removeHidden){this.setDisplayed(p);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Sd(t):this.column?.getColDef()?.checkboxSelection}},QO=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:i,pinnedRowModel:s}=this;return t??(t=i.getRowNode(e)),s?.isManual()&&(t??(t=s.getPinnedRowById(e,"top")),t??(t=s.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.rootId,s=t.findIndex(n=>n.id===e.id);if(s>-1){const n=t.slice(0,s),r=t.slice(s+1);return this.setEndRange(e),i?{keep:n,discard:r}:{keep:r,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const n=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&n.push(r)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}const s=this.getNodesInRange(i,e);if(!s)return this.setRoot(e),{keep:[e],discard:[]};if(s.find(n=>n.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}getNodesInRange(e,t){const{pinnedRowModel:i,rowModel:s}=this;if(!i?.isManual())return s.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Hn(i,"top",e,void 0).concat(s.getNodesInRangeForSelection(s.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const n=Hn(i,"bottom",void 0,e),r=s.getRowCount(),c=s.getRow(r-1);return(s.getNodesInRangeForSelection(t,c)??[]).concat(n)}if(!e.rowPinned&&!t.rowPinned)return s.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Hn(i,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const n=Hn(i,"top",t,void 0),r=Hn(i,"bottom",void 0,e),c=s.getRow(0),h=s.getRow(s.getRowCount()-1);return n.concat(s.getNodesInRangeForSelection(c,h)??[]).concat(r)}if(!e.rowPinned&&t.rowPinned==="top")return Hn(i,"top",t,void 0).concat(s.getNodesInRangeForSelection(s.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const n=Hn(i,"top",e,void 0),r=Hn(i,"bottom",void 0,t),c=s.getRow(0),h=s.getRow(s.getRowCount()-1);return n.concat(s.getNodesInRangeForSelection(c,h)??[]).concat(r)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Hn(i,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const n=Hn(i,"bottom",void 0,t),r=s.getRow(s.getRowCount());return(s.getNodesInRangeForSelection(e,r)??[]).concat(n)}return null}},JO=class extends ye{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(vi(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new pb);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Mc(t.getGui(),"presentation"),this.showOrHideSelectAll();const i=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:i,paginationChanged:i,modelUpdated:i}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:n})=>{const r=c=>typeof c=="string"||!c||c.mode==="singleRow"?void 0:c.selectAll;r(s)!==r(n)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,i=this.cbSelectAll,s=t.getSelectAllState(e);i.setValue(s);const n=t.hasNodesToSelect(e);i.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:i,cbSelectAll:s,cbSelectAllVisible:n}=this,r=s.getValue(),c=ev(t,r),h=t("ariaRowSelectAll","Press Space to toggle all rows selection");i.setAriaDescriptionProperty("selectAll",n?`${h} (${c})`:null),s.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||i.announceAriaDescription()}checkSelectionType(e){return PC(this.gos)?!0:(Te(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:i}=this.beans;return _i(t)||Ic(t)?!0:(Te(129,{feature:e,rowModel:i.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let i="uiSelectAll";t==="currentPage"?i="uiSelectAllCurrentPage":t==="filtered"&&(i="uiSelectAllFiltered");const s={source:i,selectAll:t},n=this.beans.selectionSvc;e?n.selectAllRowNodes(s):n.deselectAllRowNodes(s)}isCheckboxSelection(){const{column:e,gos:t,beans:i}=this,r=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return NE(i,e)&&this.checkRightRowModelType(r)&&this.checkSelectionType(r)}getSelectAllMode(){const e=LR(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:i}=this.column.getColDef();return t?"currentPage":i?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function NE({gos:e,selectionColSvc:t},i){const s=e.get("rowSelection"),n=i.getColDef(),{headerCheckboxSelection:r}=n;let c=!1;if(typeof s=="object"){const p=ll(i),v=ub(i);(TC(s)==="autoGroupColumn"&&v||p&&t?.isSelectionColumnEnabled())&&(c=tC(s))}else typeof r=="function"?c=r(tt(e,{column:i,colDef:n})):c=!!r;return c}var eI=class extends ye{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new QO(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const i=hy(e);i!==this.isRowSelectable&&(this.isRowSelectable=i,this.updateSelectable())}),this.isRowSelectable=hy(e),this.addManagedEventListeners({cellValueChanged:i=>this.updateRowSelectable(i.node),rowNodeDataChanged:i=>this.updateRowSelectable(i.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new ZO}createSelectAllFeature(e){if(NE(this.beans,e))return new JO(e)}isMultiSelect(){return PC(this.gos)}onRowCtrlSelected(e,t,i){const s=!!e.rowNode.isSelected();e.forEachGui(i,n=>{n.rowComp.toggleCss("ag-row-selected",s);const r=n.element;aR(r,s),r.contains(vi(this.beans))&&t(n)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const s=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(s,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Dp(e)||!mc(this.gos)}updateRowSelectable(e,t){const i=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,i,t),i}setRowSelectable(e,t,i){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),i)return;if(lp(this.gos)){const n=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:n??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,i=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let s=0;s<e.childrenAfterGroup.length;s++){const n=e.childrenAfterGroup[s];let r=n.isSelected();if(!n.selectable){const c=this.calculateSelectedFromChildren(n);if(c===null)continue;r=c}switch(r){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:e.selectable?e.__selected:null}selectRowNode(e,t,i,s="api"){const n=!e.selectable&&t,r=e.__selected===t;if(n||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const c=e.sibling;c&&c.footer&&c.__localEventService&&c.dispatchRowEvent("rowSelected");const h=e.pinnedSibling;return h&&h.rowPinned&&h.__localEventService&&h.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...gL(e,this.gos,"rowSelected"),event:i||null,source:s}),!0}isCellCheckboxSelection(e,t){const i=this.gos.get("rowSelection");if(i&&typeof i!="string"){const s=ll(e)&&Sd(i);return e.isColumnFunc(t,s)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,i,s){const{gos:n,selectionCtx:r}=this,c=e.isSelected(),h=lp(n),p=GA(n),v=BA(n),b=this.isMultiSelect(),R=s==="rowClicked";if(R&&!(p||v))return null;if(t&&i&&b){const F=r.getRoot();if(F)if(F.isSelected()){const k=r.isInRange(e)?r.truncate(e):r.extend(e,h);return{deselect:k.discard,select:k.keep,reset:!1}}else{const k=r.extend(e,h);return{select:[],deselect:k.keep,reset:!1}}else return null}else if(t&&b){const F=r.selectAll?this.beans.rowModel.getRow(0):void 0,k=r.getRoot(F),O=r.isInRange(e)?r.truncate(e):r.extend(e,h);return{select:O.keep,deselect:O.discard,reset:r.selectAll||!!(k&&!k.isSelected())}}else if(i){if(R){const F=!c;return F&&!p||!F&&!v?null:(r.setRoot(e),{node:e,newValue:F,clearSelection:!1})}return r.setRoot(e),{node:e,newValue:!c,clearSelection:!b}}else{r.setRoot(e);const F=VA(n),k=AC(n)==="filteredDescendants",O=R&&(!F||!p);if(k&&c===void 0&&_i(n))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!b||O};if(R){const V=c?!F:p;return V===c&&!O||V&&!p||!V&&!v?null:{node:e,newValue:V,clearSelection:!b||O,keepDescendants:e.group&&h}}return{node:e,newValue:!c,clearSelection:!b||O}}}},Md={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},GE=class extends ye{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:c,focusInnerElement:h,onFocusIn:p,onFocusOut:v,shouldStopEventPropagation:b,onTabKeyDown:R,handleKeyDown:F,isEmpty:k,eFocusableElement:O}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=h,this.eFocusableElement=O,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!c,this.providedFocusIn=p,this.providedFocusOut=v,this.providedShouldStopEventPropagation=b,this.providedOnTabKeyDown=R,this.providedHandleKeyDown=F,this.providedIsEmpty=k}postConstruct(){this.createManagedBean(new _d(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Rd(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=as(this.beans),i=Rd(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let n,r;e?(n=0,r=s):(n=s+1,r=i.length);const c=i.slice(n,r),h=this.gos.get("tabIndex");c.sort((p,v)=>{const b=parseInt(p.getAttribute("tabindex")||"0"),R=parseInt(v.getAttribute("tabindex")||"0");return R===h?1:b===h?-1:b===0?1:R===0?-1:b-R}),c[e?c.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Rd(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Nc(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},tI=class extends ye{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],r={setTabIndex:_=>{n.forEach(W=>_!=null?W.setAttribute("tabindex",_):W.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:c=!1,onFocusIn:h,onFocusOut:p,focusInnerElement:v,handleKeyDown:b,onTabKeyDown:R,shouldStopEventPropagation:F,isEmpty:k,forceFocusOutWhenTabGuardsAreEmpty:O,isFocusableContainer:V}=e;this.tabGuardCtrl=this.createManagedBean(new GE({comp:r,focusTrapActive:c,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:h,onFocusOut:p,focusInnerElement:v,handleKeyDown:b,onTabKeyDown:R,shouldStopEventPropagation:F,isEmpty:k,forceFocusOutWhenTabGuardsAreEmpty:O,isFocusableContainer:V}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=as(this.beans).createElement("div"),i=e==="top"?Md.TAB_GUARD_TOP:Md.TAB_GUARD_BOTTOM;return t.classList.add(Md.TAB_GUARD,i),Mc(t,"presentation"),t}addTabGuards(e,t){const i=this.eFocusableElement;i.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Zs(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){rb(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;il(e),il(t),super.destroy()}},iI=class extends wi{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new tI(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,i)}},dc=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Ec,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",s,{passive:!0}),e.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",s,{passive:!0}),e.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!fR(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},sI=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<s.left+n,this.tickRight=e.clientX>s.right-n,this.tickUp=e.clientY<s.top+n&&!i,this.tickDown=e.clientY>s.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},BE=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${yR}/${this.frameworkName}-data-grid`,DA(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function nI(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var oI=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],T0=Object.fromEntries(oI.map((e,t)=>[e,t]));function rI(e,t){const i=(e.beanName?T0[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?T0[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function aI(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var lI=class extends ye{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:s,ctrlsSvc:n}=this.beans;s?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new xb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=ta(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),n.register("gridCtrl",this)}isDetailGrid(){return nE(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const i=e===1?"ew-resize":"ns-resize";t.setCursor(i)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){const{visibleCols:n,focusSvc:r}=this.beans,c=n.allCols,h=Ut(c);if(r.focusGridView({column:h,backwards:!0}))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),{focusSvc:s,visibleCols:n}=this.beans,r=n.allCols;if(e){if(i.length>1)return this.focusContainer(Ut(i),e);const c=Ut(r);if(s.focusGridView({column:c,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||wc(this.beans)){if(s.focusGridView({column:r[0],backwards:e}))return!0;for(let c=1;c<i.length;c++)if(Fc(i[c].getGui(),e))return!0;return!1}return s.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;const n=t[i];n.setAllowFocus?.(!0),setTimeout(()=>{n.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!ov(e)||!wc(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const i=vi(this.beans),s=e.findIndex(r=>r.getGui().contains(i)),n=s+(t?-1:1);return{indexWithFocus:s,nextIndex:n}}focusContainer(e,t){e.setAllowFocus?.(!0);const i=Fc(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},at=(e,t)=>{for(const i of Object.keys(t))t[i]=e;return t},F0={dispatchEvent:"CommunityCore",...at("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...at("GridState",{getState:0,setState:0}),...at("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...at("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...at("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...at("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...at("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...at("ValueCache",{expireValueCache:0}),...at("CellApi",{getCellValue:0}),...at("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...at("Sort",{onSortChanged:0}),...at("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...at("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...at("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...at("HighlightChanges",{flashCells:0}),...at("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...at("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...at("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...at("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...at("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...at("ColumnResize",{setColumnWidths:0}),...at("ColumnHover",{isColumnHovered:0}),...at("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...at("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...at("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...at("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...at("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...at("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...at("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...at("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...at("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...at("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...at("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...at("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...at("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...at("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...at("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...at("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...at("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...at("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...at("ContextMenu",{showContextMenu:0}),...at("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...at("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...at("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...at("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...at("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...at("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...at("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...at("StatusBar",{getStatusPanel:0})},Nw={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},cI=(e,t)=>e.eventSvc.dispatchEvent(t),VE=class{};Reflect.defineProperty(VE,"name",{value:"GridApi"});var uI=class extends ye{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new VE,this.fns={...Nw,dispatchEvent:cI},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(F0))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:i,beans:s}=this;i!==Nw&&(i[e]=s?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(!t)Te(26,{fnName:e,preDestroyLink:s});else{const n=F0[e];i.assertModuleRegistered(n,`api.${e}`)&&Te(27,{fnName:e,module:n})}}destroy(){super.destroy(),this.fns=Nw,this.beans=null}};function dI(e){return e.context.getId()}function hI(e){e.gridDestroySvc.destroy()}function gI(e){return e.gridDestroySvc.destroyCalled}function pI(e,t){return e.gos.get(t)}function fI(e,t,i){zE(e,{[t]:i})}function zE(e,t){e.gos.updateGridOptions({options:t})}function mI(e,t){const i=t.replace(/Module$/,"");return e.gos.isModuleRegistered(i)}var CI={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},vI=class extends wi{constructor(e,t,i){super(CI),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Bn("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:i,eCell:s,gos:n}=this,r=i.getColDef().dndSourceOnRowDrag,c=e.dataTransfer;if(c.setDragImage(s,0,0),r){const h=tt(n,{rowNode:t,dragEvent:e});r(h)}else try{const h=JSON.stringify(t.data);c.setData("application/json",h),c.setData("text/plain",h)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function wI(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function yI(e,t){const i=e.dragAndDrop?.findExternalZone(t.getContainer());i&&e.dragAndDrop?.removeDropTarget(i)}function bI(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function SI(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function xI(e,t){const i=e.rowDropHighlightSvc;if(!i)return;const s=t?.row;let n=t?.dropIndicatorPosition;n!=="above"&&n!=="below"&&n!=="inside"&&(n="none");const r=s?.rowIndex;r==null||n==="none"?i.clear():i.set(s,n)}var RI=class extends cL{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},EI=class extends ye{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},MI={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},DI=class extends wi{constructor(e,t,i,s,n,r=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=n,this.alwaysVisible=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(MI),this.getGui().appendChild(Bn("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,gos:t,rowNode:i}=this,s=this.refreshVisibility.bind(this);this.addManagedPropertyListener("suppressRowDrag",s),this.addManagedListeners(i,{dataChanged:s,cellChanged:s}),this.addManagedListeners(e.eventSvc,t.get("rowDragManaged")?{sortChanged:s,filterChanged:s,columnRowGroupChanged:s,newColumnsLoaded:s}:{newColumnsLoaded:s})}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const e={skipAriaHidden:!0};if(this.isNeverDisplayed()){this.setDisplayed(!1,e);return}const t=this.column;let i=typeof t?.getColDef().rowDrag=="function",s=!t||this.isCustomGui()||t.isRowDrag(this.rowNode);s&&this.rowNode.footer&&this.gos.get("rowDragManaged")&&(s=!1,i=!0),this.setDisplayed(i||s,e),this.setVisible(s,e)}isNeverDisplayed(){const{gos:e,beans:t}=this;return!!(e.get("suppressRowDrag")||e.get("rowDragManaged")&&t.rowDragSvc.rowDragFeature?.shouldPreventRowMove()&&!t.dragAndDrop?.hasExternalDropZones())}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const i=this.beans.selectionSvc?.getSelectedNodes()??[];return i.indexOf(e)!==-1?i:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:s=>{s?.preventDefault()}})[0]);const i=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:s=>{const n=s?.dragItem||this.getDragItem(),r=(s?.dropTarget?.rows.length??n.rowNodes?.length)||1,c=this.getRowDragText(this.column);return c?c(n,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}};function sa(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function av(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function TI(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}function FI(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${i??"null"}.${s.getId()}`}function _E(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}function PI(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(He(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function AI(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function kI(e){let t=0,i;const{pinnedRowModel:s,rowModel:n,pageBounds:r}=e;return s?.getPinnedTopRowCount()?i="top":n.getRowCount()?(i=null,t=r.getFirstRow()):s?.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function LI(e){let t,i=null;const{pinnedRowModel:s,pageBounds:n}=e,r=s?.getPinnedBottomRowCount(),c=s?.getPinnedTopRowCount();return r?(i="bottom",t=r-1):e.rowModel.getRowCount()?(i=null,t=n.getLastRow()):c&&(i="top",t=c-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function Jr(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function vd(e,t){const i=e.spannedRowRenderer?.getCellByPosition(t);if(i)return i;const s=e.rowRenderer.getRowByPosition(t);return s?s.getCellCtrl(t.column):null}function OI(e,t,i){const{rowModel:s,pinnedRowModel:n}=e;let r;return r??(r=s?.getRowNode(t)),i?r??(r=n?.getPinnedRowById(t,i)):(r??(r=n?.getPinnedRowById(t,"top")),r??(r=n?.getPinnedRowById(t,"bottom"))),r}function VC(e,t,i=!1){const{rowIndex:s,rowPinned:n}=t,{pageBounds:r,pinnedRowModel:c,rowModel:h}=e;if(s===0)return n==="top"?null:n==="bottom"&&h.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:c?.isRowsToRender("top")?{rowIndex:c.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(i){const p=n?void 0:h.getRow(s);return WE(e,p,!0)??{rowIndex:s-1,rowPinned:n}}return{rowIndex:s-1,rowPinned:n}}function P0(e,t,i=!1){const{rowIndex:s,rowPinned:n}=t,{pageBounds:r,pinnedRowModel:c,rowModel:h}=e;if(II(e,t))return n==="bottom"?null:n==="top"&&h.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:c?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(i){const p=n?void 0:h.getRow(s);return WE(e,p)??{rowIndex:s+1,rowPinned:n}}return{rowIndex:s+1,rowPinned:n}}function WE(e,t,i=!1){const{gos:s,rowRenderer:n}=e;if(!t?.sticky||!TR(s))return;const r=n.getStickyTopRowCtrls(),c=n.getStickyBottomRowCtrls(),h=!c.some(R=>R.rowNode.rowIndex===t.rowIndex),p=h?r:c,v=(i?-1:1)*(h?-1:1);let b;for(let R=0;R<p.length;R++)if(p[R].rowNode.rowIndex===t.rowIndex){b=p[R+v];break}return b?{rowIndex:b.rowNode.rowIndex,rowPinned:null}:void 0}function II(e,t){const{rowPinned:i,rowIndex:s}=t,{pinnedRowModel:n,pageBounds:r}=e;return i==="top"?(n?.getPinnedTopRowCount()??0)-1<=s:i==="bottom"?(n?.getPinnedBottomRowCount()??0)-1<=s:r.getLastRow()<=s}var dp=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:i,children:s}=e;if(s)for(let n=0;n<s.length;++n)this.depthFirstSearchChangedPath(s[n],t);t(i)}depthFirstSearchEverything(e,t,i){const s=e.childrenAfterGroup;if(s)for(let n=0,r=s.length;n<r;++n){const c=s[n];c.childrenAfterGroup?this.depthFirstSearchEverything(c,t,i):i&&t(c)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const n=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(n),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>i[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(n=>!i[n.getId()])}},HI=class{constructor(e,t){this.beans=e,this.groupThrottled=!1,this.oldVScroll=null,this.groupTimer=null,this.groupTarget=null,this.onGroupThrottle=()=>{this.groupTimer=null,this.groupThrottled=!0,this.beans.dragAndDrop?.nudge()};const i=()=>t.scrollFeature.getVScrollPosition().top;this.autoScroll=new sI({scrollContainer:t.eBodyViewport,scrollAxis:"y",getVerticalPosition:i,setVerticalPosition:s=>t.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{const s=i(),n=this.oldVScroll;this.oldVScroll=s,n!==null&&n!==s&&this.beans.dragAndDrop?.nudge()}})}updateGroup(e,t){this.groupTarget&&this.groupTarget!==e&&this.clearGroup(),e&&(t&&this.groupThrottled&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,void 0,!0),e.expanded&&e.childrenAfterSort?.length&&(this.groupThrottled=!0,this.groupTarget=e))}startGroup(e){this.groupTarget=e,this.groupTimer===null&&(this.groupTimer=window.setTimeout(this.onGroupThrottle,this.beans.gos.get("rowDragInsertDelay")))}clearGroup(){this.groupThrottled=!1,this.groupTarget=null;const e=this.groupTimer;e!==null&&(this.groupTimer=null,window.clearTimeout(e))}clear(){this.clearGroup(),this.autoScroll.ensureCleared(),this.oldVScroll=null}},NI=class extends ye{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.nudger=null}postConstruct(){const e=this.beans;this.clientSideRowModel=sa(e),e.ctrlsSvc.whenReady(this,t=>{this.nudger=new HI(e,t.gridBodyCtrl)})}destroy(){super.destroy(),this.nudger?.clear(),this.nudger=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:i}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||i?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=this.beans.selectionSvc?.getSelectedNodes();if(i&&i.indexOf(t)>=0)return i.slice().sort(VI)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:i,beans:s}=this;if(t){const c=this.getRowNodes(e);e.dragItem.rowNodes=c,L0(c,!0)}this.lastDraggingEvent=e;const n=e.fromNudge,r=this.makeRowsDrop(i,e,n,!1);s.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e),!n&&r?.rowDragManaged&&r.moved&&r.allowed&&r.sameGrid&&!r.suppressMoveWhenRowDragging&&this.dropRows(r),this.nudger?.autoScroll.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,i,s){const{beans:n,gos:r,clientSideRowModel:c}=this,h=this.newRowsDrop(t,s);if(t.dropTarget=h,t.changed=!1,!h)return null;let{sameGrid:p,rootNode:v,source:b,target:R,rows:F}=h;R??(R=c.getRow(c.getRowCount()-1)??null);const O=OR(r)!=="group"&&p;let V=null;if(R?.footer){const X=lC(c,-1,R)??lC(c,1,R);V=R.sibling??v,R=X??null}R?.detail&&(R=R.parent),h.moved&&(h.moved=b!==R);let _=.5;if(R&&(p&&h.moved&&(V||!O)?_=b.rowIndex>R.rowIndex?-.5:.5:_=(h.y-R.rowTop-R.rowHeight/2)/R.rowHeight||0),!O&&p&&R&&h.moved){const X=zI(c,h);X&&(_=b.rowIndex>X.rowIndex?-.5:.5,R=X,h.moved&&(h.moved=b!==R))}const W=this.nudger;W?.updateGroup(R,i),O&&!V&&W&&(!R||_>=.5&&R.rowIndex===n.pageBounds.getLastRow()?V=v:h.moved&&this.targetShouldBeParent(R,_,F)&&(W.groupThrottled&&(V=R),!i&&(!V||R&&!R.expanded&&R.childrenAfterSort?.length)&&W.startGroup(R)),V??(V=R?.parent??v));let U=!1;if(V){if(V===R&&V!==v){const X=V.expanded?lC(c,1,R):null;X?.parent===V?(R=X,_=-.5):U=!0}if(R&&!U){let X=R;for(;X&&X!==v&&X!==V;)R=X,X=X.parent}}h.target=R,h.newParent=V,h.moved&&(h.moved=b!==R);const K=_<0?"above":"below";return h.position=h.moved?U?"inside":K:"none",this.validateRowsDrop(h,O,K,s),t.changed||(t.changed=BI(e?.dropTarget,h)),h}newRowsDrop(e,t){const{beans:i,gos:s,clientSideRowModel:n}=this,r=n.rootNode,c=s.get("rowDragManaged"),h=s.get("suppressMoveWhenRowDragging"),p=this.isFromThisGrid(e);let{rowNode:v,rowNodes:b}=e.dragItem;if(b||(b=v?[v]:[]),v||(v=b[0]),!v||!r)return null;const R=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let F=!0;c&&(!b.length||this.shouldPreventRowMove()||(h||!p)&&!R)&&(F=!1);const k=v0(i,e).y,O=this.getOverNode(k);return{api:i.gridApi,context:i.gridOptions.context,draggingEvent:e,rowDragManaged:c,suppressMoveWhenRowDragging:h,sameGrid:p,withinGrid:R,rootNode:r,moved:v!==O,y:k,overNode:O,overIndex:O?.rowIndex??-1,position:"none",source:v,target:O??null,newParent:null,rows:b,allowed:F,highlight:!t&&c&&h&&(R||!p)}}validateRowsDrop(e,t,i,s){const{rowDragManaged:n,suppressMoveWhenRowDragging:r}=e;t||(e.newParent=null),r&&!e.moved&&(e.allowed=!1);const c=(!n||e.allowed)&&this.gos.get("isRowValidDropPosition");if(c){t&&e.newParent&&A0(e.rows,e.newParent)&&(e.newParent=null);const h=c(e);if(!h)e.allowed=!1;else if(typeof h=="object"){h.rows!==void 0&&(e.rows=h.rows??[]),t&&h.newParent!==void 0&&(e.newParent=h.newParent),h.target!==void 0&&(e.target=h.target),h.position&&(e.position=h.position),h.allowed!==void 0?e.allowed=h.allowed:n||(e.allowed=!0);const p=e.draggingEvent;h.changed&&p&&(p.changed=!0),!s&&h.highlight!==void 0&&(e.highlight=h.highlight)}}n&&(e.rows=this.filterRows(e)),t&&e.newParent&&A0(e.rows,e.newParent)&&(e.newParent=null),r&&(!e.rows.length||e.position==="none")&&(e.allowed=!1),(!e.allowed||!e.newParent)&&e.position==="inside"&&(e.position=i)}targetShouldBeParent(e,t,i){const s=e.rowIndex,n=.25;if(t<-.5+n)return!1;if(t<.5-n)return!0;let r,c=s+1;const h=this.clientSideRowModel;do r=h.getRow(c++);while(r&&r.footer);const p=e.childrenAfterGroup;if(r&&r.parent===e&&p?.length){const v=new Set(i);for(const b of p)if(b.rowIndex!==null&&!v.has(b))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){Te(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){Te(56);return}const i=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(n=>e.onDragEnter(this.rowDragEvent("rowDragEnter",n))),onDragLeave:e.onDragLeave&&(n=>e.onDragLeave(this.rowDragEvent("rowDragLeave",n))),onDragging:e.onDragging&&(n=>e.onDragging(this.rowDragEvent("rowDragMove",n))),onDragStop:e.onDragStop&&(n=>e.onDragStop(this.rowDragEvent("rowDragEnd",n))),onDragCancel:e.onDragCancel&&(n=>e.onDragCancel(this.rowDragEvent("rowDragCancel",n)))},s={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...i};t.addDropTarget(s),this.addDestroyFunc(()=>t.removeDropTarget(s))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:i=>{this.onDragEnter(i),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",i))},onDragLeave:i=>{this.onDragLeave(i),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",i))},onDragging:i=>{this.onDragging(i),e?.onDragging?.(this.rowDragEvent("rowDragMove",i))},onDragStop:i=>{this.onDragStop(i),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",i))},onDragCancel:i=>{this.onDragCancel(i),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",i))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:i}=this.beans,n=e>t.getCurrentPagePixelRange().pageLastPixel?-1:i.getRowIndexAtPixel(e);return n>=0?i.getRow(n):void 0}rowDragEvent(e,t){const i=this.beans,{dragItem:s,dropTarget:n,event:r,vDirection:c}=t,h=n?.rootNode===this.clientSideRowModel.rootNode,p=h?n.y:v0(i,t).y,v=h?n.overNode:this.getOverNode(p),b=h?n.overIndex:v?.rowIndex??-1;return{api:i.gridApi,context:i.gridOptions.context,type:e,event:r,node:s.rowNode,nodes:s.rowNodes,overIndex:b,overNode:v,y:p,vDirection:c,rowsDrop:n}}dispatchGridEvent(e,t){const i=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e)}onDragStop(e){const t=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),t?.allowed&&t.rowDragManaged&&(t.suppressMoveWhenRowDragging||!t.sameGrid)&&this.dropRows(t),this.stopDragging(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e)}stopDragging(e){this.nudger?.clear(),this.beans.rowDropHighlightSvc?.fromDrag(null),L0(e.dragItem.rowNodes,!1)}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:i}){const s=kd(this.gos),n=this.clientSideRowModel,r=i.filter(({data:h,rowPinned:p})=>!n.getRowNode(s?.({data:h,level:0,rowPinned:p})??h.id)).map(({data:h})=>h);if(r.length===0)return!1;const c=t?k0(t)+(e==="above"?0:1):void 0;return n.updateRowData({add:r,addIndex:c}),!0}filterRows({newParent:e,rows:t}){const i=this.clientSideRowModel;let s;for(let n=0,r=t.length;n<r;++n){let c=!0;const h=t[n];!h||h.footer||h.rowTop===null&&h!==i.getRowNode(h.id)||e&&h.parent!==e&&GI(h,e)?c=!1:Dy(h)||(c=!1),c?s?.push(h):s??(s=t.slice(0,n))}return s??t}moveRows({position:e,target:t,rows:i,newParent:s,rootNode:n}){let r=!1;const c=new Set;for(const b of i){s&&b.parent!==s&&(b.treeParent=s,r=!0);const R=Dy(b);R&&c.add(R)}if(!r&&c.size===0)return!1;const h=this.beans.focusSvc,p=h.getFocusedCell(),v=p&&vd(this.beans,p);return c.size&&this.reorderLeafChildren(c,...this.getMoveRowsBounds(c,t,e==="above"))&&(r=!0),r?(this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new dp(!1,n),rowNodesOrderChanged:!0}),v?v.focusCell():h.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,i){const s=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let n=k0(t);n<0||n>=s?n=s:i||++n;let r=n,c=Math.min(n,s-1);for(const h of e){const p=h.sourceRowIndex;p<r&&(r=p),p>c&&(c=p)}return[r,n,c]}reorderLeafChildren(e,t,i,s){let n=!1;const r=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!r)return!1;let c=t;for(let p=t;p<i;++p){const v=r[p];e.has(v)||(v.sourceRowIndex!==c&&(v.sourceRowIndex=c,r[c]=v,n=!0),++c)}let h=s;for(let p=s;p>=i;--p){const v=r[p];e.has(v)||(v.sourceRowIndex!==h&&(v.sourceRowIndex=h,r[h]=v,n=!0),--h)}for(const p of e)p.sourceRowIndex!==c&&(p.sourceRowIndex=c,r[c]=p,n=!0),++c;return n}},lC=(e,t,i)=>{if(i){const s=e.getRowCount();let n=i.rowIndex+t;for(;n>=0&&n<s;){const r=e.getRow(n);if(!r||!r.footer&&!r.detail)return r;n+=t}}},GI=(e,t)=>{let i=t;for(;i;){if(i===e)return!0;i=i.parent}return!1},A0=(e,t)=>{for(let i=0,s=e.length;i<s;++i)if(e[i].parent!==t)return!1;return!0},k0=e=>{const t=Dy(e);return t!==void 0?t.sourceRowIndex:-1},Dy=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},BI=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!al(e.rows,t.rows)),VI=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,L0=(e,t)=>{for(let i=0,s=e?.length||0;i<s;++i){const n=e[i];n.dragging!==t&&(n.dragging=t,n.dispatchRowEvent("draggingChanged"))}},zI=(e,t)=>{let i=null,s=t.target;if(s&&t.rows.indexOf(s)<0)return null;const n=t.source;if(!s||!n)return null;let r=s.rowIndex-n.rowIndex;const c=r<0?-1:1;r=t.suppressMoveWhenRowDragging?Math.abs(r):1;const h=new Set(t.rows);do{const p=lC(e,c,s);if(!p)break;h.has(p)||(i=p,--r),s=p}while(r>0);return i},_I=class extends ye{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const i=t.createManagedBean(new NI(e)),s=this.beans.dragAndDrop;s.addDropTarget(i),t.addDestroyFunc(()=>s.removeDropTarget(i)),this.rowDragFeature=i}createRowDragComp(e,t,i,s,n,r){return new DI(e,t,i,s,n,r)}createRowDragCompForRow(e,t){if(nl(this.gos))return;const i=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${i("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,i,s,n,r){const c=this.gos;return c.get("rowDragManaged")&&(!_i(c)||c.get("pagination"))?void 0:this.createRowDragComp(i,e,t,s,n,r)}},WI=class extends ye{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const i=e!==this.row,s=e.uiLevel,n=t!==this.position,r=s!==this.uiLevel;this.dragging=!1,(i||n||r)&&(i&&this.clear(),this.uiLevel=s,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:i,target:s,position:n}=t;if(i&&s&&n!=="none"){this.set(s,n),this.dragging=!0;return}}this.dragging&&this.clear()}},UE={moduleName:"Drag",version:Ne,beans:[RI]},UI={moduleName:"DragAndDrop",version:Ne,dynamicBeans:{dndSourceComp:vI},icons:{rowDrag:"grip"}},jE={moduleName:"SharedDragAndDrop",version:Ne,beans:[dL],dependsOn:[UE],userComponents:{agDragAndDropImage:HO},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},jI={moduleName:"RowDrag",version:Ne,beans:[WI,_I],apiFunctions:{addRowDropZone:wI,removeRowDropZone:yI,getRowDropZoneParams:bI,getRowDropPositionIndicator:SI,setRowDropPositionIndicator:xI},dependsOn:[jE]},$I={moduleName:"HorizontalResize",version:Ne,beans:[EI],dependsOn:[UE]},KI=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",qI=class extends ye{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:i,executeLaterFuncs:s}=this;if(i.length===0&&s.length===0){e(),t();return}const n=r=>{for(;r.length;){const c=r.pop();c&&c()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),n(i)},0),window.setTimeout(()=>{t(),n(s)},200)})}};function YI(e,t,i){e.colMoves?.moveColumnByIndex(t,i,"api")}function XI(e,t,i){e.colMoves?.moveColumns(t,i,"api")}var ZI=class extends ye{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:s}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&i?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&s?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function QI(e,t){!t||t.length<=1||t.filter(s=>e.indexOf(s)<0).length>0||t.sort((s,n)=>{const r=e.indexOf(s),c=e.indexOf(n);return r-c})}function JI(e){const t=[...e];return e.forEach(i=>{let s=null,n=i.getParent();for(;n!=null&&n.getDisplayedLeafColumns().length===1;)s=n,n=n.getParent();s!=null&&(!!s.getColGroupDef()?.marryChildren?s.getProvidedColumnGroup().getLeafColumns():s.getLeafColumns()).forEach(h=>{t.includes(h)||t.push(h)})}),t}function eH(e,t,i,s){const n=s.allCols;let r=null,c=null;for(let h=0;h<e.length;h++){const p=e[h],v=i.getProposedColumnOrder(t,p);if(!i.doesOrderPassRules(v))continue;const b=v.filter(F=>n.includes(F));if(c===null)c=b;else if(!al(b,c))break;const R=iH(v);(r===null||R<r.fragCount)&&(r={move:p,fragCount:R})}return r}function $E(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:n,fakeEvent:r,pinned:c,gos:h,colModel:p,colMoves:v,visibleCols:b}=e;let{allMovingColumns:R}=e;t&&(R=JI(R));const F=R.slice();QI(p.getCols(),F);const k=nH({movingCols:F,draggingRight:i,xPosition:s,pinned:c,gos:h,colModel:p,visibleCols:b}),O=tH(F,p);if(k.length===0)return;const V=k[0];if(O!==null&&(t||!n)&&!r&&(!i&&V>=O||i&&V<=O))return;const W=eH(k,F,v,b);if(!W)return;const U=W.move;if(!(U>p.getCols().length-F.length))return{columns:F,toIndex:U}}function KE(e){const{columns:t,toIndex:i}=$E(e)||{},{finished:s,colMoves:n}=e;return!t||i==null?null:(n.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function tH(e,t){const i=t.getCols(),s=e.map(p=>i.indexOf(p)).sort((p,v)=>p-v),n=s[0];return Ut(s)-n!==s.length-1?null:n}function iH(e){function t(s){const n=[];let r=s.getOriginalParent();for(;r!=null;)n.push(r),r=r.getOriginalParent();return n}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),r=t(e[s+1]);[n,r]=n.length>r.length?[n,r]:[r,n],n.forEach(c=>{r.indexOf(c)===-1&&i++})}return i}function sH(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function nH(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:r,colModel:c,visibleCols:h}=e;if(r.get("suppressMovableColumns")||t.some(K=>K.getColDef().suppressMovable))return[];const v=sH(h,n),b=c.getCols(),R=v.filter(K=>t.includes(K)),F=v.filter(K=>!t.includes(K)),k=b.filter(K=>!t.includes(K));let O=0,V=s;if(i){let K=0;R.forEach(X=>K+=X.getActualWidth()),V-=K}if(V>0){for(let K=0;K<F.length;K++){const X=F[K];if(V-=X.getActualWidth(),V<0)break;O++}i&&O++}let _;if(O>0){const K=F[O-1];_=k.indexOf(K)+1}else _=k.indexOf(F[0]),_===-1&&(_=0);const W=[_],U=(K,X)=>K-X;if(i){let K=_+1;const X=b.length-1;for(;K<=X;)W.push(K),K++;W.sort(U)}else{let K=_;const X=b.length-1;let Y=b[K];for(;K<=X&&v.indexOf(Y)<0;)K++,W.push(K),Y=b[K];K=_-1;const de=0;for(;K>=de;)W.push(K),K--;W.sort(U).reverse()}return W}function Ty(e){const{pinned:t,fromKeyboard:i,gos:s,ctrlsSvc:n,useHeaderRow:r,skipScrollPadding:c}=e;let h=n.getHeaderRowContainerCtrl(t)?.eViewport,{x:p}=e;return h?(i&&(p-=h.getBoundingClientRect().left),s.get("enableRtl")&&(r&&(h=h.querySelector(".ag-header-row")),p=h.clientWidth-p),t==null&&!c&&(p+=n.get("center").getCenterViewportScrollLeft()),p):0}function Gw(e,t){for(const i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var O0=7,Fy=100,Xm=Fy/2,oH=5,rH=100,aH=class extends ye{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!He(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:i}=t||{},s=i?.columns??[];for(const n of s){const r=n.getPinned();if(n.getColDef().lockPinned){if(r==e)return"move";continue}const c=i?.containerType;if(c===e||!e)return"move";if(e&&(!r||c!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const n=t.visibleState,r=(i||[]).filter(c=>n[c.getId()]&&!c.isVisible());this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){const{gos:n,ctrlsSvc:r}=this.beans,c=n.get("suppressMoveWhenColumnDragging");if(s&&!c){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&gi(e.hDirection))return;const h=Ty({x:e.x,pinned:this.pinned,gos:n,ctrlsSvc:r});t||this.checkCenterForScrolling(h),c?this.handleColumnDragWhileSuppressingMovement(e,t,i,h,s):this.handleColumnDragWhileAllowingMovement(e,t,i,h,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e?.length)return;const s=e.filter(n=>!n.getColDef().lockVisible);s.length&&this.beans.colModel.setColsVisible(s,t,i)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e,!0);if(n){const c=this.isAttemptingToPin(r);c&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:h,xPosition:p}=this.getNormalisedXPositionInfo(r,c)||{};if(h==null||p==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:p,fromEnter:t,fakeEvent:i,fromLeft:h})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,n){const r=this.getAllMovingColumns(e),c=this.normaliseDirection(e.hDirection)==="right",h=e.dragSource.type===1,p=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:h,xPosition:s,fromLeft:c,fromEnter:t,fakeEvent:i}),v=KE({...p,finished:n});v&&(this.lastMovedInfo=v)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const n=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return s?s.filter(n):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:n,fromEnter:r,fakeEvent:c}=e,{gos:h,colModel:p,colMoves:v,visibleCols:b}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:n,xPosition:s,pinned:this.pinned,fromEnter:r,fakeEvent:c,gos:h,colModel:p,colMoves:v,visibleCols:b}}highlightHoveredColumn(e,t){const{gos:i,colModel:s}=this.beans,n=i.get("enableRtl"),r=s.getCols().filter(b=>b.isVisible()&&b.getPinned()===this.pinned);let c=null,h=null,p=null;for(const b of r){if(h=b.getActualWidth(),c=this.getNormalisedColumnLeft(b,0,n),c!=null){const R=c+h;if(c<=t&&R>=t){p=b;break}}c=null,h=null}if(p)e.indexOf(p)!==-1&&(p=null);else{for(let b=r.length-1;b>=0;b--){const R=r[b],F=r[b].getParent();if(!F){p=R;break}const k=F?.getDisplayedLeafColumns();if(k.length){p=Ut(k);break}}if(!p)return;c=this.getNormalisedColumnLeft(p,0,n),h=p.getActualWidth()}if(this.lastHighlightedColumn?.column!==p&&this.clearHighlighted(),p==null||c==null||h==null)return;let v;t-c<h/2!==n?v=0:v=1,I0(p,v),this.lastHighlightedColumn={column:p,position:v}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleCols:s}=this.beans,n=i.get("enableRtl"),{firstMovingCol:r,column:c,position:h}=this.getColumnMoveAndTargetInfo(e,t,n);if(!r||!c||h==null)return;const p=s.allCols,v=p.indexOf(r),b=p.indexOf(c),R=h===0!==n,F=v<b||v===b&&!R;let k=0;if(R?F&&(k-=1):F||(k+=1),b+k===v)return;const O=p[b+k];if(!O)return;const V=this.getNormalisedColumnLeft(O,20,n);return{fromLeft:F,xPosition:V}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:r}=lH(e);if(!n||!r||s.column||!t)return{firstMovingCol:n,...s};const h=this.getPinDirection()==="left";return{firstMovingCol:n,position:h?1:0,column:h!==i?n:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsSvc:n}=this.beans,r=e.getLeft();if(r==null)return null;const c=e.getActualWidth();return Ty({x:i?r+c-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsSvc:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>O0;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:n,fromLeft:r}=e,c=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:n}),{columns:h,toIndex:p}=$E(c)||{};h&&p!=null&&(this.lastMovedInfo={columns:h,toIndex:p}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(I0(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();let n,r;this.gos.get("enableRtl")?(n=e<i+Xm,r=e>s-Xm):(r=e<i+Xm,n=e>s-Xm),this.needToMoveRight=n,this.needToMoveLeft=r,r||n?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),rH),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*oH,e>Fy&&(e=Fy);let t=null;const i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:s,dragAndDrop:n,gos:r}=this.beans;if(this.failedMoveAttempts<=O0+1||!s)return;if(n.setDragImageCompIcon("pinned"),!r.get("suppressMoveWhenColumnDragging")){const c=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(c,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const s=(e||[]).filter(c=>!c.getColDef().lockPinned);if(!s.length)return 0;i&&(t=this.getPinDirection());const{pinnedCols:n,dragAndDrop:r}=this.beans;return n?.setColsPinned(s,t,"uiColumnDragged"),i&&r.nudge(),s.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function I0(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function lH(e){const t=e.length;let i,s;for(let n=0;n<t;n++){if(!i){const r=e[n];r.getLeft()!=null&&(i=r)}if(!s){const r=e[t-1-n];r.getLeft()!=null&&(s=r)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}var cH=class extends ye{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,s=>{let n;const r=s.gridBodyCtrl.eBodyViewport;switch(i){case"left":n=[[r,s.left.eContainer],[s.bottomLeft.eContainer],[s.topLeft.eContainer]];break;case"right":n=[[r,s.right.eContainer],[s.bottomRight.eContainer],[s.topRight.eContainer]];break;default:n=[[r,s.center.eViewport],[s.bottomCenter.eViewport],[s.topCenter.eViewport]];break}this.eSecondaryContainers=n}),this.moveColumnFeature=this.createManagedBean(new aH(i)),this.bodyDropPivotTarget=this.createManagedBean(new ZI(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},uH=class extends ye{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){const s=this.beans.colModel.getCols();if(!s)return;const n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i,s=!0){const{colModel:n,colAnimation:r,visibleCols:c,eventSvc:h}=this.beans,p=n.getCols();if(!p)return;if(t>p.length-e.length){Te(30,{toIndex:t});return}r?.start();const v=n.getColsForKeys(e);this.doesMovePassRules(v,t)&&(e0(n.getCols(),v,t),c.refresh(i),h.dispatchEvent({type:"columnMoved",columns:v,column:v.length===1?v[0]:null,toIndex:t,finished:s,source:i})),r?.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){const{colModel:t,gos:i}=this.beans;return!(!WR(e,t.getColTree())||!(n=>{const r=v=>v?v==="left"||v===!0?-1:1:0,c=i.get("enableRtl");let h=c?1:-1,p=!0;return n.forEach(v=>{const b=r(v.getColDef().lockPosition);c?b>h&&(p=!1):b<h&&(p=!1),h=b}),p})(e))}getProposedColumnOrder(e,t){const s=this.beans.colModel.getCols().slice();return e0(s,e,t),s}createBodyDropTarget(e,t){return new cH(e,t)}moveHeader(e,t,i,s,n){const{ctrlsSvc:r,gos:c,colModel:h,visibleCols:p,focusSvc:v}=this.beans,b=t.getBoundingClientRect(),R=b.left,F=Fi(i),k=F?b.width:i.getActualWidth(),O=e==="left"!==c.get("enableRtl"),V=Ty({x:O?R-20:R+k+20,pinned:s,fromKeyboard:!0,gos:c,ctrlsSvc:r}),_=v.focusedHeader;KE({allMovingColumns:F?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:V,pinned:s,fromEnter:!1,fakeEvent:!1,gos:c,colModel:h,colMoves:this,visibleCols:p,finished:!0});let W;if(F){const U=i.getDisplayedLeafColumns();W=O?U[0]:Ut(U)}else W=i;if(r.getScrollFeature().ensureColumnVisible(W,"auto"),(!n.isAlive()||c.get("ensureDomOrder"))&&_){let U;if(F){const K=i.getGroupId(),X=i.getLeafColumns();if(!X.length)return;const Y=X[0].getParent();if(!Y)return;U=dH(Y,K)}else U=i;U&&v.focusHeaderPosition({headerPosition:{..._,column:U}})}}setDragSourceForHeader(e,t,i){const{gos:s,colModel:n,dragAndDrop:r,visibleCols:c}=this.beans;let h=!s.get("suppressDragLeaveHidesColumns");const p=Fi(t),v=p?t.getProvidedColumnGroup().getLeafColumns():[t],R={type:1,eElement:e,getDefaultIconName:()=>h?"hide":"notAllowed",getDragItem:p?()=>gH(t,c.allCols):()=>hH(t),dragItemName:i,onDragStarted:()=>{h=!s.get("suppressDragLeaveHidesColumns"),Gw(v,!0)},onDragStopped:()=>Gw(v,!1),onDragCancelled:()=>Gw(v,!1),onGridEnter:F=>{if(h){const{columns:k=[],visibleState:O}=F??{},V=p?W=>!O||O[W.getColId()]:()=>!0,_=k.filter(W=>!W.getColDef().lockVisible&&V(W));n.setColsVisible(_,!0,"uiColumnMoved")}},onGridExit:F=>{if(h){const k=F?.columns?.filter(O=>!O.getColDef().lockVisible)||[];n.setColsVisible(k,!1,"uiColumnMoved")}}};return r.addDragSource(R,!0),R}};function dH(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function hH(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function gH(e,t){const i=e.getProvidedColumnGroup().getLeafColumns(),s={};i.forEach(h=>s[h.getId()]=h.isVisible());const n=[];t.forEach(h=>{i.indexOf(h)>=0&&(n.push(h),zn(i,h))}),i.forEach(h=>n.push(h));const r=[],c=e.getLeafColumns();for(const h of n)c.indexOf(h)!==-1&&r.push(h);return{columns:n,columnsInSplit:r,visibleState:s,containerType:r[0]?.pinned}}var pH={moduleName:"ColumnMove",version:Ne,beans:[uH,qI],apiFunctions:{moveColumnByIndex:YI,moveColumns:XI},dependsOn:[jE],css:[KI]},fH=class extends ye{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||s.push(i),this.getPreferredWidthForElements(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const i=document.createElement("form");i.style.position="fixed";const s=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,i)),s.appendChild(i);const n=i.offsetWidth;return s.removeChild(i),t=t??this.gos.get("autoSizePadding"),n+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some(h=>i.classList.contains(h))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let c=e.parentElement;for(;c;){if(["ag-header-row","ag-row"].some(p=>c.classList.contains(p))){for(let p=0;p<c.classList.length;p++){const v=c.classList[p];v!="ag-row-position-absolute"&&n.add(v)}break}c=c.parentElement}s.appendChild(i),t.appendChild(s)}},qE={moduleName:"AutoWidth",version:Ne,beans:[fH]};function mH(e,t,i=!0,s="api"){e.colResize?.setColumnWidths(t,!1,i,s)}var CH=class extends ye{constructor(e,t,i,s){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,s=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(s),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:r,groupAfterRatios:c}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=c,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){const t=p=>p.reduce((v,b)=>v+b.getActualWidth(),0),i=(p,v)=>p.map(b=>b.getActualWidth()/v),s=this.getColumnsToResize(),n=t(s),r=i(s,n),c={columnsToResize:s,resizeStartWidth:n,resizeRatios:r};let h=null;if(e&&(h=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),h){const p=h.getDisplayedLeafColumns(),v=c.groupAfterColumns=p.filter(R=>R.isResizable()),b=c.groupAfterStartWidth=t(v);c.groupAfterRatios=i(v,b)}else c.groupAfterColumns=void 0,c.groupAfterStartWidth=void 0,c.groupAfterRatios=void 0;return c}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){const{columnsToResize:n,resizeStartWidth:r,resizeRatios:c,groupAfterColumns:h,groupAfterStartWidth:p,groupAfterRatios:v}=e,b=[];if(b.push({columns:n,ratios:c,width:t}),h){const R=t-r;b.push({columns:h,ratios:v,width:p-R})}this.beans.colResize?.resizeColumnSets({resizeSets:b,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},vH=class extends ye{constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){const e=[];let t,i;const s=()=>{if(Ci(this.eResize,t),!t)return;const{horizontalResizeSvc:c,colAutosize:h}=this.beans,p=c.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(p),i&&h&&e.push(h.addColumnAutosize(this.eResize,this.column))},n=()=>{e.forEach(c=>c()),e.length=0},r=()=>{const c=this.column.isResizable(),h=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(c!==t||h!==i)&&(t=c,i=h,n(),s())};r(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:n,beans:r}=this,c=this.normaliseResizeAmount(t),h=n+c,p=[{key:i,newWidth:h}],{pinnedCols:v,ctrlsSvc:b,colResize:R}=r;if(this.column.getPinned()){const F=v?.leftWidth??0,k=v?.rightWidth??0,O=rp(b.getGridBodyCtrl().eBodyViewport)-50;if(F+k+(c-s)>O)return}this.lastResizeAmount=c,R?.setColumnWidths(p,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},wH=class extends ye{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,s){const n=[],{colModel:r,gos:c,visibleCols:h}=this.beans;e.forEach(p=>{const v=r.getColDefCol(p.key)||r.getCol(p.key);if(!v)return;if(n.push({width:p.newWidth,ratios:[1],columns:[v]}),c.get("colResizeDefault")==="shift"&&(t=!t),t){const R=h.getColAfter(v);if(!R)return;const F=v.getActualWidth()-p.newWidth,k=R.getActualWidth()+F;n.push({width:k,ratios:[1],columns:[R]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(b=>yH(b)))){if(i){const b=t&&t.length>0?t[0].columns:null;Ld(this.eventSvc,b,i,s)}return}const r=[],c=[];t.forEach(b=>{const{width:R,columns:F,ratios:k}=b,O={},V={};F.forEach(U=>c.push(U));let _=!0,W=0;for(;_;){if(W++,W>1e3){jt(31);break}_=!1;const U=[];let K=0,X=R;F.forEach((de,re)=>{if(V[de.getId()])X-=O[de.getId()];else{U.push(de);const Fe=k[re];K+=Fe}});const Y=1/K;U.forEach((de,re)=>{const ie=re===U.length-1;let Fe;ie?Fe=X:(Fe=Math.round(k[re]*R*Y),X-=Fe);const Pe=de.getMinWidth(),me=de.getMaxWidth();Fe<Pe?(Fe=Pe,V[de.getId()]=!0,_=!0):me>0&&Fe>me&&(Fe=me,V[de.getId()]=!0,_=!0),O[de.getId()]=Fe})}F.forEach(U=>{const K=O[U.getId()];U.getActualWidth()!==K&&(U.setActualWidth(K,s),r.push(U))})});const h=r.length>0;let p=[];if(h){const{colFlex:b,visibleCols:R,colViewport:F}=this.beans;p=b?.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0})??[],R.setLeftValues(s),R.updateBodyWidths(),F.checkViewportColumns()}const v=c.concat(p);(h||i)&&Ld(this.eventSvc,v,i,s,p)}resizeHeader(e,t,i){if(!e.isResizable())return;const s=e.getActualWidth(),n=e.getMinWidth(),r=e.getMaxWidth(),c=Math.min(Math.max(s+t,n),r);this.setColumnWidths([{key:e,newWidth:c}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,s,n){return new vH(e,t,i,s,n)}createGroupResizeFeature(e,t,i,s){return new CH(e,t,i,s)}};function yH(e){const{columns:t,width:i}=e;let s=0,n=0,r=!0;t.forEach(p=>{const v=p.getMinWidth();s+=v||0;const b=p.getMaxWidth();b>0?n+=b:r=!1});const c=i>=s,h=!r||i<=n;return c&&h}var bH={moduleName:"ColumnResize",version:Ne,beans:[wH],apiFunctions:{setColumnWidths:mH},dependsOn:[$I,qE]},SH=class extends ye{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},xH=class extends Fb{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,i,s,n){const{column:r,beans:c}=this,{context:h,colNames:p,colHover:v,rangeSvc:b,colResize:R}=c;this.comp=e,n=Sp(this,h,n),this.setGui(t,n),this.displayName=p.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(),this.setupAutoHeight({wrapperElement:s,compBean:n}),this.setupUserComp(),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const F=this.rowCtrl.pinned,k=r.getProvidedColumnGroup().getLeafColumns();v?.createHoverFeature(n,k,t),b?.createRangeHighlightFeature(n,r,e),n.createManagedBean(new Tb(r,t,c)),n.createManagedBean(new SH(e,r)),R?this.resizeFeature=n.createManagedBean(R.createGroupResizeFeature(e,i,F,r)):e.setResizableDisplayed(!1),n.createManagedBean(new _d(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,k),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.getDefinition();return tt(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=Ut(t)===e;if(!i&&!s)return;const n=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(p=>p.column.isMoving());let c=!1,h=!1;if(r){const p=this.beans.gos.get("enableRtl"),v=n===1,b=n===0;i&&(p?h=v:c=b),s&&(p?c=b:h=v)}this.comp.toggleCss("ag-header-highlight-before",c),this.comp.toggleCss("ag-header-highlight-after",h)}resizeHeader(e,t){const{resizeFeature:i}=this;if(!i)return;const s=i.getInitialValues(t);i.resizeColumns(s,s.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:i,enterpriseMenuFactory:s}=this.beans,n=this.column,r=n.getProvidedColumnGroup(),c=tt(i,{displayName:this.displayName,columnGroup:n,setExpanded:p=>{e.setColumnGroupOpened(r,p,"gridInitializing")},setTooltip:(p,v)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(p,v)},showColumnMenu:(p,v)=>s?.showMenuAfterButtonClick(r,p,"columnMenu",v),showColumnMenuAfterMouseClick:(p,v)=>s?.showMenuAfterMouseEvent(r,p,"columnMenu",v),eGridHeader:this.eGui}),h=B1(t,c);h&&this.comp.setUserCompDetails(h)}addHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),i=PE(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(s=>this.comp.toggleCss(s,!0))}setupMovingCss(e){const{column:t}=this,s=t.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());s.forEach(r=>{e.addManagedListeners(r,{movingChanged:n})}),n()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===he.ENTER){const i=this.column,s=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function RH(e,t,i){e.colGroupSvc?.setColumnGroupOpened(t,i,"api")}function EH(e,t,i){return e.colGroupSvc?.getColumnGroup(t,i)??null}function MH(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function DH(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function TH(e){return e.colGroupSvc?.getColumnGroupState()??[]}function FH(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function PH(e){e.colGroupSvc?.resetColumnGroupState("api")}function AH(e){return e.visibleCols.treeLeft}function kH(e){return e.visibleCols.treeCenter}function LH(e){return e.visibleCols.treeRight}function OH(e){return e.visibleCols.getAllTrees()}function IH(e,t){for(let i=0;i<t.length;i++){const s=e.indexOf(t[i]);s>=0&&(e[s]=e[e.length-1],e.pop())}}var HH=class extends ye{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:i,colModel:s,colGroupSvc:n,colViewport:r,selectionColSvc:c}=this.beans;t||this.buildTrees(s,n),n?.updateOpenClosedVisibility(),this.leftCols=Bw(this.treeLeft),this.centerCols=Bw(this.treeCenter),this.rightCols=Bw(this.treeRight),c?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(s),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(h=>h.isAutoHeight()),i?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(s,this.leftCols,this.rightCols,e),r.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let i=t.getParent();for(;i;){if(!i.isPadding()){const s=i.getProvidedColumnGroup().getLevel()+1;s>e&&(e=s);break}i=i.getParent()}}return e}updateBodyWidths(){const e=Wr(this.centerCols),t=Wr(this.leftCols),i=Wr(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,s){let n,r;this.gos.get("enableRtl")?(n=t?t[0]:null,r=i?Ut(i):null):(n=t?Ut(t):null,r=i?i[0]:null),e.getCols().forEach(c=>{c.setLastLeftPinned(c===n,s),c.setFirstRightPinned(c===r,s)})}buildTrees(e,t){const i=e.getColsToShow(),s=i.filter(p=>p.getPinned()=="left"),n=i.filter(p=>p.getPinned()=="right"),r=i.filter(p=>p.getPinned()!="left"&&p.getPinned()!="right"),c=new qR,h=p=>t?t.createColumnGroups(p):p.columns;this.treeLeft=h({columns:s,idCreator:c,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=h({columns:n,idCreator:c,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=h({columns:r,idCreator:c,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),i=[],s=[],n=[];for(const r of t){const c=r.getPinned();c?c===!0||c==="left"?i.push(r):n.push(r):s.push(r)}this.ariaOrderColumns=i.concat(s).concat(n)}getAriaColIndex(e){let t;return Fi(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Fi(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const s=t.getCols().slice(0),n=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(n){let c=Wr(r);r.forEach(h=>{c-=h.getActualWidth(),h.setLeft(c,e)})}else{let c=0;r.forEach(h=>{h.setLeft(c,e),c+=h.getActualWidth()})}IH(s,r)}),s.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,s){const n=[];let r=null;for(let c=0;c<t.length;c++){const h=t[c],p=t.length-c,v=Math.min(h.getColSpan(e),p),b=[h];if(v>1){const F=v-1;for(let k=1;k<=F;k++)b.push(t[c+k]);c+=F}let R;i?(R=!1,b.forEach(F=>{i(F)&&(R=!0)})):R=!0,R&&(n.length===0&&r&&(s&&s(h))&&n.push(r),n.push(h)),r=h}return n}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};yc(this.treeCenter,!1,e),yc(this.treeLeft,!1,e),yc(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]];if(s.length)return e?Ut(s):s[0]}return null}getColAfter(e){const t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return Wr(this.leftCols)}getDisplayedColumnsRightWidth(){return Wr(this.rightCols)}isColAtEdge(e,t){const i=this.allCols;if(!i.length)return!1;const s=t==="first";let n;if(Fi(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;n=s?r[0]:Ut(r)}else n=e;return(s?i[0]:Ut(i))===n}};function yc(e,t,i){if(e)for(let s=0;s<e.length;s++){const n=e[s];if(Fi(n)){const r=t?n.getDisplayedChildren():n.getChildren();yc(r,t,i)}i(n)}}function Bw(e){const t=[];return yc(e,!0,i=>{ol(i)&&t.push(i)}),t}var NH=class extends ye{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Yr(null,t,i=>{vs(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const i=[];Yr(null,t,s=>{if(vs(s)){const n=s.getColGroupDef(),r={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){const{colModel:i,colAnimation:s,visibleCols:n,eventSvc:r}=this.beans;if(!i.getColTree().length)return;s?.start();const h=[];e.forEach(p=>{const v=p.groupId,b=p.open,R=this.getProvidedColGroup(v);R&&R.isExpanded()!==b&&(R.setExpanded(b),h.push(R))}),n.refresh(t,!0),h.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:h.length===1?h[0]:void 0,columnGroups:h}),s?.finish()}setColumnGroupOpened(e,t,i){let s;vs(e)?s=e.getId():s=e||"",this.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return Yr(null,this.beans.colModel.getColTree(),i=>{vs(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n=t==="After"?Ut(s):s[0],r=`getCol${t}`;for(;;){const c=this.beans.visibleCols[r](n);if(!c)return null;const h=this.getColGroupAtLevel(c,i);if(h!==e)return h}}getColGroupAtLevel(e,t){let i=e.getParent(),s,n;for(;s=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(s+n<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();yc(e,!1,t=>{Fi(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Fi(e))return e;const i=this.beans.visibleCols.getAllTrees(),s=typeof t=="number";let n=null;return yc(i,!1,r=>{if(Fi(r)){const c=r;let h;s?h=e===c.getGroupId()&&t===c.getPartId():h=e===c.getGroupId(),h&&(n=c)}}),n}createColumnGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:r}=e,c=this.mapOldGroupsById(n),h=[];let p=t;for(;p.length;){const v=p;p=[];let b=0;const R=F=>{const k=b;b=F;const O=v[k],_=(Fi(O)?O.getProvidedColumnGroup():O).getOriginalParent();if(_==null){for(let U=k;U<F;U++)h.push(v[U]);return}const W=this.createColumnGroup(_,i,c,s,r);for(let U=k;U<F;U++)W.addChild(v[U]);p.push(W)};for(let F=1;F<v.length;F++){const k=v[F],V=(Fi(k)?k.getProvidedColumnGroup():k).getOriginalParent(),_=v[b],U=(Fi(_)?_.getProvidedColumnGroup():_).getOriginalParent();V!==U&&R(F)}b<v.length&&R(v.length)}return r||this.setupParentsIntoCols(h,null),h}createProvidedColumnGroup(e,t,i,s,n,r,c){const h=n.getUniqueKey(t.groupId||null,null),p=QS(this.beans,t,h),v=new sC(p,h,!1,i);this.createBean(v);const b=this.findExistingGroup(t,r);b&&r.splice(b.idx,1);const R=b?.group;R&&v.setExpanded(R.isExpanded());const F=VR(this.beans,p.children,i+1,e,s,n,r,c);return v.setChildren(F),v}balanceColumnTree(e,t,i,s){const n=[];for(let r=0;r<e.length;r++){const c=e[r];if(vs(c)){const h=c,p=this.balanceColumnTree(h.getChildren(),t+1,i,s);h.setChildren(p),n.push(h)}else{let h,p;for(let v=t;v<i;v++){const b=s.getUniqueKey(null,null),R=QS(this.beans,null,b),F=new sC(R,b,!0,v);this.createBean(F),p&&p.setChildren([F]),p=F,h||(h=p)}if(h&&p)if(n.push(h),e.some(b=>vs(b))){p.setChildren([c]);continue}else{p.setChildren(e);break}n.push(c)}}return n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&vs(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let s=0;s<e.length;s++){const n=e[s];if(vs(n)){const r=n,c=this.findMaxDepth(r.getChildren(),t+1);i<c&&(i=c)}}return i}balanceTreeForAutoCols(e,t){const i=[];return e.forEach(s=>{let n=s;for(let r=t-1;r>=0;r--){const c=new sC(null,`FAKE_PATH_${s.getId()}}_${r}`,!0,r);this.createBean(c),c.setChildren([n]),n.originalParent=c,n=c}t===0&&(s.originalParent=null),i.push(n)}),i}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){const n=t[s];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:s,group:n}}}createColumnGroup(e,t,i,s,n){const r=e.getGroupId(),c=t.getInstanceIdForKey(r),h=mE(r,c);let p=i[h];return p&&p.getProvidedColumnGroup()!==e&&(p=null),He(p)?p.reset():(p=new up(e,r,c,s),n||this.createBean(p)),p}mapOldGroupsById(e){const t={},i=s=>{s.forEach(n=>{if(Fi(n)){const r=n;t[n.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),i.parent=t,Fi(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}},GH={moduleName:"ColumnGroup",version:Ne,dynamicBeans:{headerGroupCellCtrl:xH},beans:[NH],apiFunctions:{getAllDisplayedColumnGroups:OH,getCenterDisplayedColumnGroups:kH,getColumnGroup:EH,getColumnGroupState:TH,getDisplayNameForColumnGroup:DH,getLeftDisplayedColumnGroups:AH,getProvidedColumnGroup:MH,getRightDisplayedColumnGroups:LH,resetColumnGroupState:PH,setColumnGroupOpened:RH,setColumnGroupState:FH}},BH={tag:"div",cls:"ag-skeleton-container"},VH=class extends wi{constructor(){super(BH)}init(t){const i=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",i),this.addDestroyFunc(()=>np(t.eParentOfValue)),np(t.eParentOfValue,i),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const i=t("ariaSkeletonCellLoadingFailed","Row failed to load");Ad(this.getGui(),i)}setupLoading(t){const i=ks({tag:"div",cls:"ag-skeleton-effect"}),s=t.node.rowIndex;if(s!=null){const c=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${c}%`}this.getGui().appendChild(i);const n=this.getLocaleTextFunc(),r=t.deferRender?n("ariaDeferSkeletonCellLoading","Cell is loading"):n("ariaSkeletonCellLoading","Row data is loading");Ad(this.getGui(),r)}refresh(t){return!1}},zH={moduleName:"CheckboxCellRenderer",version:Ne,userComponents:{agCheckboxCellRenderer:BO}},_H={moduleName:"SkeletonCellRenderer",version:Ne,userComponents:{agSkeletonCellRenderer:VH}};function WH(e,t){const i=e.colModel.getColDefCol(t);return i?i.getColDef():null}function UH(e){return e.colModel.getColumnDefs()}function jH(e,t,i){return e.colNames.getDisplayNameForColumn(t,i)||""}function $H(e,t){return e.colModel.getColDefCol(t)}function KH(e){return e.colModel.getColDefCols()}function qH(e,t){return go(e,t,"api")}function YH(e){return OC(e)}function XH(e){u1(e,"api")}function ZH(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function QH(e){return e.visibleCols.isPinningLeft()}function JH(e){return e.visibleCols.isPinningRight()}function eN(e,t){return e.visibleCols.getColAfter(t)}function tN(e,t){return e.visibleCols.getColBefore(t)}function iN(e,t,i){e.colModel.setColsVisible(t,i,"api")}function sN(e,t,i){e.pinnedCols?.setColsPinned(t,i,"api")}function nN(e){return e.colModel.getCols()}function oN(e){return e.visibleCols.leftCols}function rN(e){return e.visibleCols.centerCols}function aN(e){return e.visibleCols.rightCols}function lN(e){return e.visibleCols.allCols}function cN(e){return e.colViewport.getViewportColumns()}function Py(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach(n=>{if(t&&t.indexOf(n)>=0||CR.has(n))return;const r=i[n];typeof r=="object"&&r!==null&&r.constructor===Object?s[n]=Py(r):s[n]=r}),s}var uN=class extends ye{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,i,s){const n=e.slice();t?n.sort((h,p)=>i.indexOf(h)-i.indexOf(p)):i&&n.sort((h,p)=>s.indexOf(h)-s.indexOf(p));const r=this.rowGroupColsSvc?.columns,c=this.pivotColsSvc?.columns;return this.buildColumnDefs(n,r,c)}buildColumnDefs(e,t=[],i=[]){const s=[],n={};return e.forEach(r=>{const c=this.createDefFromColumn(r,t,i);let h=!0,p=c,v=r.getOriginalParent(),b=null;for(;v;){let R=null;if(v.isPadding()){v=v.getOriginalParent();continue}const F=n[v.getGroupId()];if(F){F.children.push(p),h=!1;break}if(R=this.createDefFromGroup(v),R&&(R.children=[p],n[R.groupId]=R,p=R,v=v.getOriginalParent()),v!=null&&b===v){h=!1;break}b=v}h&&s.push(p)}),s}createDefFromGroup(e){const t=Py(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=Py(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=e.isVisible()?void 0:!0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,s}},dN=class extends ye{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const i=this.flexViewportWidth,{visibleCols:s,colDelayRenderSvc:n}=this.beans,r=s.centerCols;let c=-1;if(e.resizingCols){const V=new Set(e.resizingCols);for(let _=r.length-1;_>=0;_--)if(V.has(r[_])){c=_;break}}let h=!1;const p=r.map((V,_)=>{const W=V.getFlex(),U=W!=null&&W>0&&_>c;return h||(h=U),{col:V,isFlex:U,flex:Math.max(0,W??0),initialSize:V.getActualWidth(),min:V.getMinWidth(),max:V.getMaxWidth(),targetSize:0}});if(h&&n?.hideColumns("colFlex"),!i||!h)return[];let v=p.length,b=p.reduce((V,_)=>V+_.flex,0),R=i;const F=(V,_)=>{V.frozenSize=_,V.col.setActualWidth(_,t),R-=_,b-=V.flex,v-=1},k=V=>V.frozenSize!=null;for(const V of p)V.isFlex||F(V,V.initialSize);for(;v>0;){const V=Math.round(b<1?R*b:R);let _,W=0,U=0;for(const Y of p){if(k(Y))continue;_=Y,U+=V*(Y.flex/b);const de=U-W,re=Math.round(de);Y.targetSize=re,W+=re}_&&(_.targetSize+=V-W);let K=0;for(const Y of p){if(k(Y))continue;const de=Y.targetSize,re=Math.min(Math.max(de,Y.min),Y.max);K+=re-de,Y.violationType=re===de?void 0:re<de?"max":"min",Y.targetSize=re}const X=K===0?"all":K>0?"min":"max";for(const Y of p)k(Y)||(X==="all"||Y.violationType===X)&&F(Y,Y.targetSize)}e.skipSetLeft||s.setLeftValues(t),e.updateBodyWidths&&s.updateBodyWidths();const O=p.filter(V=>V.isFlex&&!V.violationType).map(V=>V.col);if(e.fireResizedEvent){const V=p.filter(W=>W.initialSize!==W.frozenSize).map(W=>W.col),_=p.filter(W=>W.flex).map(W=>W.col);Ld(this.eventSvc,V,!0,t,_)}return n?.revealColumns("colFlex"),O}initCol(e){const{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}};function Xg(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let n=e;for(let r=0;r<s.length;r++){if(n==null)return;n=n[s[r]]}return n}var hN=["dateTimeString","dateString","text","number","boolean","date"],gN=class extends ye{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===he.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:i}){return{cellEditorParams:{useFormatter:!0},comparator:(s,n)=>{const r=t.getColDefCol(i),c=r?.getColDef();if(!r||!c)return 0;const h=s==null?"":e({column:r,node:null,value:s}),p=n==null?"":e({column:r,node:null,value:n});return h===p?0:h>p?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},i={},s=b=>R=>{const{column:F,node:k,value:O}=R;let V=F.getColDef().valueFormatter;return V===b.groupSafeValueFormatter&&(V=b.valueFormatter),this.beans.valueSvc.formatValue(F,k,O,V)};for(const b of Object.keys(e)){const R=e[b],F={...R,groupSafeValueFormatter:G0(R,this.gos)};t[b]=F,i[b]=s(F)}const n=this.gos.get("dataTypeDefinitions")??{},r={};for(const b of Object.keys(n)){const R=n[b],F=this.processDataTypeDefinition(R,n,[b],e);F&&(t[b]=F,R.dataTypeMatcher&&(r[b]=R.dataTypeMatcher),i[b]=s(F))}const{valueParser:c,valueFormatter:h}=e.object,{valueParser:p,valueFormatter:v}=t.object;this.hasObjectValueParser=p!==c,this.hasObjectValueFormatter=v!==h,this.formatValueFuncs=i,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(r,e)}sortKeysInMatchers(e,t){const i={...e};for(const s of hN)delete i[s],i[s]=e[s]??t[s].dataTypeMatcher;return i}processDataTypeDefinition(e,t,i,s){let n;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let c=s[r];const h=t[r];if(c&&h&&(c=h),!N0(e,c,r))return;n=H0(c,e)}else{if(i.includes(r)){Te(44);return}const c=t[r];if(!N0(e,c,r))return;const h=this.processDataTypeDefinition(c,t,[...i,r],s);if(!h)return;n=H0(h,e)}return{...n,groupSafeValueFormatter:G0(n,this.gos)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:n}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(n,i):!1),!s){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[s];if(!r){Te(47,{cellDataType:s});return}return e.cellDataType=s,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r,i),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=s=>{t.add(s.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){const{gos:i}=this;if(!_i(i))return!1;const s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Vw(t,s))return!1;const n=t.type===null?e.type:t.type;if(n){const r=i.get("columnTypes")??{};if(LC(n).some(h=>{const p=r[h.trim()];return p&&Vw(p,s)}))return!1}return!Vw(e,s)}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Xg(s,e,r)}else this.initWaitForRowData(t);return i==null?void 0:Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](i))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:s}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);const[n]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:c}=r;c&&(n?.(),this.isPendingInference=!1,this.processColumnsPendingInference(c,t),this.columnStateUpdatesPendingInference={},t&&i?.processResizeOperations(),s.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},n={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const c=this.columnStateUpdatesPendingInference[r],h=this.colModel.getCol(r);if(!h)return;const p=h.getColDef();if(!this.resetColDefIntoCol(h,"cellDataTypeInferred"))return;const v=h.getColDef();if(t&&v.type&&v.type!==p.type){const b=fN(h,c);b.rowGroup&&b.rowGroupIndex==null&&(s[r]=b),b.pivot&&b.pivotIndex==null&&(n[r]=b),i.push(b)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&go(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},{rowGroupColsSvc:s,pivotColsSvc:n}=this.beans;return s?.restoreColumnOrder(i,e),n?.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=gy(this.beans,i,e.getColId());return e.setColDef(s,i,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>Te(48,{property:i});if(e.cellDataType==="object"){const{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:i,beans:s,formatValueFuncs:n}=this,r=i[t];r&&s.colFilter?.setColDefPropsForDataType(e,r,n[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,s){const n=this.formatValueFuncs[t],r=this.columnDefinitionPropsPerDataType[i.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:i,colId:s,formatValue:n});Object.assign(e,r)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),i=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:s=>Qs(s.newValue&&String(s.newValue)),valueFormatter:s=>s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):hn(s.value,i)??"",dataTypeMatcher:s=>s instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:i=>Qs(i)??void 0,dateFormatter:i=>hn(i??null,t)??void 0,valueParser:i=>nC(String(i.newValue))?i.newValue:null,valueFormatter:i=>nC(String(i.value))?String(i.value):"",dataTypeMatcher:i=>typeof i=="string"&&nC(i)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:ry(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&ik(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>ry(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function H0(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...LC(e.columnTypes),...LC(t.columnTypes)]),i}function N0(e,t,i){return t?t.baseDataType!==e.baseDataType?(Te(46),!1):!0:(Te(45,{parentCellDataType:i}),!1)}function G0(e,t){if(e.valueFormatter)return i=>{if(i.node?.group){const s=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter({...i,value:i.value.toNumber()});if("value"in i.value)return e.valueFormatter({...i,value:i.value.value})}}return}}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}function pN(e,t,i,s){if(!t[i])return!1;const n=e[i];return n===null?(t[i]=!1,!1):s===void 0?!!n:n===s}function Vw(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>pN(e,t,i,s))}function fN(e,t){const i=KR(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}var mN={moduleName:"DataType",version:Ne,beans:[gN],dependsOn:[zH]},CN={moduleName:"ColumnFlex",version:Ne,beans:[dN]},YE={moduleName:"ColumnApi",version:Ne,beans:[uN],apiFunctions:{getColumnDef:WH,getDisplayNameForColumn:jH,getColumn:$H,getColumns:KH,applyColumnState:qH,getColumnState:YH,resetColumnState:XH,isPinning:ZH,isPinningLeft:QH,isPinningRight:JH,getDisplayedColAfter:eN,getDisplayedColBefore:tN,setColumnsVisible:iN,setColumnsPinned:sN,getAllGridColumns:nN,getDisplayedLeftColumns:oN,getDisplayedCenterColumns:rN,getDisplayedRightColumns:aN,getAllDisplayedColumns:lN,getAllDisplayedVirtualColumns:cN,getColumnDefs:UH}};function vN(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var wN=class extends ye{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:n}=this.beans;return i&&n?n.getHeaderName(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?.getColGroupDef();return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){const r=e.headerValueGetter;if(r){const c=tt(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return typeof r=="function"?r(c):typeof r=="string"?this.beans.expressionSvc?.evaluate(r,c)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return vN(e.field)}return""}},yN=class extends ye{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const{visibleCols:s}=this,n=s.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,s.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const c=s.bodyWidth;this.viewportLeft=c-t-e,this.viewportRight=c-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||bN(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200,r=t<s&&i<s,c=t>n&&i>n;return!r&&!c}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const c=r.getLeft();return He(c)&&c>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:s}=this,n=s.centerCols;return s.getColsForRow(e,n,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const i=s=>{const n=new Set,r={};for(const c of s){let h=c.getParent();const p=c.isSpanHeaderHeight();for(;h&&!n.has(h);){if(p&&h.isPadding()){h=h.getParent();continue}const b=h.getProvidedColumnGroup().getLevel();r[b]??(r[b]=[]),r[b].push(h),n.add(h),h=h.getParent()}}return r};this.rowsOfHeadersToRenderLeft=i(e),this.rowsOfHeadersToRenderRight=i(t),this.rowsOfHeadersToRenderCenter=i(this.headerColsWithinViewport)}extractViewport(){const e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function bN(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var SN=class extends ye{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(n){const r=t(n),c=typeof r;if(c==="string"||c==="number"||c==="boolean"){this.eGui=sb("<span>"+r+"</span>");return}if(r==null){this.eGui=ks({tag:"span"});return}this.eGui=r}}return i}},xN={moduleName:"CellRendererFunction",version:Ne,beans:[SN]},RN=class extends eL{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:i,dynamicBeans:s,selectors:n}=e;if(i){const r=(c,h,p,v)=>{this.agGridDefaults[c]=h,(p||v)&&(this.agGridDefaultOverrides[c]={params:p,processParams:v})};for(const c of Object.keys(i)){let h=i[c];if(Z1(h)&&(h=h.getComp(this.beans)),typeof h=="object"){const{classImp:p,params:v,processParams:b}=h;r(c,p,v,b)}else r(c,h)}}if(this.registerDynamicBeans(s),n?.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){const i=(h,p,v,b)=>({componentFromFramework:p,component:h,params:v,processParams:b}),{frameworkOverrides:s}=this.beans,n=s.frameworkComponent(t,this.gos.get("components"));if(n!=null)return i(n,!0);const r=this.jsComps[t];if(r){const h=s.isFrameworkComponent(r);return i(r,h)}const c=this.agGridDefaults[t];if(c){const h=this.agGridDefaultOverrides[t];return i(c,!1,h?.params,h?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?sr(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??sr(256)}},EN=23,MN=class extends ye{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===EN&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},XE=new Set,zC={},bc={},cC,ZE=!1,QE=!1,DN=!1;function TN(e){const[t,i]=e.version.split(".")||[],[s,n]=cC.split(".")||[];return t===s&&i===n}function FN(e){cC||(cC=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?TN(e)||wd(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${cC}.`)):wd(t(`'${e.moduleName}' is incompatible.`)),e.validate){const i=e.validate();i.isValid||wd(`${i.message}`)}}function hp(e,t,i=!1){i||(ZE=!0),FN(e);const s=e.rowModels??["all"];XE.add(e);let n;t!==void 0?(QE=!0,bc[t]===void 0&&(bc[t]={}),n=bc[t]):n=zC,s.forEach(r=>{n[r]===void 0&&(n[r]={}),n[r][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(r=>hp(r,t,i))}function PN(e){delete bc[e]}function Ay(e,t,i){const s=n=>!!zC[n]?.[e]||!!bc[t]?.[n]?.[e];return s(i)||s("all")}function Pb(){return QE}function AN(e,t){const i=bc[e]??{};return[...Object.values(zC.all??{}),...Object.values(i.all??{}),...Object.values(zC[t]??{}),...Object.values(i[t]??{})]}function kN(){return new Set(XE)}function LN(e,t){const i=bc[e]??{};return[...Object.values(i.all??{}),...Object.values(i[t]??{})]}function ON(){return ZE}function IN(){return DN}var HN=class{static register(e){hp(e,void 0)}static registerModules(e){e.forEach(t=>hp(t,void 0))}},NN='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',GN={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Xs,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Ur,rangeSelectionBackgroundColor:Qo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Qo(.5),rangeHeaderHighlightColor:Lk(.08),rowNumbersSelectedColor:Qo(.5),rowHoverColor:Qo(.08),columnHoverColor:Qo(.05),selectedRowBackgroundColor:Qo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Xs,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:In(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:In(.1),iconButtonActiveColor:Ur,iconButtonActiveBackgroundColor:Qo(.28),iconButtonActiveIndicatorColor:Ur,menuBorder:{color:In(.2)},menuBackgroundColor:Gn(.03),menuTextColor:Gn(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:In(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Ur},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:In(.2)},panelBackgroundColor:Xs,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:In(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:In(.13)},selectCellBackgroundColor:In(.07),selectCellBorder:{color:In(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Xs,filterPanelApplyButtonBackgroundColor:Ur,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:md,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:md,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:In(.15),statusBarLabelColor:md,statusBarLabelFontWeight:500,statusBarValueColor:md,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},BN=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",JE={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},VN={...JE,cellBatchEditTextColor:"#f3d0b3"},zN=()=>nr({feature:"batchEditStyle",params:JE,css:BN}),_N=zN(),WN=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",UN={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},jN=()=>nr({feature:"buttonStyle",params:{...UN,buttonBackgroundColor:Xs,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Ur}},css:WN}),$N=jN(),KN=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",qN=()=>nr({feature:"columnDropStyle",css:KN}),eM=qN(),YN={warn:(...e)=>{Te(e[0],e[1])},error:(...e)=>{jt(e[0],e[1])},preInitErr:(...e)=>{Wg(e[0],e[2],e[1])}},XN=()=>Uk(YN).withParams(GN).withPart($N).withPart(eM).withPart(_N),ZN='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',QN=()=>nr({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Xs,checkboxUncheckedBorderColor:Gn(.3),checkboxCheckedBackgroundColor:Ur,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Xs,checkboxIndeterminateBackgroundColor:Gn(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Xs,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:ZN}),JN=QN(),tM=()=>({...NC,...VN,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Gn(.05),rowHoverColor:Qo(.15),selectedRowBackgroundColor:Qo(.2),menuBackgroundColor:Gn(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:md,findMatchColor:Xs,findActiveMatchColor:Xs,checkboxUncheckedBorderColor:Gn(.4),toggleButtonOffBackgroundColor:Gn(.4),rowBatchEditBackgroundColor:Gn(.1)}),eG=()=>({...tM(),backgroundColor:"#1f2836"}),tG=()=>nr({feature:"colorScheme",params:NC,modeParams:{light:NC,dark:tM(),"dark-blue":eG()}}),iG=tG(),iM={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},sM={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},sG=(e={})=>{let t="";for(const i of[...Object.keys(iM),...Object.keys(sM)]){const s=nG(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(s)}'); }
`}return t},nG=(e,t=1.5)=>{const i=sM[e];if(i)return i;const s=iM[e];if(!s)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+s+"</svg>"},oG=(e={})=>nr({feature:"iconSet",css:()=>sG(e)}),rG=oG(),aG=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',lG=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",cG={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},uG=()=>nr({feature:"inputStyle",params:{...cG,inputBackgroundColor:Xs,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Ur},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Gn(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>aG+lG}),dG=uG(),hG='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',gG={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},pG=()=>nr({feature:"tabStyle",params:{...gG,tabBarBorder:!0,tabBarBackgroundColor:In(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Xs},css:hG}),fG=pG(),mG=()=>XN().withPart(JN).withPart(iG).withPart(rG).withPart(fG).withPart(dG).withPart(eM).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),nM=mG(),CG={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},vG={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},wG={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},B0={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},V0={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},z0={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},zw={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},_0={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};function yG(e,t){t.sort((i,s)=>i.moduleName.localeCompare(s.moduleName)).forEach(i=>{const s=i.css;s&&e.set(`module-${i.moduleName}`,s)})}var bG=class extends Jk{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(B0),this.getSizeEl(V0),this.getSizeEl(z0),this.getSizeEl(zw),this.getSizeEl(_0),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(_0)}getRowBorderWidth(){return this.getCSSVariablePixelValue(zw)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(B0)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(V0)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(CG)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(vG),i=this.getCSSVariablePixelValue(wG);return e-1+i*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(z0)}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const s=`${i}px`;return t!=s?(e.style.setProperty("--ag-line-height",s),i):t!=""?parseFloat(t):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===_w?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=ks({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const i=this.getMeasurementContainer();t=ks({tag:"div"});const{border:s,noWarn:n}=e;s?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${_w}px)`)):t.style.width=`var(${e.cssName}, ${_w}px)`,i.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&!n&&Te(9,{variable:e});const c=ta(this.beans,t,()=>{const h=this.measureSizeEl(e);h==="detached"||h==="no-styles"||(this.lastKnownValues.set(e,h),h!==r&&(r=h,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>c()),t}fireStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(zw);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&jt(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[NN]),yG(e,Array.from(kN())),e}getDefaultTheme(){return nM}themeError(e){jt(240,{theme:e})}},_w=15538,SG=class extends tL{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function oM(e,t,i){const s=e.visibleCols.headerGroupRowCount;if(i>=s)return{column:t,headerRowIndex:i};let n=t.getParent();for(;n&&n.getProvidedColumnGroup().getLevel()>i;)n=n.getParent();const r=t.isSpanHeaderHeight();return!n||r&&n.isPadding()?{column:t,headerRowIndex:s}:{column:n,headerRowIndex:n.getProvidedColumnGroup().getLevel()}}var xG=class extends ye{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});const t=as(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i;const{colModel:s,colGroupSvc:n,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(i=s.getCol(e),i||(i=n?.getColumnGroup(e)??null)):i=e,!i)return null;const h=r.getHeaderRowContainerCtrl()?.getAllCtrls(),p=Ut(h||[]).type==="filter",v=tr(this.beans)-1;let b=-1,R=i;for(;R;)b++,R=R.getParent();let F=b;return t&&p&&F===v-1&&F++,F===-1?null:{headerRowIndex:F,column:i}}navigateVertically(e,t){const{focusSvc:i,visibleCols:s}=this.beans,{focusedHeader:n}=i;if(!n)return!1;const{headerRowIndex:r}=n,c=n.column,h=tr(this.beans),p=this.getHeaderRowType(r),v=s.headerGroupRowCount;let{headerRowIndex:b,column:R,headerRowIndexWithoutSpan:F}=e==="UP"?RG(p,c,r):EG(c,r,v),k=!1;return b<0&&(b=0,R=c,k=!0),b>=h?(b=-1,this.currentHeaderRowWithoutSpan=-1):F!==void 0&&(this.currentHeaderRowWithoutSpan=F),!k&&!R?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:b,column:R},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,i){const{focusSvc:s,gos:n}=this.beans,r={...s.focusedHeader};let c,h;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==n.get("enableRtl")?(h="Before",c=this.findHeader(r,h)):(h="After",c=this.findHeader(r,h));const p=n.getCallback("tabToNextHeader");if(t&&p){const v=s.focusHeaderPositionFromUserFunc({userFunc:p,headerPosition:c,direction:h});if(v){const{headerRowIndex:b}=s.focusedHeader||{};b!=null&&b!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=b)}return v}return c||!t?s.focusHeaderPosition({headerPosition:c,direction:h,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,h,i)}focusNextHeaderRow(e,t,i){const s=this.beans,n=e.headerRowIndex;let r=null,c;const h=tr(s),p=this.beans.visibleCols.allCols;if(t==="Before"){if(n<=0)return!1;r=Ut(p),c=n-1,this.currentHeaderRowWithoutSpan-=1}else r=p[0],c=n+1,this.currentHeaderRowWithoutSpan<h?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:v,headerRowIndex:b}=oM(this.beans,r,c);return b>=h&&(b=-1),s.focusSvc.focusHeaderPosition({headerPosition:{column:v,headerRowIndex:b},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Fi(e)){const s=e.getDisplayedLeafColumns();i=t==="Before"?Ut(s):s[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){const{colGroupSvc:i,visibleCols:s}=this.beans;let n=e.column;if(n instanceof up){const p=n.getDisplayedLeafColumns();n=t==="Before"?p[0]:p[p.length-1]}const r=t==="Before"?s.getColBefore(n):s.getColAfter(n);if(!r)return;const c=s.headerGroupRowCount;if(e.headerRowIndex>=c)return{headerRowIndex:e.headerRowIndex,column:r};const h=i?.getColGroupAtLevel(r,e.headerRowIndex);return h?h.isPadding()&&r.isSpanHeaderHeight()?{headerRowIndex:s.headerGroupRowCount,column:r}:{headerRowIndex:e.headerRowIndex,column:h??r}:{headerRowIndex:r instanceof Hc&&r.isSpanHeaderHeight()?s.headerGroupRowCount:e.headerRowIndex,column:r}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function RG(e,t,i){const s=i-1;if(e!=="filter"){const n=t instanceof Hc&&t.isSpanHeaderHeight();let r=t.getParent();for(;r&&(r.getProvidedColumnGroup().getLevel()>s||n&&r.isPadding());)r=r.getParent();if(r)return n?{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:s}:{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:s}}return{column:t,headerRowIndex:s,headerRowIndexWithoutSpan:s}}function EG(e,t,i){const s=t+1,n={column:e,headerRowIndex:s,headerRowIndexWithoutSpan:s};if(e instanceof up){if(s>=i)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:i,headerRowIndexWithoutSpan:s};let c=e.getDisplayedChildren()[0];if(c instanceof up&&c.isPadding()){const p=c.getDisplayedLeafColumns()[0];p.isSpanHeaderHeight()&&(c=p)}n.column=c,c instanceof Hc&&c.isSpanHeaderHeight()&&(n.headerRowIndex=i,n.headerRowIndexWithoutSpan=s)}return n}var MG=class extends ye{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(rk(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(vi(this.beans),OE)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=vi(this.beans);return this.isDomDataPresentInHierarchy(e,GC)?!0:this.isDomDataPresentInHierarchy(e,BC)}isDomDataPresentInHierarchy(e,t){let i=e;for(;i;){if(DR(this.gos,i,t))return!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:i,column:s}=e,n={rowIndex:t,rowPinned:i,column:s,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return r&&(n.isFullWidthCell=r.isFullWidth()),n}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:r=!1,sourceEvent:c}=e,h=this.colModel.getCol(t);if(!h){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:qr(s),column:h};const p=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...p,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:n,preventScrollOnBrowserFocus:r,sourceEvent:c}),this.previousCellFocusParams=p}isCellFocused(e){return this.focusedCell==null?!1:_E(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:i,pinned:s}}=e,{column:n,headerRowIndex:r}=this.focusedHeader;return t===n&&i===r&&s==n.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),wc(this.beans))return!1;const{direction:t,fromTab:i,allowUserOverride:s,event:n,fromCell:r,rowWithoutSpanValue:c}=e;let{headerPosition:h}=e;if(r&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(h);if(s){const p=this.focusedHeader,v=tr(this.beans);if(i){const b=this.gos.getCallback("tabToNextHeader");b&&(h=this.getHeaderPositionFromUserFunc({userFunc:b,direction:t,currentPosition:p,headerPosition:h,headerRowCount:v}))}else{const b=this.gos.getCallback("navigateToNextHeader");if(b&&n){const R={key:n.key,previousHeaderPosition:p,nextHeaderPosition:h,headerRowCount:v,event:n};h=b(R)}}}return h?this.focusProvidedHeaderPosition({headerPosition:h,direction:t,event:n,fromCell:r,rowWithoutSpanValue:c}):!1}focusHeaderPositionFromUserFunc(e){if(wc(this.beans))return!1;const{userFunc:t,headerPosition:i,direction:s,event:n}=e,r=this.focusedHeader,c=tr(this.beans),h=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:r,headerPosition:i,headerRowCount:c});return!!h&&this.focusProvidedHeaderPosition({headerPosition:h,direction:s,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:r}=e,h=t({backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:n,headerRowCount:r});return h===!0?s:h===!1?null:h}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:s,rowWithoutSpanValue:n,event:r}=e,{column:c,headerRowIndex:h}=t,{filterManager:p,ctrlsSvc:v,headerNavigation:b}=this.beans;if(h===-1)return p?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:c,event:r});b?.scrollToColumn(c,i);const F=v.getHeaderRowContainerCtrl(c.getPinned())?.focusHeader(t.headerRowIndex,c,r)||!1;return b&&F&&(n!=null||s)&&(b.currentHeaderRowWithoutSpan=n??-1),F}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=oM(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=tr(this.beans)-1,i=Ut(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===qr(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Fc(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:i=!0,event:s}=e;if(this.overlays?.isExclusive())return i&&this.focusOverlay(t);if(ov(this.beans))return t&&!wc(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Id(this.beans,t);const n=t?LI(this.beans):kI(this.beans);if(n){const r=e.column??this.focusedHeader?.column,{rowIndex:c,rowPinned:h}=n,p=Jr(this.beans,n);if(!r||!p||c==null)return!1;if(r.isSuppressNavigable(p)){const v=this.gos.get("enableRtl");let b;return!s||s.key===he.TAB?b=v?he.LEFT:he.RIGHT:b=s.key,this.beans.navigation?.navigateToNextCell(null,b,{rowIndex:c,column:r,rowPinned:h||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:c,column:r,rowPinned:h}),t&&this.rowRenderer.getRowByPosition(n)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(n,t)||(this.setFocusedCell({rowIndex:c,column:r,rowPinned:qr(h),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:c,rowPinned:h,column:r})),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const i=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:tr(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},DG=class extends ye{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.horizontalScrollShowing=this.gos.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=this.gos.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:J1();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},TG=class extends ye{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),i.destroy(),super.destroy()}},uC=new Set(["gridPreDestroyed","fillStart","pasteStart"]),FG=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Ab=FG.reduce((e,t)=>(e[t]=WA(t),e),{}),Gg=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),PG={tag:"span",cls:"ag-sort-indicator-container",children:[Gg("Order","order"),Gg("Asc","ascending-icon"),Gg("Desc","descending-icon"),Gg("Mixed","mixed-icon"),Gg("None","none-icon")]},kb=class extends wi{constructor(e){super(),this.eSortOrder=Xe,this.eSortAsc=Xe,this.eSortDesc=Xe,this.eSortMixed=Xe,this.eSortNone=Xe,e||this.setTemplate(PG)}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const s=Bn(e,this.beans,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:i,column:s,gos:n,beans:r}=this,c=r.sortSvc.getDisplaySortForColumn(s);if(e&&Ci(e,c==="asc",{skipAriaHidden:!0}),t&&Ci(t,c==="desc",{skipAriaHidden:!0}),i){const h=!s.getColDef().unSortIcon&&!n.get("unSortIcon"),p=c==null;Ci(i,!h&&p,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);const s=t.getColDef().showRowGroup;Jo(i)&&s&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:i}=this;if(e){const s=t.sortSvc.getDisplaySortForColumn(i)==="mixed";Ci(e,s,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;const s=i.getColumnsWithSortingOrdered(),n=i.getDisplaySortIndexForColumn(t)??-1,r=s.some(h=>i.getDisplaySortIndexForColumn(h)??!1),c=n>=0&&r;Ci(e,c,{skipAriaHidden:!0}),n>=0?e.textContent=(n+1).toString():Zs(e)}},AG={selector:"AG-SORT-INDICATOR",component:kb},gp=["asc","desc",null],kG=class extends ye{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}progressSortFromEvent(e,t){const s=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,s,"uiColumnSorted")}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);const{gos:n,showRowGroupCols:r}=this.beans,c=Jo(n);let h=[e];if(c&&e.getColDef().showRowGroup){const R=r?.getSourceColumnsForGroupColumn?.(e)?.filter(F=>F.isSortable());R&&(h=[e,...R])}h.forEach(b=>this.setColSort(b,t,s));const p=(i||n.get("alwaysMultiSort"))&&!n.get("suppressMultiSort"),v=[];if(!p){const b=this.clearSortBarTheseColumns(h,s);v.push(...b)}this.updateSortIndex(e),v.push(...h),this.dispatchSortChangedEvents(s,v)}updateSortIndex(e){const{gos:t,colModel:i,showRowGroupCols:s}=this.beans,n=Jo(t),r=s?.getShowRowGroupCol(e.getId()),c=n&&r||e,h=this.getColumnsWithSortingOrdered();i.forAllCols(b=>this.setColSortIndex(b,null));const p=h.filter(b=>n&&b.getColDef().showRowGroup?!1:b!==c);(c.getSort()?[...p,c]:p).forEach((b,R)=>this.setColSortIndex(b,R))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.beans.colModel.forAllCols(s=>{e.includes(s)||(s.getSort()&&i.push(s),this.setColSort(s,void 0,t))}),i}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??gp,i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1;return s||n?t[0]:t[i+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:s}=this.beans;let n=[];if(t.forAllCols(v=>{v.getSort()&&n.push(v)}),t.isPivotMode()){const v=Jo(e);n=n.filter(b=>{const R=!!b.getAggFunc(),F=!b.isPrimary(),k=v?i?.getShowRowGroupCol(b.getId()):b.getColDef().showRowGroup;return R||F||k})}const r=s?.columns.filter(v=>!!v.getSort())??[],c={};n.forEach((v,b)=>c[v.getId()]=b),n.sort((v,b)=>{const R=v.getSortIndex(),F=b.getSortIndex();if(R!=null&&F!=null)return R-F;if(R==null&&F==null){const k=c[v.getId()],O=c[b.getId()];return k>O?1:-1}else return F==null?-1:1});const h=Jo(e)&&!!r.length;h&&(n=[...new Set(n.map(v=>i?.getShowRowGroupCol(v.getId())??v))]);const p=new Map;return n.forEach((v,b)=>p.set(v,b)),h&&r.forEach(v=>{const b=i.getShowRowGroupCol(v.getId());p.set(v,p.get(b))}),p}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Jo(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=s[0].getSort();return s.every(c=>c.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let s=0;e.addManagedListeners(t,{movingChanged:()=>{s=Date.now()}}),i&&e.addManagedElementListeners(i,{click:r=>{const c=t.isMoving(),p=Date.now()-s<50;c||p||this.progressSortFromEvent(t,r)}});const n=()=>{const r=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",r==="asc"),e.toggleCss("ag-header-cell-sorted-desc",r==="desc"),e.toggleCss("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const p=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(v=>t.getSort()==v.getSort());e.toggleCss("ag-header-cell-sorted-mixed",p)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){const{sort:t,initialSort:i,sortIndex:s,initialSortIndex:n}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),s!==void 0?s!==null&&(e.sortIndex=s):n!==null&&(e.sortIndex=n)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new kb(e)}getSortIndicatorSelector(){return AG}},Dd={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},LG=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),OG={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?Dd[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:Dd[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?Dd[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan",rowGroupingHierarchy:"SharedRowGrouping"},IG=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:i})=>i?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,i)=>i.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const i=t.headerValueGetter;return typeof i=="function"||typeof i=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return sr(262);if(t.smallLeft)return sr(263);if(t.smallRight)return sr(264)}return null}},sortingOrder:{validate:t=>{const i=t.sortingOrder;if(Array.isArray(i)&&i.length>0){const s=i.filter(n=>!gp.includes(n));if(s.length>0)return`sortingOrder must be an array with elements from [${gp.map(DC).join()}], currently it includes [${s.map(DC).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},type:{validate:t=>{const i=t.type;return i instanceof Array?i.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof i=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:i})=>i?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:i,cellSelection:s,suppressRowTransform:n,enableCellSpan:r,rowDragEntireRow:c,enableCellTextSelection:h})=>typeof i=="object"&&i?.mode==="singleRow"&&i?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":s?"colDef.spanRows is not supported with cellSelection.":n?"colDef.spanRows is not supported with suppressRowTransform.":r?c?"colDef.spanRows is not supported with rowDragEntireRow.":h?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},rowGroupingHierarchy:{validate(t,{groupHierarchyConfig:i={}},s){const n=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),r=[];if(t.rowGroupingHierarchy?.forEach(c=>{if(typeof c=="object")return s.validation?.validateColDef(c),null;!n.has(c)&&!(c in i)&&r.push(c)}),r.length>0){const c=`The following parts of colDef.rowGroupingHierarchy are not recognised: ${r.map(p=>`"${p}"`).join(", ")}.`,h=`Choose one of ${[...n].map(p=>`"${p}"`).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${c}
${h}`}return null}}}),HG={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0},NG=()=>Object.keys(HG),GG=()=>({objectName:"colDef",allProperties:NG(),docsUrl:"column-properties/",deprecations:LG(),validations:IG()}),BG=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],VG=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],zG=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],rM=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],_G=["theme","rowSelection"],WG=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],aM=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows"],UG=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],jG=()=>[...zG,...VG,...BG,...rM,...UG,...aM,...WG,..._G],$G=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Zo(e,t,i){return typeof t=="number"||t==null?t==null||t>=i?null:`${e}: value should be greater than or equal to ${i}`:`${e}: value should be a number`}var KG={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},qG=()=>{const e={autoSizePadding:{validate({autoSizePadding:i}){return Zo("autoSizePadding",i,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:i}){return Zo("cacheBlockSize",i,1)}},cacheOverflowSize:{validate({cacheOverflowSize:i}){return Zo("cacheOverflowSize",i,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:i=>{const s=i.domLayout,n=["autoHeight","normal","print"];return s&&!n.includes(s)?`domLayout must be one of [${n.join()}], currently it's ${s}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,pinnedTopRowData:s,pinnedBottomRowData:n}){return i&&(s||n)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,isRowPinnable:s,pinnedTopRowData:n,pinnedBottomRowData:r}){return s&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!i&&s?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:i,isRowPinned:s,pinnedTopRowData:n,pinnedBottomRowData:r}){return s&&(n||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!i&&s?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:i={}},s,n){for(const r of Object.keys(i))n.validation?.validateColDef(i[r]);return null}},icons:{validate:({icons:i})=>{if(i){if(i.smallDown)return sr(262);if(i.smallLeft)return sr(263);if(i.smallRight)return sr(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:i}){return Zo("infiniteInitialRowCount",i,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:i=>{if(typeof i.ssrmExpandAllAffectsAllRows=="boolean"){if(i.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(i.ssrmExpandAllAffectsAllRows&&typeof i.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:i}){return Zo("keepDetailRowsCount",i,1)}},paginationPageSize:{validate({paginationPageSize:i}){return Zo("paginationPageSize",i,1)}},paginationPageSizeSelector:{validate:i=>{const s=i.paginationPageSizeSelector;return typeof s=="boolean"||s==null||s.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:i}){return Zo("rowBuffer",i,0)}},rowClass:{validate:i=>typeof i.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:i}){return i&&typeof i=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':i&&typeof i!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":i&&i.mode!=="multiRow"&&i.mode!=="singleRow"?`Selection mode "${i.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:i=>{const s=i.rowStyle;return s&&typeof s=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:i}){return Zo("serverSideInitialRowCount",i,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:i=>{const s=i.sortingOrder;if(Array.isArray(s)&&s.length>0){const n=s.filter(r=>!gp.includes(r));if(n.length>0)return`sortingOrder must be an array with elements from [${gp.map(DC).join()}], currently it includes [${n.map(DC).join()}]`}else if(!Array.isArray(s)||s.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${s}`;return null}},tooltipHideDelay:{validate:i=>i.tooltipHideDelay&&i.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:i=>i.tooltipShowDelay&&i.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:i=>{const s=i.rowModelType??"clientSide";switch(s){case"clientSide":{const{treeDataChildrenField:n,treeDataParentIdField:r,getDataPath:c,getRowId:h}=i;if(!n&&!r&&!c)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(n){if(c)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(r)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(r){if(!h)return"getRowId callback not provided, tree data with parent id cannot be built.";if(c)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${s} row model.`;return i.isServerSideGroup&&i.getServerSideGroupKey?null:n}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:i}){return Zo("viewportRowModelBufferSize",i,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:i}){return Zo("viewportRowModelPageSize",i,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:i,showOpenedGroup:s}){return i?.field&&s?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":i?.valueGetter&&s?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:i=>{const s=i.renderingMode,n=["default","legacy"];return s&&!n.includes(s)?`renderingMode must be one of [${n.join()}], currently it's ${s}`:null}}},t={};return aM.forEach(i=>{t[i]={expectedType:"boolean"}}),rM.forEach(i=>{t[i]={expectedType:"number"}}),As(t,e),t},YG=()=>({objectName:"gridOptions",allProperties:[...jG(),...Object.values(Ab)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:$G(),validations:qG()}),XG=0,ZG=0,W0="__ag_grid_instance",QG=class extends ye{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=ZG++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Ec,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const s=uC.has(t);if(s&&!e||!s&&e||!JG(t))return;const n=(r,c)=>{const h=Ab[r],p=this.gridOptions[h];typeof p=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>p(c))};if(this.gridReadyFired)n(t,i);else if(t==="gridReady"){n(t,i),this.gridReadyFired=!0;for(const r of this.queueEvents)n(r.eventName,r.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:i})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??wR[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return He(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addCommon(i)))}updateGridOptions({options:e,force:t,source:i="api"}){const s={id:XG++,properties:[]},n=[],{gridOptions:r,validation:c}=this;for(const h of Object.keys(e)){const p=e[h];c?.warnOnInitialPropertyUpdate(i,h);const v=t||typeof p=="object"&&i==="api",b=r[h];if(v||b!==p){r[h]=p;const R={type:h,currentValue:p,previousValue:b,changeSet:s,source:i};n.push(R)}}this.validateGridOptions(this.gridOptions),s.properties=n.map(h=>h.type),n.forEach(h=>{Dc(this,`Updated property ${h.type} from`,h.previousValue," to ",h.currentValue),this.propEventSvc.dispatchEvent(h)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const i of Object.keys(e)){const s=e[i];if(s==null||s===!1)continue;let n=t[i];typeof n=="function"&&(n=n(e,this.gridOptions,this.beans)),n&&this.assertModuleRegistered(n,i)}}validateGridOptions(e){this.validateOptions(e,KG),this.validation?.processGridOptions(e)}validateColDef(e,t,i){(i||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,OG),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const i=Array.isArray(e)?e.some(s=>this.isModuleRegistered(s)):this.isModuleRegistered(e);return i||jt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Pb(),rowModelType:this.get("rowModelType"),isUmd:IN()}}isModuleRegistered(e){return Ay(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[W0]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const i=t[W0];if(He(i))return i===this.instanceId;t=t.parentElement}return!1}};function JG(e){return!!Ab[e]}function lM(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var eB=lM(!0),tB=lM(!1),iB=class extends wi{constructor(){super(...arguments),this.eFilter=Xe,this.eFilterButton=Xe,this.eSortIndicator=Xe,this.eMenu=Xe,this.eLabel=Xe,this.eText=Xe,this.eSortOrder=Xe,this.eSortAsc=Xe,this.eSortDesc=Xe,this.eSortMixed=Xe,this.eSortNone=Xe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const i={...e};As(i,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(i)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const i=e.template;return i?i?.trim?i.trim():i:t?eB:tB}init(e){this.params=e;const{sortSvc:t,touchSvc:i,rowNumbersSvc:s,userCompFactory:n}=this.beans,r=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),i?.setupForHeader(this),this.setMenu(),this.setupSort(),s?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const i=G1(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderComponent=s,this.eText&&this.eText.appendChild(s.getGui())):this.destroyBean(s))}))}setDisplayName(e){const{displayName:t}=e,i=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Vd(t))}addInIcon(e,t,i){const s=Bn(e,this.beans,i);s&&t.appendChild(s)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){il(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:i}=this,s=dn(e);this.addInIcon(s?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!s);const n=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=n,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(n)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:i,beans:s,eMenu:n,eFilterButton:r}=this,c=t.column,h=dn(i);if(e&&!h){if(s.menuSvc?.isFilterMenuInHeaderEnabled(c))return t.showFilter(r??n??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(n??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:s,eSortOrder:n,eSortAsc:r,eSortDesc:c,eSortMixed:h,eSortNone:p}=this;s.attachCustomElements(n,r,c,h,p)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const i=()=>{const s=t.column.isFilterActive();Ci(e,s,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,i,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,s){if(!e)return il(t),!1;const n=this.params.column;return this.addInIcon(s,t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},sB={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},nB=class extends wi{constructor(){super(sB),this.agOpened=Xe,this.agClosed=Xe,this.agLabel=Xe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:i}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),i?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&Te(89)}workOutInnerHeaderGroupComponent(e,t){const i=V1(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderGroupComponent=s,this.agLabel.appendChild(s.getGui())):this.destroyBean(s))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:i},beans:s}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const n=p=>{if(Xr(p))return;const v=!i.isExpanded();s.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),v,"uiColumnExpanded")};this.addTouchAndClickListeners(s,t,n),this.addTouchAndClickListeners(s,e,n);const r=p=>{Ac(p)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:n}),this.updateIconVisibility();const c=i.getProvidedColumnGroup(),h=this.updateIconVisibility.bind(this);this.addManagedListeners(c,{expandedChanged:h,expandableChanged:h})}addTouchAndClickListeners(e,t,i){e.touchSvc?.setupForHeaderGroupElement(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){const s=i.isExpanded();Ci(e,s),Ci(t,!s)}else Ci(e,!1),Ci(t,!1)}addInIcon(e,t){const i=Bn(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:i}=this;Ci(t,!1),Ci(i,!1);return}}setupLabel(e){const{displayName:t,columnGroup:i}=e,s=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;He(t)&&!s&&(this.agLabel.textContent=Vd(t)),this.toggleCss("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},oB={moduleName:"ColumnHeaderComp",version:Ne,userComponents:{agColumnHeader:iB},icons:{menu:"menu",menuAlt:"menu-alt"}},rB={moduleName:"ColumnGroupHeaderComp",version:Ne,userComponents:{agColumnGroupHeader:nB},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},aB=class extends ye{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Te(92)}createTask(e,t,i,s,n=!1){this.verify();let r=i;s&&this.batchFrameworkComps&&(r="f1");const c={task:e,index:t,createOrder:++this.taskCount,deferred:n};this.addTaskToList(this[r],c),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.deferred!==s.deferred?i.deferred?-1:1:i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:i,f1:s,destroyTasks:n,beans:r}=this,{ctrlsSvc:c,frameworkOverrides:h}=r,p=t.list,v=i.list,b=s.list,R=Date.now();let F=0;const k=e<=0,O=c.getScrollFeature();for(;k||F<e;){if(!O.scrollGridIfNeeded()){let _;if(p.length)this.sortTaskList(t),_=p.pop().task;else if(v.length)this.sortTaskList(i),_=v.pop().task;else if(b.length)h.wrapOutgoing(()=>{for(;(k||F<e)&&!O.scrollGridIfNeeded();){if(b.length)this.sortTaskList(s),_=b.pop().task,_();else break;F=Date.now()-R}}),_=()=>{};else if(n.length)_=n.pop();else break;_()}F=Date.now()-R}p.length||v.length||b.length||n.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ia(this.beans,e)}isQueueEmpty(){return!this.ticking}},lB={moduleName:"AnimationFrame",version:Ne,beans:[aB]},cB=class extends ye{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Bn(e,this.beans,t?.column)}},uB=class extends ye{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!vc())return;const t=(i,s,n)=>{const{rowCtrl:r,cellCtrl:c}=e.getControlsForEventTarget(n?.target??null);c?.column&&c.dispatchCellContextMenuEvent(n??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,n,r,c)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!vc()||pR("dblclick"))return!1;const s=Date.now(),n=s-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=s,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:i,menuSvc:s}=this.beans;if(t.get("suppressTouch"))return;const{params:n,eMenu:r,eFilterButton:c}=e,h=new dc(e.getGui(),!0),p=e.shouldSuppressMenuHide(),v=p&&He(r)&&n.enableMenu,b=v?new dc(r,!0):h;if(n.enableMenu||s?.isHeaderContextMenuEnabled(n.column)){const R=v?"tap":"longTap",F=k=>n.showColumnMenuAfterMouseClick(k.touchStart);e.addManagedListeners(b,{[R]:F})}if(n.enableSorting){const R=F=>{const k=F.touchStart.target;p&&(r?.contains(k)||c?.contains(k))||i?.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(h,{tap:R})}if(n.enableFilterButton&&c){const R=new dc(c,!0);e.addManagedListeners(R,{tap:()=>n.showFilter(c)}),e.addDestroyFunc(()=>R.destroy())}e.addDestroyFunc(()=>h.destroy()),v&&e.addDestroyFunc(()=>b.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const i=new dc(t.eGridHeader,!0),s=n=>t.showColumnMenuAfterMouseClick(n.touchStart);e.addManagedListeners(i,{longTap:s}),e.addDestroyFunc(()=>i.destroy())}}setupForHeaderGroupElement(e,t,i){const s=new dc(t,!0);e.addManagedListeners(s,{tap:i}),e.addDestroyFunc(()=>s.destroy())}mockContextMenu(e,t,i){if(!vc())return;const s=new dc(t),n=r=>{ap(this.beans,r.touchEvent)&&i(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(s,{longTap:n}),e.addDestroyFunc(()=>s.destroy())}},dB={moduleName:"Touch",version:Ne,beans:[uB]},hB=class extends ye{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===he.UP,s=e===he.DOWN,n=e===he.LEFT;let r,c;const{pageBounds:h,gos:p,visibleCols:v,pinnedRowModel:b}=this.beans,{rowPinned:R}=t;if(i||s)R&&b?i?c=0:c=R==="top"?b.getPinnedTopRowCount()-1:b.getPinnedBottomRowCount()-1:c=i?h.getFirstRow():h.getLastRow(),r=t.column;else{const F=p.get("enableRtl");c=t.rowIndex,r=(n!==F?v.allCols:[...v.allCols].reverse()).find(O=>this.isCellGoodToFocusOn({rowIndex:c,rowPinned:null,column:O}))}return r?{rowIndex:c,rowPinned:R,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case he.UP:i=this.getCellAbove(i);break;case he.DOWN:i=this.getCellBelow(i);break;case he.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case he.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,Te(8,{key:e});break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;const{pinnedRowModel:s,rowModel:n}=this.beans;switch(e.rowPinned){case"top":i=s?.getPinnedTopRow(e.rowIndex);break;case"bottom":i=s?.getPinnedBottomRow(e.rowIndex);break;default:i=n.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,i=P0(this.beans,t,!0);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,i=VC(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:i}=this.beans,s=t.allCols;let n=e.rowIndex,r=e.rowPinned,c=t.getColAfter(e.column);if(!c){c=s[0];const h=P0(this.beans,e,!0);if(gi(h)||!h.rowPinned&&!(i?.isRowInPage(h.rowIndex)??!0))return null;n=h?h.rowIndex:null,r=h?h.rowPinned:null}return{rowIndex:n,column:c,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:i,pagination:s}=t,n=i.allCols;let r=e.rowIndex,c=e.rowPinned,h=i.getColBefore(e.column);if(!h){h=Ut(n);const p=VC(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(gi(p)||!p.rowPinned&&!(s?.isRowInPage(p.rowIndex)??!0))return null;r=p?p.rowIndex:null,c=p?p.rowPinned:null}return{rowIndex:r,column:h,rowPinned:c}}isSuppressNavigable(e,t){const{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){const s=e.createColumnFunctionCallbackParams(t);return i(s)}return!1}};function gB(e){return e.focusSvc.getFocusedCell()}function pB(e){return e.focusSvc.clearFocusedCell()}function fB(e,t,i,s){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function mB(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function CB(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function vB(e,t,i=!1){const s=e.headerNavigation?.getHeaderPositionForColumn(t,i);s&&e.focusSvc.focusHeaderPosition({headerPosition:s})}var wB=class extends ye{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new cM,this.rowValidations=new uM,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const i=this.getEditRow(e);t?i.delete(t):i.clear(),i.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const i=e&&this.edits.get(e);if(i)return i;if(t.checkSiblings){const s=e.pinnedSibling;if(s)return this.getEditRow(s)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const i=this.getEditRow(e),s=e.pinnedSibling,n=t&&s&&this.getEditRow(s);if(!i&&!n)return;const r=Object.assign({},e.data),c=(h,p)=>h.forEach(({pendingValue:v},b)=>{v!==_n&&(p[b.getColId()]=v)});return i&&c(i,r),n&&c(n,r),r}getEdit(e,t){const i=this._getEdit(e);return t&&i?{...i}:i}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((i,s)=>{const n=new Map;i.forEach(({editorState:r,...c},h)=>n.set(h,{...c})),t.set(s,n)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,i)=>{const s=new Map;t.forEach((n,r)=>s.set(r,{...n})),this.edits.set(i,s)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const i=this._getEdit(e),s=Object.assign({editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...i,...t});return this.getEditRow(e.rowNode).set(e.column,s),s}clearEditValue(e){const{rowNode:t,column:i}=e;if(t)if(i){const s=this._getEdit(e);s&&(s.editorValue=void 0,s.pendingValue=s.sourceValue,s.state="changed")}else this.getEditRow(t)?.forEach(s=>{s.editorValue=void 0,s.pendingValue=s.sourceValue,s.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((i,s)=>{for(const n of i.keys()){const{editorState:r,...c}=i.get(n);t.push({rowNode:s,column:n,...c})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:i,column:s}=e,{withOpenEditor:n}=t;if(i){const r=this.getEditRow(i,t);return r?s?n?this.getEdit(e)?.state==="editing":r.has(s)??!1:r.size!==0?n?Array.from(r.values()).some(({state:c})=>c==="editing"):!0:!1:!1}return n?this.getEditPositions().some(({state:r})=>r==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:i,column:s}=e;s&&!t.has(s)&&t.set(s,{editorValue:void 0,pendingValue:_n,sourceValue:this.beans.valueSvc.getValue(s,i,!1,"api"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(i,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},cM=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:i}=e||{};return this.cellValidations?.get(t)?.get(i)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:i,column:s}=e;this.cellValidations.has(i)||this.cellValidations.set(i,new Map),this.cellValidations.get(i).set(s,t)}clearCellValidation(e){const{rowNode:t,column:i}=e;this.cellValidations.get(t)?.delete(i)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},uM=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function Lb(e,t={}){const{rowIndex:i,rowId:s,rowCtrl:n,rowPinned:r}=t;if(n)return n;const{rowModel:c,rowRenderer:h}=e;let{rowNode:p}=t;return p||(s?p=OI(e,s,r):i!=null&&(p=c.getRow(i))),h.getRowCtrls(p?[p]:[])?.[0]}function di(e,t={}){const{cellCtrl:i,colId:s,columnId:n,column:r}=t;if(i)return i;const c=e.colModel.getCol(s??n??ky(r)),h=t.rowCtrl??Lb(e,t),p=h?.getCellCtrl(c)??void 0;if(p)return p;const v=t.rowNode??h?.rowNode;if(v)return e.rowRenderer.getCellCtrls([v],[c])?.[0]}function U0(e){const{editSvc:t}=e;t?.isBatchEditing()?Td(e):t?.stopEditing(void 0,{source:"api"})}function yB(e,t,i){const{gos:s,popupSvc:n}=t;if(!s.get("stopEditingWhenCellsLoseFocus"))return;const r=c=>{const h=c.relatedTarget;if(my(h)===null){U0(t);return}let p=i.some(v=>v.contains(h))&&s.isElementInThisInstance(h);p||(p=!!n&&(n.getActivePopups().some(v=>v.contains(h))||n.isElementWithinCustomPopup(h))),p||U0(t)};i.forEach(c=>e.addManagedElementListeners(c,{focusout:r}))}function ky(e){if(e)return typeof e=="string"?e:e.getColId()}var _n=Symbol("unedited");function dM(e,t={}){const i=[],s=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const n of s){const r=n.comp?.getCellEditor();r&&i.push({ctrl:n,editor:cp(r)})}return i}var bB=(e,t={})=>dM(e,t).map(i=>i.editor);function SB(e,t,i,s,n,r){t.length===0&&i?.rowNode&&i?.column&&Hd(e,i,{key:s,event:n,cellStartedEdit:r});const{valueSvc:c,editSvc:h,editModelSvc:p}=e,{rowNode:v,column:b}=i??{};for(const R of t){const{rowNode:F,column:k}=R,O=di(e,R);if(!O){if(F&&k){const _=c.getValue(k,F,void 0,"api"),K=(i?.rowNode===F&&i?.column===k&&s||void 0)??h?.getCellDataValue(R,!1)??c.getValueForDisplay(k,F)?.value??_??_n;p?.setEdit(R,{pendingValue:K,sourceValue:_,state:"editing"})}continue}const V=r&&v===O.rowNode&&O.column===b;Hd(e,{rowNode:v,column:O.column},{key:V?s:null,event:V?n:null,cellStartedEdit:V&&r})}}function jr({pendingValue:e,sourceValue:t}){return e===_n&&(e=t),e!==t}function Hd(e,t,i){const s=e.gos.get("enableGroupEdit"),{key:n,event:r,cellStartedEdit:c,silent:h}=i??{},p=di(e,t),v=p?.comp?.getCellEditor(),b=gM(e,t,n,c&&!h),R=e.editModelSvc?.getEdit(t);let F=b.value;if(F===void 0&&(F=R?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:F,state:"editing"}),v){v.refresh?.(b);return}const k=t.column.getColDef(),O=ZR(e.userCompFactory,k,b),V=O?.popupFromSelector!=null?O.popupFromSelector:!!k.cellEditorPopup,_=O?.popupPositionFromSelector!=null?O.popupPositionFromSelector:k.cellEditorPopupPosition;if(pM(O.params,r),p){p.editCompDetails=O,p.comp?.setEditDetails(O,V,_,e.gos.get("reactiveCustomComponents")),p?.rowCtrl?.refreshRow({suppressFlash:!0});const W=e.editModelSvc?.getEdit(t,!0);!h&&!W?.editorState?.cellStartedEditing&&(e.editSvc?.dispatchCellEvent(t,r,"cellEditingStarted",s?{value:F}:{}),e.editModelSvc?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}}function hM(e,t,i){const s={editorValueExists:!1};if(Ob(e)&&(t.getValidationErrors?.()?.length??0)>0||i?.isCancelling)return s;if(i?.isStopping){const r=t?.isCancelAfterEnd?.();if(r)return{...s,isCancelAfterEnd:r}}return{editorValue:t.getValue(),editorValueExists:!0}}function gM(e,t,i,s){const{valueSvc:n,gos:r,editSvc:c}=e,h=e.gos.get("enableGroupEdit"),p=di(e,t),v=t.rowNode?.rowIndex??void 0,b=c?.isBatchEditing(),R=e.colModel.getCol(t.column.getId()),{rowNode:F,column:k}=t,O=p.comp?.getCellEditor(),V=c?.getCellDataValue(t,!1)??(O?hM(e,O)?.editorValue:void 0),_=V===_n?n.getValueForDisplay(R,F)?.value:V;return tt(r,{value:h?V:_,eventKey:i??null,column:k,colDef:k.getColDef(),rowIndex:v,node:F,data:F.data,cellStartedEdit:s??!1,onKeyDown:p?.onKeyDown.bind(p),stopEditing:W=>{c.stopEditing(t,{source:b?"ui":"api",suppressNavigateAfterEdit:W}),_C(e,t)},eGridCell:p?.eGui,parseValue:W=>n.parseValue(R,F,W,p?.value),formatValue:p?.formatValue.bind(p),validate:()=>{c?.validateEdit()}})}function Ly(e,t){const{editModelSvc:i}=e;i?.getEditMap().forEach((s,n)=>{s.forEach((r,c)=>{!t&&(r.state==="editing"||r.pendingValue===_n)||!jr(r)&&(r.state!=="editing"||t)&&i?.removeEdits({rowNode:n,column:c})})})}function xB(e,t){const i=t.comp?.getCellEditor();if(!i?.refresh)return;const{eventKey:s,cellStartedEdit:n}=t.editCompDetails.params,{column:r}=t,c=gM(e,t,s,n),h=r.getColDef(),p=ZR(e.userCompFactory,h,c);i.refresh(pM(p.params,s))}function pM(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function pc(e,t){e.editModelSvc?.getEditPositions().forEach(i=>{const s=di(e,i);if(!s)return;const n=s.comp?.getCellEditor();if(!n)return;const{editorValue:r,editorValueExists:c,isCancelAfterEnd:h}=hM(e,n,t);h&&e.editModelSvc?.setEdit(i,{editorState:{isCancelAfterEnd:h}}),dC(e,i,r,void 0,!c,t)})}function dC(e,t,i,s,n,r){const{editModelSvc:c,valueSvc:h}=e;if(!c)return;const{rowNode:p,column:v}=t;if(!(p&&v))return;let b=c.getEdit(t,!0);b?.sourceValue||(b=c.setEdit(t,{sourceValue:h.getValue(v,p,void 0,"api"),pendingValue:b?b.editorValue:_n})),c.setEdit(t,{editorValue:n?b.sourceValue:i}),r?.persist&&RB(e,t)}function RB(e,t){const{editModelSvc:i}=e,s=i?.getEdit(t,!0);i?.setEdit(t,{pendingValue:s?.editorValue})}function Td(e,t,i){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(s=>_C(e,s,i))}function _C(e,t,i){const s=e.gos.get("enableGroupEdit"),{editModelSvc:n}=e,r=di(e,t),c=n?.getEdit(t,!0);if(!r){c&&n?.setEdit(t,{state:"changed"});return}const{comp:h}=r;if(h&&!h.getCellEditor()){if(r?.refreshCell(),c){n?.setEdit(t,{state:"changed"});const v=s?j0(i,c):{valueChanged:!1,newValue:void 0,oldValue:c.sourceValue};$0(e,t,v,i)}return}if(Ob(e)){const v=h?.getCellEditor()?.getValidationErrors?.(),b=n?.getCellValidationModel();v?.length?b?.setCellValidation(t,{errorMessages:v}):b?.clearCellValidation(t)}n?.setEdit(t,{state:"changed"}),h?.setEditDetails(),h?.refreshEditStyles(!1,!1),r?.refreshCell({force:!0,suppressFlash:!0});const p=n?.getEdit(t);if(p&&p.state==="changed"){const v=s?j0(i,p):{valueChanged:jr(p)&&!i?.cancel,newValue:i?.cancel||p.editorState.isCancelAfterEnd?void 0:p?.editorValue??c?.pendingValue,oldValue:p?.sourceValue};$0(e,t,v,i)}}function j0(e,t){return e?.cancel?{valueChanged:!1,oldValue:t.sourceValue,newValue:void 0,value:t.sourceValue}:{valueChanged:!1,oldValue:t.sourceValue,newValue:t.pendingValue,value:t.sourceValue}}function $0(e,t,i,{silent:s,event:n}={}){const{editSvc:r,editModelSvc:c}=e,h=c?.getEdit(t),{editorState:p}=h||{},{isCancelBeforeStart:v}=p||{};!s&&!v&&(r?.dispatchCellEvent(t,n,"cellEditingStopped",i),c?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function Ob(e){const{gos:t,colModel:i}=e,s=!!t.get("getFullRowEditValidationErrors"),n=i.getColumnDefs()?.filter(c=>c.editable).some(({cellEditorParams:c})=>{const{minLength:h,maxLength:p,getValidationErrors:v,min:b,max:R}=c||{};return h!==void 0||p!==void 0||v!==void 0||b!==void 0||R!==void 0}),r=e.gridApi.getCellEditorInstances().some(c=>c.getValidationElement||c.getValidationErrors);return n||s||r}function kc(e,t){if(!(t||Ob(e)))return;const i=dM(e),s=new cM,{ariaAnnounce:n,localeSvc:r,editModelSvc:c,gos:h}=e,p=h.get("editType")==="fullRow",b=mR(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(const F of i){const{ctrl:k,editor:O}=F,{rowNode:V,column:_}=k,W=O.getValidationErrors?.()??[],U=O.getValidationElement?.(!1)||!O.isPopup?.()&&k.eGui;if(U){const K=W!=null&&W.length>0,X=K?W.join(". "):"";KP(U,K),K&&n.announceValue(`${b} ${W}`,"editorValidation"),U instanceof HTMLInputElement?U.setCustomValidity(X):U.classList.toggle("invalid",K)}W?.length>0&&s.setCellValidation({rowNode:V,column:_},{errorMessages:W})}pc(e,{persist:!1}),c?.setCellValidationModel(s);const R=new Set;for(const{ctrl:F}of i)R.add(F.rowCtrl);if(p){const F=EB(e);c?.setRowValidationModel(F)}for(const F of R.values()){F.rowEditStyleFeature?.applyRowStyles();for(const k of F.getAllCellCtrls())k.tooltipFeature?.refreshTooltip(!0),k.editorTooltipFeature?.refreshTooltip(!0),k.editStyleFeature?.applyCellStyles?.()}}var EB=e=>{const t=new uM,i=e.gos.get("getFullRowEditValidationErrors"),s=e.editModelSvc?.getEditMap();if(!s)return t;for(const n of s.keys()){const r=s.get(n);if(!r)continue;const c=[],{rowIndex:h,rowPinned:p}=n;for(const b of r.keys()){const R=r.get(b);if(!R)continue;const{editorValue:F,pendingValue:k,sourceValue:O}=R,V=F??(k===_n?void 0:k)??O;c.push({column:b,colId:b.getColId(),rowIndex:h,rowPinned:p,oldValue:O,newValue:V})}const v=i?.({editorsState:c})??[];v.length>0&&t.setRowValidation({rowNode:n},{errorMessages:v})}return t};function MB(e){kc(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const i=[];return t.forEach((s,n)=>{s.forEach(({errorMessages:r},c)=>{i.push({column:c,rowIndex:n.rowIndex,rowPinned:n.rowPinned,messages:r??null})})}),i}function DB(e,t,i,{rowNode:s,column:n},r){return tt(e.gos,{type:i,node:s,data:s.data,value:r,column:n,colDef:n.getColDef(),rowPinned:s.rowPinned,event:t,rowIndex:s.rowIndex})}function TB(e,t=!1){return e===he.DELETE?!0:!t&&e===he.BACKSPACE?eE():!1}var FB=class extends ye{constructor(e,t,i,s){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=s,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case he.ENTER:this.onEnterKeyDown(e);break;case he.F2:this.onF2KeyDown(e);break;case he.ESCAPE:this.onEscapeKeyDown(e);break;case he.TAB:this.onTabKeyDown(e);break;case he.BACKSPACE:case he.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case he.DOWN:case he.UP:case he.RIGHT:case he.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:i,beans:s}=this;if(!s.editSvc?.isEditing(i,{withOpenEditor:!0})){if(e.shiftKey&&i.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const n=i.getFocusedCellPosition();s.navigation?.navigateToNextCell(e,t,n,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:i}=this.beans;if(!t)return;const s=t.extendLatestRangeInDirection(e);s&&(e.key===he.LEFT||e.key===he.RIGHT?i?.ensureColumnVisible(s.column):i?.ensureRowVisible(s.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:n}=this,{gos:r,rangeSvc:c,eventSvc:h,editSvc:p}=s;if(h.dispatchEvent({type:"keyShortcutChangedCellStart"}),TB(e,r.get("enableCellEditingOnBackspace"))&&!p?.isEditing(i,{withOpenEditor:!0})){if(c&&nl(r))c.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const{column:v}=i,b=this.beans.valueSvc.getDeleteValue(v,n);n.setDataValue(v,b,"cellClear")}}else p?.isEditing(i,{withOpenEditor:!0})||s.editSvc?.startEditing(i,{startedEdit:!0,event:t});h.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:i}=this,{editSvc:s,navigation:n}=i,r=s?.isEditing(t,{withOpenEditor:!0}),c=t.rowNode,h=s?.isRowEditing(c,{withOpenEditor:!0}),p=v=>{s?.startEditing(v,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(r||h){if(this.isCtrlEnter(e)){s?.applyBulkEdit(t,i?.rangeSvc?.getCellRanges()||[]);return}if(kc(i),s?.checkNavWithValidation(void 0,e)==="block-stop")return;s?.isEditing(t,{withOpenEditor:!0})?s?.stopEditing(t,{event:e,source:"edit"}):h&&!t.isCellEditable()?s?.stopEditing({rowNode:c},{event:e,source:"edit"}):p(t)}else if(i.gos.get("enterNavigatesVertically")){const v=e.shiftKey?he.UP:he.DOWN;n?.navigateToNextCell(null,v,t.cellPosition,!1)}else{if(s?.hasValidationErrors())return;s?.hasValidationErrors(t)&&s.revertSingleCellEdit(t,!0),p(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===he.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:i}}=this;i?.isEditing()&&(kc(this.beans),i?.checkNavWithValidation(void 0,e)==="block-stop")||i?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:i}}=this;i?.checkNavWithValidation(t,e)==="block-stop"&&i.revertSingleCellEdit(t),i?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const i=e.target!==this.eGui,{beans:{editSvc:s},cellCtrl:n}=this;if(i||s?.isEditing(n,{withOpenEditor:!0}))return;if(e.key===he.SPACE)this.onSpaceKeyDown(e);else if(s?.isCellEditable(n,"ui")){if(s?.hasValidationErrors()&&!s?.hasValidationErrors(n))return;s?.startEditing(n,{startedEdit:!0,event:e,source:"api"}),!n.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:i}=this.beans,{rowNode:s}=this.cellCtrl;!i?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&mc(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,s,"spaceKey"),e.preventDefault()}},PB=class extends ye{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Xr(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:i,editSvc:s,editModelSvc:n,frameworkOverrides:r,gos:c}=this.beans,h=e.ctrlKey||e.metaKey,{cellCtrl:p}=this,{column:v,cellPosition:b,rowNode:R}=p,F=rC(c,v,R,e);i&&h&&!F&&i.getCellRangeCount(b)>1&&i.intersectLastRange(!0);const k=p.createEvent(e,"cellClicked");k.isEventHandlingSuppressed=F,t.dispatchEvent(k);const O=v.getColDef();if(O.onCellClicked&&window.setTimeout(()=>{r.wrapOutgoing(()=>{O.onCellClicked(k)})},0),!F&&n?.getState(p)!=="editing"){const V=s?.isEditing(),_=n?.getCellValidationModel().getCellValidationMap().size??0,W=n?.getRowValidationModel().getRowValidationMap().size??0;if(V&&(_>0||W>0))return;s?.shouldStartEditing(p,e)?s?.startEditing(p,{event:e}):s?.shouldStopEditing(p,e)&&(this.beans.gos.get("editType")==="fullRow"?s?.stopEditing(p,{event:e,source:"edit"}):s?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventSvc:n,frameworkOverrides:r,editSvc:c,editModelSvc:h,gos:p}=i,v=rC(p,s.column,s.rowNode,e),b=t.getColDef(),R=s.createEvent(e,"cellDoubleClicked");if(R.isEventHandlingSuppressed=v,n.dispatchEvent(R),typeof b.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{b.onCellDoubleClicked(R)})},0),!v&&c?.shouldStartEditing(s,e)&&h?.getState(s)!=="editing"){const F=c?.isEditing(),k=h?.getCellValidationModel().getCellValidationMap().size??0,O=h?.getRowValidationModel().getRowValidationMap().size??0;if(F&&(k>0||O>0))return;c?.startEditing(s,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:r,beans:c}=this,{eventSvc:h,rangeSvc:p,rowNumbersSvc:v,focusSvc:b,gos:R,editSvc:F}=c,{column:k,rowNode:O,cellPosition:V}=r,_=rC(R,k,O,e),W=()=>{const Y=r.createEvent(e,"cellMouseDown");Y.isEventHandlingSuppressed=_,h.dispatchEvent(Y)};if(_){W();return}if(this.isRightClickInExistingRange(e))return;const U=p&&!p.isEmpty(),K=this.containsWidget(n),X=el(k);if(v&&X&&!v.handleMouseDownOnCell(V,e)){p&&e.preventDefault(),e.stopImmediatePropagation();return}if(!s||!U){const Y=F?.isEditing(r),re=R.get("enableCellTextSelection")&&e.defaultPrevented,ie=(cl()||re)&&!Y&&!tb(n)&&!K;r.focusCell(ie,e)}if(s&&U&&!b.isCellFocused(V)){e.preventDefault();const Y=b.getFocusedCell();if(Y){const{column:de,rowIndex:re,rowPinned:ie}=Y;F?.isEditing(Y)&&F?.stopEditing(Y),b.setFocusedCell({column:de,rowIndex:re,rowPinned:ie,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!K){if(p){X&&e.preventDefault();const Y=ZS(c,e)&&X;if(s)p.extendLatestRangeToCell(V);else if(!Y){const de=t||i;p.setRangeToCell(V,de)}}W()}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.cellPosition),s=ZS(this.beans,e);if(i&&s)return!0}return!1}containsWidget(e){return fc(e,"ag-selection-checkbox",3)||fc(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}},AB=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();al(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,i=e.getColSpan(t),s=[];if(i===1)s.push(e);else{let n=e;const r=e.getPinned();for(let c=0;n&&c<i&&(s.push(n),n=this.beans.visibleCols.getColAfter(n),!(!n||gi(n)||r!==n.getPinned()));c++);}return s}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ut(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const s=t.bodyWidth;return i+s+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=Cc(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},kB="ag-cell",LB="ag-cell-auto-height",OB="ag-cell-normal-height",IB="ag-cell-focus",HB="ag-cell-first-right-pinned",NB="ag-cell-last-left-pinned",GB="ag-cell-not-inline-editing",BB="ag-cell-wrap-text",VB=0,Fd=class extends ye{constructor(e,t,i,s){super(),this.column=e,this.rowNode=t,this.rowCtrl=s,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=i,this.gos=i.gos,this.editSvc=i.editSvc,this.hasEdit=!!i.editSvc;const{colId:n}=e;this.instanceId=n+"-"+VB++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new AB(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new PB(this,e,this.column),this.keyboardListener=new FB(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&nl(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),el(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),kc(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,i,s,n,r,c){this.comp=e,this.eGui=t,this.printLayout=n,c??(c=this),this.addDomData(c),this.addFeatures(),c.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,c),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),r&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(h=>h()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:i,ctrlsSvc:s,eventSvc:n}=e,r=t.getColDef(),c=this.createCellRendererParams();c.deferRender=!0;const h=n0(i,r,c);if(s.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let p;const v=new Rt(b=>{p=b});return this.addManagedListeners(n,{bodyScrollEnd:()=>p()}),{loadingComp:h,onReady:v}}return{loadingComp:h,onReady:Rt.resolve()}}showValue(e,t){const{beans:i,column:s,rowNode:n,rangeFeature:r}=this,{userCompFactory:c}=i;let h=this.getValueToDisplay(),p;const v=n.stub&&n.groupData?.[s.getId()]==null,b=s.getColDef();if(v||this.isCellRenderer()){const R=this.createCellRendererParams();!v||el(s)?p=s0(c,b,R):p=n0(c,b,R)}if(!p&&!v&&i.findSvc?.isMatch(n,s)){const R=this.createCellRendererParams();p=s0(c,{...s.getColDef(),cellRenderer:"agFindCellRenderer"},R)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(n,{checkSiblings:!0})){const R=this.editSvc.prepDetailsDuringBatch(this,{compDetails:p,valueToDisplay:h});R&&(R.compDetails?p=R.compDetails:R.valueToDisplay&&(h=R.valueToDisplay))}this.comp.setRenderDetails(p,h,e),this.customRowDragComp?.refreshVisibility(),!t&&r&&ia(i,()=>r?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Dp(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:i}=this.beans.gridOptions,s=TC(t),n=ll(this.column);return i==="custom"&&s!=="selectionColumn"&&n?!1:e.checkboxSelection||n&&typeof t=="object"&&Sd(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||i||s||n}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:i,rowNode:s,comp:n,eGui:r,beans:{valueSvc:c,gos:h,editSvc:p}}=this;return tt(h,{value:e,valueFormatted:t,getValue:()=>c.getValueForDisplay(i,s).value,setValue:b=>p?.setDataValue({rowNode:s,column:i},b)||s.setDataValue(i,b),formatValue:this.formatValue.bind(this),data:s.data,node:s,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:n.getParentOfValue(),registerRowDragger:(b,R,F,k)=>this.registerRowDragger(b,R,k),setTooltip:(b,R)=>{h.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(b,R),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:i}=this;!i?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:i}={}){if(this.suppressRefreshCell)return;const s=this.column.getColDef(),n=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,r=e||n||i,c=!!this.comp,h=this.updateAndFormatValue(c),p=r||h;if(c){if(p){this.showValue(!!i,!1);const v=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!v&&s.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted,{value:s,valueFormatted:n}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=s,this.valueFormatted=n,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){const t=this.eGui;Tc(this.beans.gos,t,GC,this),e.addDestroyFunc(()=>Tc(this.beans.gos,t,GC,null))}createEvent(e,t){const{rowNode:i,column:s,value:n,beans:r}=this;return DB(r,e,t,{rowNode:i,column:s},n)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:i}=this;AE(e,t,i.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);rR(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const i=this.editSvc?.allowedFocusTargetOnValidation(this);i&&i!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:i},comp:s}=this;if(!s||t?.isEditing(this)||!this.isCellFocused()||!i.shouldTakeFocus())return;const n=()=>{if(!this.isAlive())return;const r=s.getFocusableElement();this.isCellFocused()&&r.focus({preventScroll:!0})};if(e){setTimeout(n,0);return}n()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(el(this.column)&&(e=!0),un(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(HB,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(NB,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(ov(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const i=this.isCellFocused(),s=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(IB,i),i&&e&&e.forceBrowserFocus){let n=this.comp.getFocusableElement();if(s){const r=Rd(n,null,!0);r.length&&(n=r[0])}n.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}i&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:qr(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(kB,!0),e.toggleCss(GB,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(LB,t),e.toggleCss(OB,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(BB,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:s}=this;s.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{s.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(vi(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const s=this.createRowDragComp(e,t,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}),s.refreshVisibility())}createRowDragComp(e,t,i){const s=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(s)return this.beans.context.createBean(s),s}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function Ib(e,t,i,s,n,r){if(i==null&&t==null)return;const c={},h={},p=(v,b)=>{v.split(" ").forEach(R=>{R.trim()!=""&&b(R)})};if(i){const v=Object.keys(i);for(let b=0;b<v.length;b++){const R=v[b],F=i[R];let k;typeof F=="string"?k=e?e.evaluate(F,s):!0:typeof F=="function"&&(k=F(s)),p(R,O=>{k?c[O]=!0:h[O]=!0})}}t&&r&&Object.keys(t).forEach(v=>p(v,b=>{c[b]||(h[b]=!0)})),r&&Object.keys(h).forEach(r),Object.keys(c).forEach(n)}function K0(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var zB=class extends ye{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const i=this.gos,s=c=>{typeof c=="string"?e.push(c):Array.isArray(c)&&c.forEach(h=>e.push(h))},n=i.get("rowClass");n&&s(n);const r=i.getCallback("getRowClass");if(r){const c={data:t.data,node:t,rowIndex:t.rowIndex},h=r(c);s(h)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,i=>{e.push(i)},()=>{})}processRowClassRules(e,t,i){const{gos:s,expressionSvc:n}=this.beans,r=tt(s,{data:e.data,node:e,rowIndex:e.rowIndex});Ib(n,void 0,s.get("rowClassRules"),r,t,i)}processStylesFromGridOptions(e){const t=this.gos,i=t.get("rowStyle"),s=t.getCallback("getRowStyle");let n;if(s){const r={data:e.data,node:e,rowIndex:e.rowIndex};n=s(r)}if(n||i)return Object.assign({},i,n)}},_B=0,WC=class extends ye{constructor(e,t,i,s,n){super(),this.rowNode=e,this.useAnimationFrameForCreate=s,this.printLayout=n,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+_B++,this.rowId=$g(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=K0(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=$g(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,s){const{context:n,focusSvc:r}=this.beans;s=Sp(this,n,s);const c={rowComp:e,element:t,containerType:i,compBean:s};this.allRowGuis.push(c),this.updateGui(i,c),this.initialiseRowComp(c);const h=this.rowNode,p=this.rowType==="FullWidthLoading"||h.stub,v=!h.data&&this.beans.rowModel.getType()==="infinite";!p&&!v&&!h.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const b=this.fullWidthGui?.element;b&&!this.beans.editSvc?.isEditing(this)&&r.isRowFocused(h.rowIndex,h.rowPinned)&&r.shouldTakeFocus()&&setTimeout(()=>b.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),mc(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>i.toggleCss(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ay(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),Tc(t,e.element,BC,this),e.compBean.addDestroyFunc(()=>Tc(t,e.element,BC,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=$g(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(ly(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(ly(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==i),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:s}}=this,n=!!e||!s.isPinningLeft(),r=!!t,c=!!i||!s.isPinningRight();return n&&r&&c}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.colModel.isPivotMode(),n=AR(this.gos,this.rowNode,s);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":n?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:i}=this.beans;if(!i?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Fd(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,i=null){const s={list:[],map:{}},n=(v,b,R)=>{R!=null?s.list.splice(R,0,b):s.list.push(b),s.map[v]=b},r=[];for(const v of t){const b=v.getInstanceId();let R=e.map[b];R&&!this.isCorrectCtrlForSpan(R)&&(R.destroy(),R=void 0),R||(R=this.getNewCellCtrl(v)),R&&n(b,R)}for(const v of e.list){const b=v.column.getInstanceId();if(s.map[b]!=null)continue;!this.isCellEligibleToBeRemoved(v,i)?r.push([b,v]):v.destroy()}if(r.length)for(const[v,b]of r){const R=s.list.findIndex(k=>k.column.getLeft()>b.column.getLeft()),F=R===-1?void 0:Math.max(R-1,0);n(v,b,F)}const{focusSvc:c,visibleCols:h}=this.beans,p=c.getFocusedCell();if(p&&p.column.getPinned()==i){const v=p.column.getInstanceId();if(!s.map[v]&&h.allCols.includes(p.column)){const R=this.createFocusedCellCtrl();if(R){const F=s.list.findIndex(O=>O.column.getLeft()>R.column.getLeft()),k=F===-1?void 0:Math.max(F-1,0);n(v,R,k)}}}return s}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,i=e.getFocusedCell();if(!i)return;const s=t?.getCellSpan(i.column,this.rowNode);if(s){if(s.firstNode!==this.rowNode||!s.doesSpanContain(i))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(i.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const{column:n}=e;if(n.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:r,editSvc:c}=this.beans,h=c?.isEditing(e),p=e.isCellFocused();return h||p?!(r.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||cs(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=He(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,s=i.isPinningLeft(),n=i.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(c,h)=>c?c.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(c.element,h).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),s=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&i&&s&&n}addListeners(){const{beans:e,gos:t,rowNode:i}=this,{expansionSvc:s,eventSvc:n,context:r,rowSpanSvc:c}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...s?.getRowExpandedListeners(this)??{}}),i.detail&&this.addManagedListeners(i.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(i,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(n,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),c&&this.addManagedListeners(c,{spannedCellsUpdated:({pinned:h})=>{h&&!i.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,r),this.tooltipFeature=this.destroyBean(this.tooltipFeature,r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,r)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(p=>{this.addRowDraggerToRow(p)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,r)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell(e)),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",i=t==="above",s=t==="inside",n=t==="below",c=this.gos.get("treeData")&&(n||i),h=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(p=>{const v=p.rowComp;v.toggleCss("ag-row-highlight-above",i),v.toggleCss("ag-row-highlight-inside",s),v.toggleCss("ag-row-highlight-below",n),v.toggleCss("ag-row-highlight-indent",c),c?p.element.style.setProperty("--ag-row-highlight-level",h):p.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:qr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:i,column:s}=t;if(!(i.element===e.target))return;const c=this.rowNode,{focusSvc:h,navigation:p}=this.beans,v=h.getFocusedCell(),b={rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:v?.column??s};p?.navigateToNextCell(e,e.key,b,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Xr(e))return;const t=this.allRowGuis.find(h=>h.element.contains(e.target)),i=t?t.element:null,s=i===e.target,n=vi(this.beans);let r=!1;i&&n&&(r=i.contains(n)&&n.classList.contains("ag-cell"));let c=null;!s&&!r&&(c=Nc(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&s||!c)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>ea(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");this.allRowGuis.forEach(i=>{un(i.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let s;if(this.fullWidthGui)s=this.fullWidthGui.element;else{const r=this.beans.colModel.getCol(e?.column)?.pinned;r?s=r==="right"?this.rightGui?.element:this.leftGui?.element:s=this.centerGui?.element}s&&(s.classList.toggle("ag-full-width-focus",i),i&&e?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach(s=>{s!==t&&(i.list.push(s),i.map[s.column.getInstanceId()]=s)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:i}=this;return tt(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){if(Xr(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=fc(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:i}=this.beans;t?.removeAllCellRanges();const s=this.findFullWidthInfoForEvent(e);if(!s)return;const{rowGui:n,column:r}=s,c=n.element,h=e.target,p=this.rowNode;let v=e.defaultPrevented||cl();c&&c.contains(h)&&tb(h)&&(v=!1),i.setFocusedCell({rowIndex:p.rowIndex,column:r,rowPinned:p.rowPinned,forceBrowserFocus:v})}isSuppressMouseEvent(e){const{gos:t,rowNode:i}=this;if(this.isFullWidth()){const n=this.findFullWidthRowGui(e.target);return HL(t,n?.rowComp.getFullWidthCellRendererParams(),i,e)}const s=Eb(t,e.target);return s!=null&&rC(t,s.column,i,e)}onRowClick(e){if(Xr(e)||this.lastMouseDownOnDragger)return;const i=this.isSuppressMouseEvent(e),{eventSvc:s,selectionSvc:n}=this.beans,r=this.createRowEventWithSource("rowClicked",e);r.isEventHandlingSuppressed=i,s.dispatchEvent(r),!i&&n?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:i,rowNode:s}=this,n=tt(i,{fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(c,h,p,v)=>this.addFullWidthRowDragging(c,h,p,v),setTooltip:(c,h)=>{i.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(c,h)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return U1(r,n);case"FullWidthGroup":{const{value:c,valueFormatted:h}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return n.value=c,n.valueFormatted=h,W1(r,n)}case"FullWidthLoading":return _1(r,n);default:return z1(r,n)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",s){const{rowDragSvc:n,context:r}=this.beans;if(!n||!this.isFullWidth())return;const c=n.createRowDragComp(()=>i,this.rowNode,void 0,e,t,s);this.createBean(c,r),this.addDestroyFunc(()=>{this.destroyBean(c,r)})}onUiLevelChanged(){const e=K0(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.toggleCss(t,!0),s.rowComp.toggleCss(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(i=>i.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:s,beans:n}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(s.rowIndex%2===0?"ag-row-even":"ag-row-odd"),s.isRowPinned()&&(r.push("ag-row-pinned"),n.pinnedRowModel?.isManual()&&r.push("ag-row-pinned-manual")),!s.isRowPinned()&&s.pinnedSibling&&r.push("ag-row-pinned-source"),s.isSelected()&&r.push("ag-row-selected"),s.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),s.stub&&r.push("ag-row-loading"),i&&r.push("ag-full-width-row"),n.expansionSvc?.addExpandedCss(r,s),s.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:c}=n;return c&&(c.processClassesFromGridOptions(r,s),c.preProcessRowClassRules(r,s)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),i&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:i}=e,{rowNode:s,beans:n,gos:r}=this;i.addManagedListeners(t,{pointerenter:c=>{c.pointerType==="mouse"&&s.dispatchRowEvent("mouseEnter")},pointerleave:c=>{c.pointerType==="mouse"&&s.dispatchRowEvent("mouseLeave")}}),i.addManagedListeners(s,{mouseEnter:()=>{!n.dragSvc?.dragging&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(i=>i.element);for(const i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,s=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),s)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=MR(this.gos)?sl(this.beans,this.rowNode).height:void 0,r=n?`${Math.min(i,n)-2}px`:void 0;this.forEachGui(e,c=>{c.element.style.height=`${t}px`,r&&c.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&bd(this.gos)&&!t.sticky)if(t.rowTop!=null){const n=this.roundRowTopToBounds(t.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(vi(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&He(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(t.sticky)i=t.stickyRowTop;else{const s=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(s);i=t.isRowPinned()?n:this.beans.rowContainerHeight.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(s=>{s.column==e&&(i=s)}),i!=null||t||this.getAllCellCtrls().forEach(s=>{s?.getColSpanningList().indexOf(e)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const i=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,n=i+this.rowNode.rowIndex+1;this.forEachGui(e,r=>{r.rowComp.setRowIndex(t),r.rowComp.toggleCss("ag-row-even",s),r.rowComp.toggleCss("ag-row-odd",!s),oR(r.element,n)})}},WB=class extends ye{constructor(){super(),this.beanName="navigation",this.onPageDown=$S(this.onPageDown,100),this.onPageUp=$S(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,c=cO(this.gos,e);let h=!1;switch(i){case he.PAGE_HOME:case he.PAGE_END:!n&&!s&&(this.onHomeOrEndKey(i),h=!0);break;case he.LEFT:case he.RIGHT:case he.UP:case he.DOWN:if(!c)return!1;n&&!s&&!r&&(this.onCtrlUpDownLeftRight(i,c),h=!0);break;case he.PAGE_DOWN:case he.PAGE_UP:!n&&!s&&(h=this.handlePageUpDown(i,c,t));break}return h&&e.preventDefault(),h}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===he.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:i,focusIndex:s,focusColumn:n,isAsync:r,rowPinned:c}){const{scrollFeature:h}=this.gridBodyCon;He(i)&&!i.isPinned()&&h.ensureColumnVisible(i),He(e)&&h.ensureIndexVisible(e,t),r||h.ensureIndexVisible(s);const{focusSvc:p,rangeSvc:v}=this.beans;p.setFocusedCell({rowIndex:s,column:n,rowPinned:c,forceBrowserFocus:!0}),v?.setRangeToCell({rowIndex:s,rowPinned:c,column:n})}onPageDown(e){const t=this.beans,i=Ww(t),s=this.getViewportHeight(),{pageBounds:n,rowModel:r,rowAutoHeight:c}=t,h=n.getPixelOffset(),p=i.top+s,v=r.getRowIndexAtPixel(p+h);c?.active?this.navigateToNextPageWithAutoHeight(e,v):this.navigateToNextPage(e,v)}onPageUp(e){const t=this.beans,i=Ww(t),{pageBounds:s,rowModel:n,rowAutoHeight:r}=t,c=s.getPixelOffset(),h=i.top,p=n.getRowIndexAtPixel(h+c);r?.active?this.navigateToNextPageWithAutoHeight(e,p,!0):this.navigateToNextPage(e,p,!0)}navigateToNextPage(e,t,i=!1){const{pageBounds:s,rowModel:n}=this.beans,r=this.getViewportHeight(),c=s.getFirstRow(),h=s.getLastRow(),p=s.getPixelOffset(),v=n.getRow(e.rowIndex),b=i?v?.rowHeight-r-p:r-p,R=v?.rowTop+b;let F=n.getRowIndexAtPixel(R+p);if(F===e.rowIndex){const O=i?-1:1;t=F=e.rowIndex+O}let k;i?(k="bottom",F<c&&(F=c),t<c&&(t=c)):(k="top",F>h&&(F=h),t>h&&(t=h)),this.isRowTallerThanView(n.getRow(F))&&(t=F,k="top"),this.navigateTo({scrollIndex:t,scrollType:k,scrollColumn:null,focusIndex:F,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,s=this.getViewportHeight(),{pageBounds:n,rowModel:r}=this.beans,c=n.getLastRow();let h=0,p=e.rowIndex;for(;p>=0&&p<=c;){const v=r.getRow(p);if(v){const b=v.rowHeight??0;if(h+b>s)break;h+=b}p+=i}return Math.max(0,Math.min(p,c))}getViewportHeight(){const e=this.beans,t=Ww(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth();let s=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(s-=i),s}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),s=this.getNormalisedPosition(i),{rowIndex:n,rowPinned:r,column:c}=s??i,h=c;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:h,focusIndex:n,focusColumn:h,rowPinned:r})}onHomeOrEndKey(e){const t=e===he.PAGE_HOME,{visibleCols:i,pageBounds:s,rowModel:n}=this.beans,r=i.allCols,c=t?s.getFirstRow():s.getLastRow(),h=n.getRow(c);if(!h)return;const p=(t?r:[...r].reverse()).find(v=>!v.isSuppressNavigable(h));p&&this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:p,focusIndex:c,focusColumn:p})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t),n=this.beans,{ctrlsSvc:r,pageBounds:c,focusSvc:h,gos:p}=n;if(s!==!1){s?t.preventDefault():s===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){const{rowIndex:v,rowPinned:b}=e.getRowPosition();(b?v===0:v===c.getFirstRow())&&(p.get("headerHeight")===0||wc(n)?Id(n,!0,!0):(t.preventDefault(),h.focusPreviousFromFirstCell(t)))}else e instanceof Fd&&e.focusCell(!0),(!i&&h.focusOverlay(!1)||Id(n,i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.beans,{focusSvc:s,rowRenderer:n}=i,r=s.getFocusedCell();if(!r)return!1;let c=vd(i,r);return!c&&(c=n.getRowByPosition(r),!c||!c.isFullWidth())?!1:!!this.tabToNextCellCommon(c,e,t,"api")}tabToNextCellCommon(e,t,i,s="ui"){const{editSvc:n,focusSvc:r}=this.beans;let c;const h=e instanceof Fd?e:e.getAllCellCtrls()?.[0];return n?.isEditing()?c=n?.moveToNextCell(h,t,i,s):c=this.moveToNextCellNotEditing(e,t,i),c===null?c:c||!!r.focusedHeader}moveToNextCellNotEditing(e,t,i){const s=this.beans.visibleCols.allCols;let n;if(e instanceof WC){if(n={...e.getRowPosition(),column:t?s[0]:Ut(s)},this.gos.get("embedFullWidthRows")&&i){const c=e.findFullWidthInfoForEvent(i);c&&(n.column=c.column)}}else n=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(n,{backwards:t,startEditing:!1});if(r===!1)return null;if(r instanceof Fd)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return He(r)}findNextCellToFocusOn(e,{backwards:t,startEditing:i,skipToNextEditableCell:s}){let n=e;const r=this.beans,{cellNavigation:c,gos:h,focusSvc:p,rowRenderer:v,rangeSvc:b}=r;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=c.getNextTabbedCell(n,t);const R=h.getCallback("tabToNextCell");if(He(R)){const V=R({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(V===!0)n=e;else{if(V===!1)return!1;n={rowIndex:V.rowIndex,column:V.column,rowPinned:V.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const O=tr(r);return p.focusHeaderPosition({headerPosition:{headerRowIndex:O+n.rowIndex,column:n.column},fromCell:!0}),null}const F=h.get("editType")==="fullRow";if(i&&(!F||s)&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const k=vd(r,n);if(!k){const O=v.getRowByPosition(n);if(!O||!O.isFullWidth()||i)continue;return{...O.getRowPosition(),column:n?.column}}if(!c.isSuppressNavigable(k.column,k.rowNode))return k.setFocusedCellPosition(n),b?.setRangeToCell(n),k}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:i,rowModel:s}=this.beans;return t==="top"?i?.getPinnedTopRow(e):t==="bottom"?i?.getPinnedBottomRow(e):s.getRow(e)}navigateToNextCell(e,t,i,s){let n=i,r=!1;const c=this.beans,{cellNavigation:h,focusSvc:p,gos:v}=c;for(;n&&(n===i||!this.isValidNavigateCell(n));)v.get("enableRtl")?t===he.LEFT&&(n=this.getLastCellOfColSpan(n)):t===he.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=h.getNextCellToFocus(t,n),r=gi(n);if(r&&e&&e.key===he.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){const R=v.getCallback("navigateToNextCell");if(He(R)){const k=R({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});He(k)?n={rowPinned:k.rowPinned,rowIndex:k.rowIndex,column:k.column}:n=null}}if(!n)return;if(n.rowIndex<0){const R=tr(c);p.focusHeaderPosition({headerPosition:{headerRowIndex:R+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const b=this.getNormalisedPosition(n);b?this.focusPosition(b):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const i=vd(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:i,rowRenderer:s,focusSvc:n,eventSvc:r}=this.beans,c=i.allCols,h=s.getRowByPosition(e);if(!h||!h.isFullWidth())return!1;const p=n.getFocusedCell(),v={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ut(c):c[0])};this.focusPosition(v);const b=t??(p!=null&&PI(v,p));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:v.column,isFullWidthCell:!0,fromBelow:b}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i?.setRangeToCell(e)}isValidNavigateCell(e){return!!Jr(this.beans,e)}getLastCellOfColSpan(e){const t=vd(this.beans,e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Ut(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=TR(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),s=t&&i?.sticky,{scrollFeature:n}=this.gridBodyCon;!s&&gi(e.rowPinned)&&n.ensureIndexVisible(e.rowIndex),e.column.isPinned()||n.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function Ww(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var UB={moduleName:"KeyboardNavigation",version:Ne,beans:[WB,hB,xG],apiFunctions:{getFocusedCell:gB,clearFocusedCell:pB,setFocusedCell:fB,setFocusedHeader:vB,tabToNextCell:mB,tabToPreviousCell:CB}},jB=class extends ye{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},$B=class extends ye{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,i=e?.rowTop??0,s=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:s}}calculateBounds(e,t){const{rowModel:i}=this.beans,s=i.getRowBounds(e);s&&(s.rowIndex=e),this.topRowBounds=s;const n=i.getRowBounds(t);n&&(n.rowIndex=t),this.bottomRowBounds=n,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},KB=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",qB=class extends ye{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const i of this.elements)i&&(Ci(i,t),ir(i,e))}},YB=class extends ye{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:i}=this.beans,s=cs(e,"print"),n=s?0:t.getColsLeftWidth(),r=s?0:t.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,i.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=rp(e);if(t<=50)return;const i=this.getPinnedColumnsOverflowingViewport(t-50),s=this.gos.getCallback("processUnpinnedColumns"),{columns:n,hasLockedPinned:r}=i;let c=n;!c.length&&!r||(s&&(c=s({columns:c,viewportWidth:t})),!(!c||!c.length)&&(c=c.filter(h=>!el(h)),this.setColsPinned(c,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new qB(e,t)}setColsPinned(e,t,i){const{colModel:s,colAnimation:n,visibleCols:r,gos:c}=this.beans;if(!s.cols||!e?.length)return;if(cs(c,"print")){Te(37);return}n?.start();let h;t===!0||t==="left"?h="left":t==="right"?h="right":h=null;const p=[];e.forEach(v=>{if(!v)return;const b=s.getCol(v);b&&b.getPinned()!==h&&(this.setColPinned(b,h),p.push(b))}),p.length&&(r.refresh(i),jR(this.eventSvc,p,i)),n?.finish()}initCol(e){const{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const i=e.pinned==="left",s=e.pinned==="right";e.hidden=!0;const n=()=>{const r=i?this.leftWidth:this.rightWidth;if(r==null)return;const c=r==0,h=e.hidden!==c,p=this.gos.get("enableRtl"),v=t.getScrollbarWidth(),R=t.verticalScrollShowing&&(p&&i||!p&&s)?r+v:r;e.comp.setPinnedContainerWidth(`${R}px`),e.comp.setDisplayed(!c),h&&(e.hidden=c,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:s,rightWidth:n}=this,r=rp(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(s+n+e>r)if(r>s+n)e=r-s-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,i=this.leftWidth??0,s=t+i;let n=!1;if(s<e)return{columns:[],hasLockedPinned:n};const{visibleCols:r}=this.beans,c=[...r.leftCols],h=[...r.rightCols];let p=0,v=0;const b=0,R=[];let F=s-b-e;for(;(v<c.length||p<h.length)&&F>0;){if(p<h.length){const k=h[p++];if(k.colDef.lockPinned){n=!0;continue}F-=k.getActualWidth(),R.push(k)}if(v<c.length&&F>0){const k=c[v++];if(k.colDef.lockPinned){n=!0;continue}F-=k.getActualWidth(),R.push(k)}}return{columns:R,hasLockedPinned:n}}},XB={moduleName:"PinnedColumn",version:Ne,beans:[YB],css:[KB]},ZB=class extends ye{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=ls(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=as(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),sR(i,"polite"),$P(i,"additions text"),jP(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}​`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Zs(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},QB={moduleName:"Aria",version:Ne,beans:[ZB]},JB=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",q0="ag-delay-render",e2=class extends ye{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(q0)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:i}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}i.getGridBodyCtrl().eGridBody.classList.remove(q0),this.alreadyRevealed=!0}},t2={moduleName:"ColumnDelayRender",version:Ne,beans:[e2],css:[JB]};function i2(e){e.overlays?.showLoadingOverlay()}function s2(e){e.overlays?.showNoRowsOverlay()}function n2(e){e.overlays?.hideOverlay()}var o2=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",r2={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},fM=class extends wi{constructor(){super(r2),this.eOverlayWrapper=Xe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(o2)}handleKeyDown(e){if(e.key!==he.TAB||e.defaultPrevented||Xr(e))return;const t=this.beans;if(Nc(t,this.eOverlayWrapper,!1,e.shiftKey))return;let s=!1;e.shiftKey?s=t.focusSvc.focusGridView({column:Ut(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):s=Id(t,!1),s&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:s,NORMAL:n,PRINT:r}=oC;i.toggle(s,t.autoHeight),i.toggle(n,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new xb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){const n=vi(this.beans);n&&!Jx(this.beans)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!!n){if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,s)){const r=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:c})=>{r.refresh?.(tt(this.gos,{...c??{}}))})}i&&this.isGridFocused()&&Fc(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Zs(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=vi(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},a2={selector:"AG-OVERLAY-WRAPPER",component:fM},l2=class extends ye{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=_i(this.gos),this.isServerSide=!this.isClientSide&&Ic(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Te(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return a2}getOverlayWrapperCompClass(){return fM}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:i,beans:{gos:s,colModel:n,rowModel:r}}=this;let c=this.gos.get("loading");c!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&c===void 0&&!s.get("suppressLoadingOverlay")&&(c=!s.get("columnDefs")||!n.ready||!s.get("rowData")&&t),c?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!s.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(K1(this.beans.userCompFactory,tt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(q1(this.beans.userCompFactory,tt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){const s=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},c2={moduleName:"Overlay",version:Ne,userComponents:{agLoadingOverlay:PO,agNoRowsOverlay:kO},apiFunctions:{showLoadingOverlay:i2,showNoRowsOverlay:s2,hideOverlay:n2},beans:[l2]},u2=class extends ye{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Q1(),Dc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Dc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},d2=400,h2=class extends ye{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},s=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{nl(this.gos)?i():s()}),nl(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",s=>this.onSuppressCellFocusChanged(s.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:s,previousValue:n})=>{(!n&&s||n&&!s)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:i}=this.beans;if(i&&this.addManagedPropertyListener("showOpenedGroup",()=>{const s=i.getShowRowGroupCols();s.length&&this.refreshCells({columns:s,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const s=this.gridBodyCtrl;s.setStickyTopHeight(0),s.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=cs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new g2(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=this.cachedRowCtrls?.getEntries()??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}isCellBeingRendered(e,t){const i=this.rowCtrlsByRowIndex[e];return!t||!i?!!i:i.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!i.getCellCtrl(t)||!i.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const i=p=>{this.getAllCellCtrls().forEach(v=>{v.column===t&&p(v)})},s=()=>{i(p=>p.onLeftChanged())},n=()=>{i(p=>p.onWidthChanged())},r=()=>{i(p=>p.onFirstRightPinnedChanged())},c=()=>{i(p=>p.onLastLeftPinnedChanged())},h=()=>{i(p=>p.onColDefChanged())};t.__addEventListener("leftChanged",s),t.__addEventListener("widthChanged",n),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",c),t.__addEventListener("colDefChanged",h),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",s),t.__removeEventListener("widthChanged",n),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",c),t.__removeEventListener("colDefChanged",h)})})}onDomLayoutChanged(){const e=cs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellCtrl(e,!0)?.eGui;s&&t.push(s)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,i){const{pinnedRowModel:s,beans:n,printLayout:r}=this,c=Object.fromEntries(e.map(p=>[p.rowNode.id,p]));s?.forEachPinnedRow(t,(p,v)=>{const b=e[v];b&&s.getPinnedRowById(b.rowNode.id,t)===void 0&&(b.destroyFirstPass(),b.destroySecondPass()),p.id in c&&i?(e[v]=c[p.id],delete c[p.id]):e[v]=new WC(p,n,!1,!1,r)});const h=(t==="top"?s?.getPinnedTopRowCount():s?.getPinnedBottomRowCount())??0;e.length=h}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=s=>{const n=s[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&bd(this.gos),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r,gos:c}=this;if(r){r.checkStickyRows();const h=r.extraTopHeight+r.extraBottomHeight;h&&this.updateContainerHeights(h)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(c.get("enableRowPinning")?i:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(sr(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,i=this.findPositionToFocus(e);if(!i){t.focusHeaderPosition({headerPosition:{headerRowIndex:tr(this.beans)-1,column:e.column}});return}if(e.rowIndex!==i.rowIndex||e.rowPinned!=i.rowPinned){t.setFocusedCell({...i,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(tt(this.gos,{...i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:i}=this.beans;let s=e;for(s.rowPinned==null&&t&&i&&!t.isRowInPage(s.rowIndex)&&(s={rowPinned:null,rowIndex:i.getFirstRow()});s;){if(s.rowPinned==null&&i)if(s.rowIndex<i.getFirstRow()){if(s=VC(this.beans,{rowPinned:null,rowIndex:0}),!s)return null}else s.rowIndex>i.getLastRow()&&(s={rowPinned:null,rowIndex:i.getLastRow()});const n=this.getRowByPosition(s);if(n?.isAlive())return{...n.getRowPosition(),column:e.column};s=VC(this.beans,s)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const n=t[s].getAllCellCtrls(),r=n.length;for(let c=0;c<r;c++)e.push(n[c])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}refreshCells({rowNodes:e,columns:t,force:i,suppressFlash:s}={}){const n={force:i,newData:!1,suppressFlash:s};for(const r of this.getCellCtrls(e,t))r.refreshOrDestroyCell(n);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||(t=!0,this.redrawRow(i.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=Oy(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{const n=s.rowNode;return Iy(n,t)})}getCellCtrls(e,t){let i;He(t)&&(i={},t.forEach(n=>{const r=this.colModel.getCol(n);He(r)&&(i[r.getId()]=!0)}));const s=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(r=>{const c=r.column.getId();i&&!i[c]||s.push(r)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);const t={};for(const i of Object.values(this.rowCtrlsByRowIndex)){const s=i.rowNode;t[s.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:i}=this.beans,{afterScroll:s}=e;let n;const r=this.stickyRowFeature;r&&(n=t?.getFocusCellToUseAfterRefresh()||void 0);const c=this.firstRenderedRow,h=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let p=!1;if(r){p=r.checkStickyRows();const b=r.extraTopHeight+r.extraBottomHeight;b&&this.updateContainerHeights(b)}const v=this.firstRenderedRow!==c||this.lastRenderedRow!==h;if(!(s&&!p&&!v)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,s),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(s&&!p),n!=null)){const b=t?.getFocusCellToUseAfterRefresh();n!=null&&b==null&&(i?.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){const t=[];for(let c=this.firstRenderedRow;c<=this.lastRenderedRow;c++)t.push(c);const i=this.beans.pagination,s=this.beans.focusSvc?.getFocusedCell()?.rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&(!i||i.isRowInPage(s))&&s<this.rowModel.getRowCount()&&t.push(s);const n=c=>{const h=c.rowNode.rowIndex;h==null||h===s||(h<this.firstRenderedRow||h>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(c)&&t.push(h)};for(const c of Object.values(this.rowCtrlsByRowIndex))n(c);if(e)for(const c of Object.values(e))n(c);t.sort((c,h)=>c-h);const r=[];for(let c=0;c<t.length;c++){const h=t[c],p=this.rowModel.getRow(h);p&&!p.sticky&&r.push(h)}return r}recycleRows(e,t=!1,i=!1){const s=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t),s.forEach(n=>{this.createOrUpdateRowCtrl(n,e,t,i)}),e){const{animationFrameSvc:n}=this.beans;n?.active&&i&&!this.printLayout?n.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=Oy(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.rowNode;return!(t!=null&&!Iy(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let n,r=this.rowCtrlsByRowIndex[e];if(r||(n=this.rowModel.getRow(e),He(n)&&He(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null)),!r)if(n||(n=this.rowModel.getRow(e)),He(n))r=this.createRowCon(n,i,s);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];if(e){for(const s of Object.values(e))if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);continue}if(s.destroyFirstPass(!t),t){const n=s.instanceId;this.zombieRowCtrls[n]=s,i.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[n]})}else s.destroySecondPass()}}t&&(i.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>i.forEach(s=>s()),d2))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Cc(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let s,n;if(!i.isRowsToRender())s=0,n=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),s=t.getFirstRow(),n=t.getLastRow();else{const b=this.getRowBufferInPixels(),R=this.ctrlsSvc.getScrollFeature(),F=this.gos.get("suppressRowVirtualisation");let k=!1,O,V;do{const X=t.getPixelOffset(),{pageFirstPixel:Y,pageLastPixel:de}=t.getCurrentPagePixelRange(),re=e.divStretchOffset,ie=R.getVScrollPosition(),Fe=ie.top,Pe=ie.bottom;F?(O=Y+re,V=de+re):(O=Math.max(Fe+X-b,Y)+re,V=Math.min(Pe+X+b,de)+re),this.firstVisibleVPixel=Math.max(Fe+X,Y)+re,this.lastVisibleVPixel=Math.min(Pe+X,de)+re,k=this.ensureAllRowsInRangeHaveHeightsCalculated(O,V)}while(k);let _=i.getRowIndexAtPixel(O),W=i.getRowIndexAtPixel(V);const U=t.getFirstRow(),K=t.getLastRow();_<U&&(_=U),W>K&&(W=K),s=_,n=W}const r=cs(this.gos,"normal"),c=this.gos.get("suppressMaxRenderedRowRestriction"),h=Math.max(this.getRowBuffer(),500);r&&!c&&n-s>h&&(n=s+h);const p=s!==this.firstRenderedRow,v=n!==this.lastRenderedRow;(p||v)&&(this.firstRenderedRow=s,this.lastRenderedRow=n,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:s,lastRow:n}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ia(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.pinnedRowModel?.ensureRowHeightsValid(),s=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:n,rowModel:r}=this,c=r.ensureRowHeightsValid(e,t,n.getFirstRow(),n.getLastRow());return(c||s)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),s||c||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const s=e.rowNode,n=this.focusSvc.isRowFocused(s.rowIndex,s.rowPinned),r=this.editSvc?.isEditing(e),c=s.detail;return n||r||c?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,i){const s=this.cachedRowCtrls?.getRow(e)??null;if(s)return s;const n=i&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new WC(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(s=>s.rowNode),t=this.getStickyTopRowCtrls().map(s=>s.rowNode),i=this.getStickyBottomRowCtrls().map(s=>s.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},g2=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],zn(this.entriesList,i)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],zn(this.entriesList,e)}getEntries(){return this.entriesList}};function Oy(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}function Iy(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var p2=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Jo(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Jo(e))}doFullSort(e,t){const i=e.map((s,n)=>({currentPos:n,rowNode:s}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(s=>s.rowNode)}compareRowNodes(e,t,i){const s=t.rowNode,n=i.rowNode;for(let r=0,c=e.length;r<c;r++){const h=e[r],p=h.sort==="desc",v=this.getValue(s,h.column),b=this.getValue(n,h.column);let R;const F=this.getComparator(h,s);if(F?R=F(v,b,s,n,p):R=GP(v,b,this.isAccentedSort),!isNaN(R)&&R!==0)return h.sort==="asc"?R:R*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const n=!t.group&&i.getColDef().field;if(!n)return;const r=this.beans.colModel.getColDefCol(n);if(r)return r.getColDef().comparator}getValue(e,t){const{valueSvc:i,colModel:s,showRowGroupCols:n,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(PR(r,s.isPivotActive())){const v=e.allLeafChildren?.[0];return v?i.getValue(t,v,!1):void 0}const p=n?.getShowRowGroupCol(t.getId());return p?e.groupData?.[p.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function f2(e){e.sortSvc?.onSortChanged("api")}var mM={moduleName:"Sort",version:Ne,beans:[kG,p2],apiFunctions:{onSortChanged:f2},userComponents:{agSortIndicator:kb},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},m2=class extends ye{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Dc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,xd(e.source))}}};function C2(e){e.valueCache?.expire()}function v2(e,t){const{colKey:i,rowNode:s,useFormatter:n}=t,r=e.colModel.getColDefCol(i)??e.colModel.getCol(i);if(gi(r))return null;const c=e.valueSvc.getValueForDisplay(r,s,n);return n?c.valueFormatted??Vd(c.value):c.value}var w2="paste",y2=class extends ye{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;_i(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:i}=this.beans;if(e.source===w2||t.get("suppressChangeDetection"))return;const s=e.node,n=[s],r=this.clientSideRowModel,c=r?.rootNode;if(c&&!s.isRowPinned()){const h=t.get("aggregateOnlyChangedColumns"),p=new dp(h,c);p.addParentNode(s.parent,[e.column]),r.doAggregate(p),p.forEachChangedNodeDepthFirst(v=>{n.push(v),v.sibling&&n.push(v.sibling)})}i.refreshCells({rowNodes:n})}},b2=class extends ye{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);jt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return jt(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const i=this.createFunctionBody(e),s=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=s,s}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},S2=class extends ye{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){if(this.active){const s=this.cacheVersion;e.__cacheVersion!==s&&(e.__cacheVersion=s,e.__cacheData={}),e.__cacheData[t]=i}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},x2={moduleName:"ValueCache",version:Ne,beans:[S2],apiFunctions:{expireValueCache:C2}},R2={moduleName:"Expression",version:Ne,beans:[b2]},E2={moduleName:"ChangeDetection",version:Ne,beans:[y2]},M2={moduleName:"CellApi",version:Ne,apiFunctions:{getCellValue:v2}},D2=class extends ye{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEditSvc=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Ic(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,i=!1,s=!1,n="ui"){const{showRowGroupColValueSvc:r}=this.beans,c=!e&&t.group,h=e?.colDef.showRowGroup,p=!this.isTreeData||t.footer;if(r&&p&&(c||h)){const V=r.getGroupValue(t,e);if(V==null)return{value:null,valueFormatted:null};if(!i)return{value:V.value,valueFormatted:null};const _=r.formatAndPrefixGroupColValue(V,e,s);return{value:V.value,valueFormatted:_}}if(!e)return{value:t.key,valueFormatted:null};const v=t.leafGroup&&this.colModel.isPivotMode(),b=t.group&&t.expanded&&!t.footer&&!v,R=this.gos.get("groupSuppressBlankHeader")||!t.sibling,F=b&&!R,k=this.getValue(e,t,F,n),O=i&&!(s&&e.colDef.useValueFormatterForExport===!1);return{value:k,valueFormatted:O?this.formatValue(e,t,k):null}}getValue(e,t,i=!1,s="ui"){if(this.initialised||this.init(),!t)return;const n=e.getColDef(),r=n.field,c=e.getColId(),h=t.data;if(this.hasEditSvc&&s==="ui"){const V=this.editSvc;if(V.isEditing()){const _=V.getCellDataValue({rowNode:t,column:e},!0);if(_!==void 0)return _}}let p;const v=n.showRowGroup;if(typeof v=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(v)??-1)>t.level)return null;const b=typeof v!="string"||!t.group,R=t.groupData&&c in t.groupData,F=!i&&t.aggData&&t.aggData[c]!==void 0,k=this.isSsrm&&i&&!!n.aggFunc,O=this.isSsrm&&t.footer&&t.field&&(n.showRowGroup===!0||n.showRowGroup===t.field);if(this.isTreeData&&F)p=t.aggData[c];else if(this.isTreeData&&n.valueGetter)p=this.executeValueGetter(n.valueGetter,h,e,t);else if(this.isTreeData&&r&&h)p=Xg(h,r,e.isFieldContainsDots());else if(R)p=t.groupData[c];else if(F)p=t.aggData[c];else if(n.valueGetter&&!k){if(!b)return p;p=this.executeValueGetter(n.valueGetter,h,e,t)}else if(O)p=Xg(h,t.field,e.isFieldContainsDots());else if(r&&h&&!k){if(!b)return p;p=Xg(h,r,e.isFieldContainsDots())}if(this.cellExpressions&&typeof p=="string"&&p.indexOf("=")===0){const V=p.substring(1);p=this.executeValueGetter(V,h,e,t)}return p}parseValue(e,t,i,s){const n=e.getColDef(),r=n.valueParser;if(He(r)){const c=tt(this.gos,{node:t,data:t?.data,oldValue:s,newValue:i,colDef:n,column:e});return typeof r=="function"?r(c):this.expressionSvc?.evaluate(r,c)}return i}getDeleteValue(e,t){return He(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,i,s,n=!0){const{expressionSvc:r}=this.beans;let c=null,h;const p=e.getColDef();if(s?h=s:n&&(h=p.valueFormatter),h){const v=t?t.data:null,b=tt(this.gos,{value:i,node:t,data:v,colDef:p,column:e});typeof h=="function"?c=h(b):c=r?r.evaluate(h,b):null}else if(p.refData)return p.refData[i]||"";return c==null&&Array.isArray(i)&&(c=i.join(", ")),c}setValue(e,t,i,s){const n=this.colModel.getColDefCol(t);if(!e||!n)return!1;gi(e.data)&&(e.data={});const{field:r,valueSetter:c}=n.getColDef();if(gi(r)&&gi(c))return Te(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(n,i))return Te(135),!1;const h=tt(this.gos,{node:e,data:e.data,oldValue:this.getValue(n,e,void 0,s),newValue:i,colDef:n.getColDef(),column:n});h.newValue=i;let p;if(He(c)?typeof c=="function"?p=c(h):p=this.expressionSvc?.evaluate(c,h):p=this.setValueUsingField(e.data,r,i,n.isFieldContainsDots()),p===void 0&&(p=!0),!p)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const v=this.getValue(n,e);return this.dispatchCellValueChangedEvent(e,h,v,s),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,h,v,s),!0}dispatchCellValueChangedEvent(e,t,i,s){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:i,value:i,source:s})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(!s)n=e[t]===i,n||(e[t]=i);else{const r=t.split(".");let c=e;for(;r.length>0&&c;){const h=r.shift();r.length===0?(n=c[h]===i,n||(c[h]=i)):c=c[h]}}return!n}executeValueGetterWithValueCache(e,t,i,s){const n=i.getColId(),r=this.valueCache.getValue(s,n);if(r!==void 0)return r;const c=this.executeValueGetterWithoutValueCache(e,t,i,s);return this.valueCache.setValue(s,n,c),c}executeValueGetterWithoutValueCache(e,t,i,s){const n=tt(this.gos,{data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let r;return typeof e=="function"?r=e(n):r=this.expressionSvc?.evaluate(e,n),r}getValueCallback(e,t){const i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let n=i;if(s){const r=tt(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});n=s(r)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&Te(121)),n}},T2={moduleName:"CommunityCore",version:Ne,beans:[TG,uI,RN,v1,u2,HH,SG,QG,p1,$B,jB,h2,D2,MG,bG,DG,MN,m2,wN,yN,cB],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:dI,destroy:hI,isDestroyed:gI,getGridOption:pI,setGridOption:fI,updateGridOptions:zE,isModuleRegistered:mI},dependsOn:[mN,pH,bH,mM,oB,GH,rB,c2,E2,lB,UB,XB,QB,dB,xN,CN,R2,_H,t2]},CM={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Uw=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],F2={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Uw,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Uw,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Uw,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},P2={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function A2(e,t){const i=[];return(Array.isArray(e)?e:[e]).forEach(s=>{const n=F2[s];n?n.forEach(r=>{const c=P2[r];(!c||c===t)&&i.push(r)}):i.push(s)}),i}var vM=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,k2=e=>{const t=e.map(s=>`import { ${Zg(s)} } from '${CM[s]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(s=>s==="IntegratedCharts"||s==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(s=>Zg(s,!0)).join(", ")} ]); 

For more info see: ${yd}/modules/`};function Zg(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function L2(e,t){const i=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let s="";return!globalThis?.agCharts&&i.length>0?s=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>CM[r])&&(s=s+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),s}function wM({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var Y0=({reasonOrId:e,moduleName:t,gridScoped:i,gridId:s,rowModelType:n,additionalText:r,isUmd:c})=>{const h=A2(t,n),p=typeof e=="string"?e:N2[e];if(c)return L2(p,h);const v=h.filter(F=>F==="IntegratedCharts"||F==="Sparklines"),b=v.length>0?`${v.map(F=>Zg(F)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${p} as ${h.length>1?"one of "+h.map(F=>Zg(F)).join(", "):Zg(h[0])} is not registered${i?" for gridId: "+s:""}. ${b} Check if you have registered the module:
`}
${k2(h)}`+(r?` 

${r}`:"")},X0=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,O2=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,I2={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:i})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",i],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${O2(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:i,pageSizeOptions:s})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${i?"":" the default"} paginationPageSizeSelector=[${s?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:i,jsComps:s})=>{const n=[],r=[...Object.keys(i??[]).filter(h=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(h)),...Object.keys(s??[]).filter(h=>!!s[h])],c=vy({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return n.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),c.length>0&&n.push(`         Did you mean: [${c.slice(0,3)}]?
`),n.push("If using a custom component check it has been registered correctly."),n},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${yd}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const i=vy({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,i.length>0?`         Did you mean: [${i.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:i})=>["duplicate group keys for row data, keys should be unique",e,t,...i??[]],187:({rowId:e,firstData:t,secondData:i})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",i],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:Y0,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${yd}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>X0("IntegratedChartsModule"),258:()=>X0("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:i,gridId:s,rowModelType:n})=>Y0({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Dd[t],gridId:s,gridScoped:i,rowModelType:n}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${yd}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>vM(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:wM,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function H2(e,t){const i=I2[e];if(!i)return[`Missing error text for error id ${e}!`];const s=i(t),r=`
See ${RR(e,t)}`;return Array.isArray(s)?s.concat(r):[s,r]}var N2={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Z0=new WeakMap,Q0=new WeakMap,G2=1,B2=class{create(e,t,i,s,n,r){const c=vR.applyGlobalGridOptions(t),h=c.gridId??String(G2++),p=this.getRegisteredModules(n,h,c.rowModelType),v=this.createBeansList(c.rowModelType,p,h),b=this.createProvidedBeans(e,c,n);if(!v)return;const F={providedBeanInstances:b,beanClasses:v,id:h,beanInitComparator:rI,beanDestroyComparator:aI,derivedBeans:[nI],destroyCallback:()=>{Q0.delete(O),Z0.delete(e),PN(h),r?.()}},k=new Zk(F);this.registerModuleFeatures(k,p),i(k),k.getBean("syncSvc").start(),s?.(k);const O=k.getBean("gridApi");return Z0.set(e,O),Q0.set(O,e),O}getRegisteredModules(e,t,i){return hp(T2,void 0,!0),e?.modules?.forEach(s=>hp(s,t)),AN(t,J0(i))}registerModuleFeatures(e,t){const i=e.getBean("registry"),s=e.getBean("apiFunctionSvc");t.forEach(n=>{i.registerModule(n);const r=n.apiFunctions;r&&Object.keys(r).forEach(h=>{s?.addFunction(h,r[h])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;gi(s)&&(s=new BE);const n={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(e,t,i){const s={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},n=J0(e),r=s[n];if(!r){Wg(201,{rowModelType:n},`Unknown rowModelType ${n}.`);return}if(!ON()){Wg(272,void 0,vM());return}if(!e){const h=Object.entries(s).filter(([p,v])=>Ay(v,i,p));if(h.length==1){const[p,v]=h[0];if(p!==n){const b={moduleName:v,rowModelType:p};Wg(275,b,wM(b));return}}}if(!Ay(r,i,n)){Wg(200,{reasonOrId:`rowModelType = '${n}'`,moduleName:r,gridScoped:Pb(),gridId:i,rowModelType:n},`Missing module ${r}Module for rowModelType ${n}.`);return}const c=new Set;return t.forEach(h=>h.beans?.forEach(p=>c.add(p))),Array.from(c)}};function J0(e){return e??"clientSide"}var V2=class extends ye{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?CA(t):vA(e.get("localeText"))}};function z2(e,t=!1){const i=[],s=[],n=[],r=[],c=[],h=[],p=[],v=[],b=[];let R=0;for(let F=0;F<e.length;F++){const{colId:k,sort:O,sortIndex:V,rowGroup:_,rowGroupIndex:W,aggFunc:U,pivot:K,pivotIndex:X,pinned:Y,hide:de,width:re,flex:ie}=e[F];b.push(k),O&&(i[V??R++]={colId:k,sort:O}),_&&(s[W??0]=k),typeof U=="string"&&n.push({colId:k,aggFunc:U}),K&&(r[X??0]=k),Y&&(Y==="right"?h:c).push(k),de&&p.push(k),(ie!=null||re)&&v.push({colId:k,flex:ie??void 0,width:re})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:s.length?{groupColIds:s}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:c.length||h.length?{leftColIds:c,rightColIds:h}:void 0,columnVisibility:p.length?{hiddenColIds:p}:void 0,columnSizing:v.length?{columnSizingModel:v}:void 0,columnOrder:b.length?{orderedColIds:b}:void 0}}function _2(e){const t=[];return e.forEach(({groupId:i,open:s})=>{s&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}var W2=class{wrap(e,t,i,s){const n=this.createWrapper(e,s);return t?.forEach(r=>{this.createMethod(n,r,!0)}),i?.forEach(r=>{this.createMethod(n,r,!1)}),n}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&Te(49,{methodName:t}),null)}}};function jw(e){return e.get("tooltipShowMode")==="whenTruncated"}function U2(e,t){if(typeof e!="number")return"";const i=t(),s=i("thousandSeparator",","),n=i("decimalSeparator",".");return e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${s}`)}var j2=class extends ye{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},$2=class{constructor(e){const{colModel:t,rowGroupColsSvc:i,colNames:s,valueSvc:n,gos:r,processCellCallback:c,processHeaderCallback:h,processGroupHeaderCallback:p,processRowGroupCallback:v}=e;this.colModel=t,this.rowGroupColsSvc=i,this.colNames=s,this.valueSvc=n,this.gos=r,this.processCellCallback=c,this.processHeaderCallback=h,this.processGroupHeaderCallback=p,this.processRowGroupCallback=v}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,n){const r=t===0&&AR(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||n.group)&&(e.isRowGroupDisplayed(n.rowGroupColumn?.getColId()??"")||r))return{value:this.processRowGroupCallback(tt(this.gos,{column:e,node:n}))??""};if(this.processCellCallback)return{value:this.processCellCallback(tt(this.gos,{accumulatedRowIndex:i,column:e,node:n,value:this.valueSvc.getValueForDisplay(e,n,void 0,void 0).value,type:s,parseValue:F=>this.valueSvc.parseValue(e,n,F,this.valueSvc.getValue(e,n,void 0)),formatValue:F=>this.valueSvc.formatValue(e,n,F)??F}))??""};const c=this.gos.get("treeData"),h=this.valueSvc,p=n.level===-1&&n.footer,v=e.colDef.showRowGroup===!0&&(n.group||c);if(!p&&(r||v)){let F="",k=n;for(;k&&k.level!==-1;){const{value:O,valueFormatted:V}=h.getValueForDisplay(r?void 0:e,k,!0,!0);F=` -> ${V??O??""}${F}`,k=k.parent}return{value:F,valueFormatted:F}}const{value:b,valueFormatted:R}=h.getValueForDisplay(e,n,!0,!0);return{value:b??"",valueFormatted:R}}getHeaderName(e,t){return e?e(tt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function K2(e,t){const i=document.defaultView||window;if(!i){Te(52);return}const s=document.createElement("a"),n=i.URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}var q2={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Ys="clientSide",Cs="serverSide",hd="infinite",Y2={onGroupExpandedOrCollapsed:[Ys],refreshClientSideRowModel:[Ys],isRowDataEmpty:[Ys],forEachLeafNode:[Ys],forEachNodeAfterFilter:[Ys],forEachNodeAfterFilterAndSort:[Ys],resetRowHeights:[Ys,Cs],applyTransaction:[Ys],applyTransactionAsync:[Ys],flushAsyncTransactions:[Ys],getBestCostNodeSelection:[Ys],getServerSideSelectionState:[Cs],setServerSideSelectionState:[Cs],applyServerSideTransaction:[Cs],applyServerSideTransactionAsync:[Cs],applyServerSideRowData:[Cs],retryServerSideLoads:[Cs],flushServerSideAsyncTransactions:[Cs],refreshServerSide:[Cs],getServerSideGroupLevelState:[Cs],refreshInfiniteCache:[hd],purgeInfiniteCache:[hd],getInfiniteRowCount:[hd],isLastRowIndexKnown:[hd,Cs],expandAll:[Ys,Cs],collapseAll:[Ys,Cs],onRowHeightChanged:[Ys,Cs],setRowCount:[hd,Cs],getCacheBlockState:[hd,Cs]},X2={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Z2(e,t,i){const s=X2[e];if(s){const{version:r,new:c,old:h,message:p}=s,v=h??e;return(...b)=>{const R=c?`Please use ${c} instead. `:"";return qg(`Since ${r} api.${v} is deprecated. ${R}${p??""}`),t.apply(t,b)}}const n=Y2[e];return n?(...r)=>{const c=i.rowModel.getType();if(!n.includes(c)){wd(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,r)}:t}var Q2={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},J2={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},eV={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},tV=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),iV=class extends ye{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,MA(H2)}warnOnInitialPropertyUpdate(e,t){e==="api"&&q2[t]&&Te(22,{key:t})}processGridOptions(e){this.processOptions(e,YG())}validateApiFunction(e,t){return Z2(e,t,this.beans)}missingUserComponent(e,t,i,s){const n=Dd[t];n?this.gos.assertModuleRegistered(n,`AG Grid '${e}' component: ${t}`):Te(101,{propertyName:e,componentName:t,agGridDefaults:i,jsComps:s})}missingDynamicBean(e){const t=Q2[e];return t?sr(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){nV.has(e)&&Te(10,{eventType:e})}validateIcon(e){if(tV.has(e)&&Te(43,{iconName:e}),J2[e])return;const t=eV[e];if(t){jt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Pb(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Te(134,{iconName:e})}isProvidedUserComp(e){return!!Dd[e]}validateColDef(e){this.processOptions(e,GG())}processOptions(e,t){const{validations:i,deprecations:s,allProperties:n,propertyExceptions:r,objectName:c,docsUrl:h}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(s)],n,c,h);const p=new Set;Object.keys(e).forEach(b=>{const R=s[b];if(R){const{message:U,version:K}=R;p.add(`As of v${K}, ${String(b)} is deprecated. ${U??""}`)}const F=e[b];if(F==null||F===!1)return;const k=i[b];if(!k)return;const{dependencies:O,validate:V,supportedRowModels:_,expectedType:W}=k;if(W){const U=typeof F;if(U!==W){p.add(`${String(b)} should be of type '${W}' but received '${U}' (${F}).`);return}}if(_){const U=this.gridOptions.rowModelType??"clientSide";if(!_.includes(U)){p.add(`${String(b)} is not supported with the '${U}' row model. It is only valid with: ${_.join(", ")}.`);return}}if(O){const U=this.checkForRequiredDependencies(b,O,e);if(U){p.add(U);return}}if(V){const U=V(e,this.gridOptions,this.beans);if(U){p.add(U);return}}}),p.size>0&&p.forEach(b=>{qg(b)})}checkForRequiredDependencies(e,t,i){const n=Object.entries(t).filter(([r,c])=>{const h=i[r];return!c.required.includes(h)});return n.length===0?null:n.map(([r,c])=>`'${String(e)}' requires '${r}' to be one of [${c.required.map(h=>h===null?"null":h===void 0?"undefined":h).join(", ")}]. ${c.reason??""}`).join(`
           `)}checkProperties(e,t,i,s,n){const r=["__ob__","__v_skip","__metadata__"],c=sV(Object.getOwnPropertyNames(e),[...r,...t,...i],i),h=Object.keys(c);for(const p of h){const v=c[p];let b=`invalid ${s} property '${p}' did you mean any of these: ${v.slice(0,8).join(", ")}.`;i.includes("context")&&(b+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),qg(b)}if(h.length>0&&n){const p=this.beans.frameworkOverrides.getDocLink(n);qg(`to see all the valid ${s} properties please check: ${p}`)}}};function sV(e,t,i){const s={},n=e.filter(r=>!t.some(c=>c===r));return n.length>0&&n.forEach(r=>s[r]=vy({inputValue:r,allSuggestions:i}).values),s}var nV=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),oV={moduleName:"Validation",version:Ne,beans:[iV]};function yM(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var rV=class extends ye{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(s,n)=>{s.hasChildren()&&e&&!n?s.childrenAfterFilter=s.childrenAfterGroup.filter(r=>{const c=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,h=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return c||h}):s.childrenAfterFilter=s.childrenAfterGroup,yM(s)};if(this.doingTreeDataFiltering()){const s=(r,c)=>{if(r.childrenAfterGroup)for(let h=0;h<r.childrenAfterGroup.length;h++){const p=r.childrenAfterGroup[h],v=c||this.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?s(r.childrenAfterGroup[h],v):i(p,v)}i(r,c)},n=r=>s(r,!1);t.executeFromRootNode(n)}else{const s=n=>i(n,!1);t.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},aV=class extends Fb{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,i,s,n){this.comp=e;const r=Sp(this,this.beans.context,n);this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r);const c=()=>this.onColDefChanged(r);r.addManagedListeners(this.column,{colDefChanged:c}),r.addManagedEventListeners({filterSwitched:({column:h})=>{h===this.column&&c()}}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,i=e.colDef;return tt(t.gos,{colDef:i,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Bn("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new _d(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();Ad(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(vi(t)===this.eGui)return;const n=Nc(t,this.eGui,null,e.shiftKey);if(n){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case he.UP:case he.DOWN:case he.LEFT:case he.RIGHT:if(t)return;Ac(e);case he.ENTER:t&&Fc(this.eGui)&&e.preventDefault();break;case he.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&fc(e.relatedTarget,"ag-floating-filter");if(i&&s&&e.target===this.eGui){const n=this.lastFocusEvent,r=!!(n&&n.key===he.TAB);if(n&&r){const c=n.shiftKey;Fc(this.eGui,c)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Tb(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!dn(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:i,gos:s}=this,n=r=>{if(r?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const c=this.comp.getFloatingFilterComp();c&&c.then(h=>{if(h){if(s.get("enableFilterHandlers")){const b=r;let R="filter";b?.afterFloatingFilter?R="ui":b?.afterDataChange?R="dataChanged":r?.source==="api"&&(R="api"),this.updateFloatingFilterParams(this.userCompDetails,R);return}const p=t?.getCurrentFloatingFilterParentModel(i),v=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;h.onParentModelChanged(p,v)}})};[this.destroySyncListener]=e.addManagedListeners(i,{filterChanged:n}),t?.isFilterActive(i)&&n(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.beans.colFilter,n=this.active?s?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!n?this.updateCompDetails(e,n,i):r.then(c=>{!c||s?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n,"colDef")})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let i=e.params;this.comp.getFloatingFilterComp()?.then(s=>{typeof s?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(i={...i,model:Xi(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),s.refresh(i))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function lV(e,t){const i=e.colModel.getCol(t);if(!i){jt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:i,positionBy:"auto"})}function cV(e){e.menuSvc?.hidePopupMenu()}var uV={moduleName:"SharedMenu",version:Ne,beans:[TO],apiFunctions:{showColumnMenu:lV,hidePopupMenu:cV}},dV=class extends aL{postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getDefaultPopupParent(){return this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i,event:s}=e,n=t.getBoundingClientRect(),r=this.getParentRect();this.setAlignedTo(t,i);let c=!1;const h=()=>{const p=this.keepXYWithinBounds(i,n.top-r.top,0),v=i.clientWidth>0?i.clientWidth:200;c||(i.style.minWidth=`${v}px`,c=!0);const R=r.right-r.left-v;let F;return this.gos.get("enableRtl")?(F=O(),F<0&&(F=k(),this.setAlignedStyles(i,"left")),F>R&&(F=0,this.setAlignedStyles(i,"right"))):(F=k(),F>R&&(F=O(),this.setAlignedStyles(i,"right")),F<0&&(F=0,this.setAlignedStyles(i,"left"))),{x:F,y:p};function k(){return n.right-r.left-2}function O(){return n.left-r.left-v}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:h,postProcessCallback:()=>this.callPostProcessPopup(e,"subMenu",i,t,s instanceof MouseEvent?s:void 0)})}callPostProcessPopup(e,t,i,s,n){const r=this.gos.getCallback("postProcessPopup");if(r){const{column:c,rowNode:h}=e;r({column:c,rowNode:h,ePopup:i,type:t,eventSource:s,mouseEvent:n})}}getActivePopups(){return this.popupList.map(e=>e.element)}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const i of this.popupList)t.applyThemeClasses(i.wrapper)}}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Xr(e)}},lv={moduleName:"Popup",version:Ne,beans:[dV]},hV=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function gV(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function pV(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function fV(e,t){const i=e.colModel.getColDefCol(t);if(i)return e.colFilter?.destroyFilter(i,"api")}function mV(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function CV(e){return e.filterManager?.getFilterModel()??{}}function vV(e,t,i){const{gos:s,colModel:n,colFilter:r}=e;i&&!s.get("enableFilterHandlers")&&(Te(288),i=!1);const c=n.getColDefCol(t);return c?r?.getModelForColumn(c,i)??null:null}function wV(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function yV(e,t){const i=e.colModel.getCol(t);if(!i){jt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function bV(e){e.menuSvc?.hideFilterMenu()}function SV(e,t){const i=e.colModel.getCol(t);if(!i){jt(12,{colKey:t});return}return e.colFilter?.getHandler(i,!0)}function xV(e,t){const{colModel:i,colFilter:s,gos:n}=e;if(!n.get("enableFilterHandlers")){Te(287);return}const{colId:r,action:c}=t;if(r){const h=i.getColById(r);h&&s?.updateModel(h,c)}else s?.updateAllModels(c)}var RV={filterHandler:()=>({doesFilterPass:()=>!0})},EV=class extends ye{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...CE},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",i){const{colModel:s,dataTypeSvc:n,filterManager:r}=this.beans;if(n?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const c=[],h=this.getModel(!0);if(e){const p=new Set(Object.keys(e));this.allColumnFilters.forEach((v,b)=>{const R=e[b];c.push(this.setModelOnFilterWrapper(v,R)),p.delete(b)}),p.forEach(v=>{const b=s.getColDefCol(v)||s.getCol(v);if(!b){Te(62,{colId:v});return}if(!b.isFilterAllowed()){Te(63,{colId:v});return}const R=this.getOrCreateFilterWrapper(b,!0);if(!R){Te(64,{colId:v});return}c.push(this.setModelOnFilterWrapper(R,e[v],!0))})}else this.model={},this.allColumnFilters.forEach(p=>{c.push(this.setModelOnFilterWrapper(p,null))});Rt.all(c).then(()=>{const p=this.getModel(!0),v=[];this.allColumnFilters.forEach((b,R)=>{const F=h?h[R]:null,k=p?p[R]:null;ip(F,k)||v.push(b.column)}),v.length>0?r?.onFilterChanged({columns:v,source:t}):i&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:i,initialModel:s,beans:{colModel:n}}=this;if(i.forEach((r,c)=>{const h=this.getModelFromFilterWrapper(r);He(h)&&(t[c]=h)}),!e)for(const r of Object.keys(s)){const c=s[r];He(c)&&!i.has(r)&&n.getCol(r)?.isFilterAllowed()&&(t[r]=c)}return t}setState(e,t,i="api"){if(this.state.clear(),t)for(const s of Object.keys(t)){const n=t[s];this.state.set(s,{model:Xi(this.model,s),state:n})}this.setModel(e,i,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let i=!1;return e.forEach((s,n)=>{const r=s.state;r!=null&&(i=!0,t[n]=r)}),i?t:void 0}getModelFromFilterWrapper(e){const i=e.column.getColId();if(e.isHandler)return Xi(this.model,i);const s=e.filter;return s?typeof s.getModel!="function"?(Te(66),null):s.getModel():Xi(this.initialModel,i)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=v=>v?v.isFilterActive?v.isFilterActive():(Te(67),!1):!1,{colModel:t,gos:i}=this.beans,s=!!dy(i),n=v=>{if(!v.isPrimary())return!0;const R=!t.isPivotActive();return!v.isValueActive()||!R?!1:t.isPivotMode()?!0:s},r=[],c=[],h=(v,b,R)=>{b&&(n(v)?r.push(R):c.push(R))},p=[];return this.allColumnFilters.forEach(v=>{const b=v.column,R=b.getColId();if(v.isHandler)p.push(Rt.resolve().then(()=>{h(b,this.isHandlerActive(b),{colId:R,isHandler:!0,handler:v.handler,handlerParams:v.handlerParams})}));else{const F=Ya(v);F&&p.push(F.then(k=>{h(b,e(k),{colId:R,isHandler:!1,comp:k})}))}}),Rt.all(p).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=c})}updateFilterFlagInColumns(e,t){const i=[];return this.allColumnFilters.forEach(s=>{const n=s.column;if(s.isHandler)i.push(Rt.resolve().then(()=>{this.setColFilterActive(n,this.isHandlerActive(n),e,t)}));else{const r=Ya(s);r&&i.push(r.then(c=>{this.setColFilterActive(n,c.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Rt.all(i)}doFiltersPass(e,t,i){const{data:s,aggData:n}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,c=i?n:s,h=this.model;for(let p=0;p<r.length;p++){const v=r[p],{colId:b,isHandler:R}=v;if(b!==t)if(R){const{handler:F,handlerParams:k}=v;if(!F.doesFilterPass({node:e,data:c,model:Xi(h,b),handlerParams:k}))return!1}else{const F=v.comp;if(typeof F.doesFilterPass!="function"){jt(91);continue}if(!F.doesFilterPass({node:e,data:c}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:i}=this.beans,s=()=>{this.isAlive()&&i?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(s,0):s()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:i}=e,s=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{const{column:r,isHandler:c}=n;s!==r.getColId()&&(c&&n.handler.onAnyFilterChanged?.(),Ya(n,c)?.then(h=>{typeof h?.onAnyFilterChanged=="function"&&h.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(i=>{const s=i.isHandler;s&&i.handler.onNewRowsLoaded?.();const n=Ya(i,s);n&&t.push(n.then(r=>{r.onNewRowsLoaded?.()}))}),Rt.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:i,colModel:s}=this.beans;return(n,r)=>{const c=r?s.getCol(r):e;return c?i.getValue(c,n,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const i=t?.filter;return i?i.isFilterActive():Xi(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=He(Xi(this.model,e.getColId()));if(t)return t;const i=this.beans.groupFilter;return i?.isGroupFilter(e)?i.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Ya(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const i=Ya(t);return i?i.then(s=>({comp:s,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const i=this.getOrCreateFilterWrapper(e,t);return i?.isHandler?i.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let i=this.cachedFilter(e);return!i&&t&&(i=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return zA(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":TL(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,i,s,n,r){const c=()=>{const v=this.createFilterCompParams(e,n,r),b=s(v,n);return j1(this.beans.userCompFactory,t,b,i)},h=c();return h?{compDetails:h,createFilterUi:v=>(v?c():h).newAgStackInstance()}:null}createFilterInstance(e,t,i,s){const n=this.beans.selectableFilter;n?.isSelectable(t)&&(t=n.getFilterDef(e,t));const{handler:r,handlerParams:c,handlerGenerator:h}=this.createHandler(e,t,i)??{},p=this.createFilterComp(e,t,i,s,!!r,"init");if(!p)return{compDetails:null,createFilterUi:null,handler:r,handlerGenerator:h,handlerParams:c};const{compDetails:v,createFilterUi:b}=p;return this.isGlobalButtons&&(v.params?.buttons?.length||Te(281,{colId:e.getColId()})),{compDetails:v,handler:r,handlerGenerator:h,handlerParams:c,createFilterUi:b}}createBaseFilterParams(e,t){const{filterManager:i,rowModel:s}=this.beans;return tt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:n=>i?.doesRowPassOtherFilters(e.getColId(),n)??!0,rowModel:s})}createFilterCompParams(e,t,i,s){const n=this.filterChangedCallbackFactory(e),r=this.createBaseFilterParams(e,s);if(r.filterChangedCallback=n,r.filterModifiedCallback=s?()=>{}:c=>this.filterModified(e,c),t){const c=r,h=e.getColId(),p=Xi(this.model,h);c.model=p,c.state=this.state.get(h)??{model:p},c.onModelChange=(v,b)=>{this.updateStoredModel(h,v),this.refreshHandlerAndUi(e,v,"ui").then(()=>{n({...b,source:"columnFilter"})})},c.onStateChange=v=>{this.updateState(e,v),this.updateOrRefreshFilterUi(e)},c.onAction=(v,b,R)=>{this.updateModel(e,v,b),this.dispatchLocalEvent({type:"filterAction",column:e,action:v,event:R})},c.getHandler=()=>this.getHandler(e,!0),c.onUiChange=v=>this.filterUiChanged(e,v),c.source=i}return r}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,i){const s=t(),n={created:!0,create:t,filterParams:e.params,compDetails:e,promise:s};return s.then(i),n}createFilterWrapper(e){const{compDetails:t,handler:i,handlerGenerator:s,handlerParams:n,createFilterUi:r}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),h=>h),c=e.getColId();if(i)return delete this.initialModel[c],i.init?.({...n,source:"init",model:Xi(this.model,c)}),{column:e,isHandler:!0,handler:i,handlerGenerator:s,handlerParams:n,filterUi:this.createFilterUiForHandler(t,r)};if(r){const h={column:e,filterUi:null,isHandler:!1};return h.filterUi=this.createFilterUiLegacy(t,r,p=>{h.filter=p??void 0}),h}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,i){const{gos:s,frameworkOverrides:n,registry:r}=this.beans;let c;const h=k=>{const O=k.filter;if(YR(O)){const V=O.handler;return V||(c=O.doesFilterPass,c?()=>({doesFilterPass:c}):void 0)}return typeof O=="string"?O:void 0},p=s.get("enableFilterHandlers"),v=p?h(t):void 0,b=k=>()=>this.createBean(r.createDynamicBean(k,!0));let R,F;if(typeof v=="string"){const k=s.get("filterHandlers")?.[v];k!=null?R=k:mL.has(v)&&(R=b(v),F=v)}else R=v;if(!R){let k;const{compName:O,jsComp:V,fwComp:_}=QR(n,t);O?k=O:V==null&&_==null&&t.filter===!0&&(k=i),F=this.handlerMap[k],F&&(R=b(F))}return R?{filterHandler:R,handlerNameOrCallback:c??F}:p?(_i(s)&&Te(277,{colId:e.getColId()}),RV):void 0}createHandler(e,t,i){const s=this.createHandlerFunc(e,t,i);if(!s)return;const n=bw(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:r,filterHandler:c}=s,{handler:h,handlerParams:p}=this.createHandlerFromFunc(e,c,n);return{handler:h,handlerParams:p,handlerGenerator:r??c}}createHandlerFromFunc(e,t,i){const s=e.getColDef(),n=t(tt(this.gos,{column:e,colDef:s})),r=this.createHandlerParams(e,i);return{handler:n,handlerParams:r}}createHandlerParams(e,t){const i=e.getColDef(),s=e.getColId(),n=this.filterChangedCallbackFactory(e);return tt(this.gos,{colDef:i,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:r=>this.beans.filterManager?.doesRowPassOtherFilters(s,r)??!0,onModelChange:(r,c)=>{this.updateStoredModel(s,r),this.refreshHandlerAndUi(e,r,"handler").then(()=>{n({...c,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:i,groupFilter:s}=this.beans;this.allColumnFilters.forEach((r,c)=>{let h;r.column.isPrimary()?h=t.getColDefCol(c):h=t.getCol(c),!(h&&h===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(c))});const n=s&&e.every(r=>s.isGroupFilter(r));e.length>0&&!n&&i?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const i=this.beans.groupFilter;return i?.isGroupFilter(e)?i.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:i,frameworkOverrides:s,selectableFilter:n}=this.beans,r=F=>{const k=this.getOrCreateFilterUi(e);k?.then(O=>{F(cp(O))})},c=e.getColDef(),h=n?.isSelectable(c)?n.getFilterDef(e,c):c,p=LL(s,h,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",v=this.gos.get("enableFilterHandlers"),b=bw(i,h,this.createFilterCompParams(e,v,"init",!0)),R=tt(this.gos,{column:e,filterParams:b,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t});if(v){const F=R,k=e.getColId(),O=this.filterChangedCallbackFactory(e);F.onUiChange=V=>this.floatingFilterUiChanged(e,V),F.model=Xi(this.model,k),F.onModelChange=(V,_)=>{this.updateStoredModel(k,V),this.refreshHandlerAndUi(e,V,"floating",!0).then(()=>{O({..._,source:"columnFilter"})})},F.getHandler=()=>this.getHandler(e,!0),F.source="init"}return X1(i,c,R,p)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,i,s){if(e.isHandler){const n=t.getColId();delete this.initialModel[n],this.state.delete(n);const r=e.filterUi,c=this.createFilterUiForHandler(i,s);e.filterUi=c,r?.created&&r.promise.then(h=>{this.destroyBean(h),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialModel[i],s&&this.disposeFilterWrapper(s,t).then(n=>{n&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let i=!1;const{column:s,isHandler:n,filterUi:r}=e,c=s.getColId();n&&(i=this.isHandlerActive(s),this.destroyBean(e.handler),delete this.model[c],this.state.delete(c));const h=()=>{this.setColFilterActive(s,!1,"filterDestroyed"),this.allColumnFilters.delete(c),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:s})};if(r){if(r.created)return r.promise.then(p=>(i=n?i:!!p?.isFilterActive(),this.destroyBean(p),h(),i));h()}return Rt.resolve(i)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const i=this.allColumnFilters.get(e);if(!i)return;const s=this.beans,n=i.column,r=n.getColDef(),c=n.isFilterAllowed(),h=this.getDefaultFilter(n),p=s.selectableFilter,v=p?.isSelectable(r)?p.getFilterDef(n,r):r,b=c?this.createHandlerFunc(n,v,this.getDefaultFilter(n)):void 0,R=!!b,F=i.isHandler;if(F!=R){this.destroyFilter(n,"paramsUpdated");return}const{compDetails:k,createFilterUi:O}=(c?this.createFilterComp(n,v,h,_=>_,R,"colDef"):null)??{compDetails:null,createFilterUi:null},V=k?.params??bw(s.userCompFactory,v,this.createFilterCompParams(n,R,"colDef"));if(F){const _=b?.handlerNameOrCallback??b?.filterHandler,W=Xi(this.model,e);if(i.handlerGenerator!=_){const U=i.handler,{handler:K,handlerParams:X}=this.createHandlerFromFunc(n,b.filterHandler,V);i.handler=K,i.handlerParams=X,i.handlerGenerator=_,delete this.model[e],K.init?.({...X,source:"init",model:null}),this.destroyBean(U),W!=null&&this.beans.filterManager?.onFilterChanged({columns:[n],source:t})}else{const U=this.createHandlerParams(n,k?.params);i.handlerParams=U,i.handler.refresh?.({...U,source:"colDef",model:W})}}if(this.areFilterCompsDifferent(i.filterUi?.compDetails??null,k)||!i.filterUi||!k){this.destroyFilterUi(i,n,k,O);return}i.filterUi.filterParams=V,Ya(i,F)?.then(_=>{(_?.refresh?_.refresh(V):!0)===!1?this.destroyFilterUi(i,n,k,O):this.dispatchLocalEvent({type:"filterParamsChanged",column:n,params:V})})}refreshHandlerAndUi(e,t,i,s){const n=this.cachedFilter(e);if(!n)return s&&this.getOrCreateFilterWrapper(e,!0),Rt.resolve();if(!n.isHandler)return Rt.resolve();const{filterUi:r,handler:c,handlerParams:h}=n;return CL(()=>{if(r){const{created:p,filterParams:v}=r;if(p)return r.promise.then(b=>b?{filter:b,filterParams:v}:void 0);r.refreshed=!0}return Rt.resolve(void 0)},c,h,t,this.state.get(e.getColId())??{model:t},i)}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||i?.render&&s?.render&&i.render===s.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const i=this.getOrCreateFilterUi(t);return i?new Promise(s=>{i.then(n=>{s(cp(n))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:i})=>{this.setModelForColumn(e,t).then(()=>i())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:s,model:n}=this,r=e.getColId(),c=s.get(r);return c?c.model??null:Xi(n,r)}const i=this.cachedFilter(e);return i?this.getModelFromFilterWrapper(i):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let i=()=>{};const s=new Promise(n=>{i=n});return this.columnModelUpdates.push({key:e,model:t,resolve:i}),s}return new Promise(i=>{this.setModelForColumnLegacy(e,t).then(s=>i(s))})}getStateForColumn(e){return this.state.get(e)??{model:Xi(this.model,e)}}setModelForColumnLegacy(e,t){const i=this.beans.colModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i,!0):null;return s?this.setModelOnFilterWrapper(s,t):Rt.resolve()}setColDefPropsForDataType(e,t,i){const s=e.filter,n=s===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):s;if(typeof n!="string")return;let r,c;const h=this.beans,{filterParams:p,filterValueGetter:v}=e;n==="agMultiColumnFilter"?{filterParams:r,filterValueGetter:c}=h.multiFilter?.getParamsForDataType(p,v,t,i)??{}:{filterParams:r,filterValueGetter:c}=EL(n,p,v,t,i,h,this.getLocaleTextFunc()),e.filterParams=r,c&&(e.filterValueGetter=c)}setColFilterActive(e,t,i,s){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",i)),e.dispatchColEvent("filterChanged",i,s)}setModelOnFilterWrapper(e,t,i){return new Rt(s=>{if(e.isHandler){const r=e.column,c=r.getColId(),h=this.model[c];if(this.updateStoredModel(c,t),i&&t===h){s();return}this.refreshHandlerAndUi(r,t,"api").then(()=>s());return}const n=Ya(e);if(n){n.then(r=>{if(typeof r?.setModel!="function"){Te(65),s();return}(r.setModel(t)||Rt.resolve()).then(()=>s())});return}s()})}updateStoredModel(e,t){He(t)?this.model[e]=t:delete this.model[e];const i=this.state.get(e),s={model:t,state:i?.state};this.state.set(e,s)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(i=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:i,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,i){const s=e.getColId(),n=this.cachedFilter(e),r=()=>n?.filterUi;h0(t,r,()=>Xi(this.model,s),()=>this.state.get(s),c=>this.updateState(e,c),c=>r()?.filterParams?.onModelChange(c,i),n?.isHandler?n.handler.processModelToApply?.bind(n.handler):void 0)}updateAllModels(e,t){const i=[];this.allColumnFilters.forEach((s,n)=>{const r=this.beans.colModel.getColDefCol(n);r&&h0(e,()=>s.filterUi,()=>Xi(this.model,n),()=>this.state.get(n),c=>this.updateState(r,c),c=>{this.updateStoredModel(n,c),this.dispatchLocalEvent({type:"filterAction",column:r,action:e}),i.push(this.refreshHandlerAndUi(r,c,"ui"))},s?.isHandler?s.handler.processModelToApply?.bind(s.handler):void 0)}),i.length&&Rt.all(i).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();wE(()=>this.cachedFilter(e)?.filterUi,()=>Xi(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:i}=this;for(const n of i)if(n.source==="COLUMN_MENU")return!1;let s=!1;for(const n of e.keys()){const r=e.get(n);if(r.valid===!1)return!1;(r.model??null)!==Xi(t,n)&&(s=!0)}return s}hasUnappliedModel(e){const{model:t,state:i}=this;return(i.get(e)?.model??null)!==Xi(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const i=this.beans.filterPanelSvc;return i?.isActive?!!i.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function MV(e){return!!e.filterManager?.isAnyFilterPresent()}function DV(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var TV=class extends ye{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:s})=>this.onAdvFilterEnabledChanged(s),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:i}=this;this.alwaysPassFilter=i.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=i.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,i="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,i)}setFilterModel(e,t="api",i){if(this.isAdvFilterEnabled()){i||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){dy(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Rt.resolve()).then(()=>{const n={source:t,type:"filterChanged",columns:s};i&&As(n,i),this.eventSvc.dispatchEvent(n),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!dy(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Te(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},FV=class extends ye{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,i,s){e&&!e.isColumn||this.showPopup(e,n=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,dn(this.gos),s)}showMenuAfterButtonClick(e,t,i,s){if(e&&!e.isColumn)return;let n=-1,r="left";const c=dn(this.gos);!c&&this.gos.get("enableRtl")&&(n=1,r="right");const h=c?void 0:4*n,p=c?void 0:4;this.showPopup(e,v=>{this.popupSvc?.positionPopupByComponent({type:i,eventSource:t,ePopup:v,nudgeX:h,nudgeY:p,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,c,s)}showPopup(e,t,i,s,n,r){const c=e?this.createBean(new xL(e,"COLUMN_MENU")):void 0;if(this.activeMenu=c,!c?.hasFilter()||!e){jt(57);return}const h=ks({tag:"div",cls:`ag-menu${n?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(h,{keydown:V=>this.trapFocusWithin(V,h)}),h.appendChild(c?.getGui());let p;const v=()=>c?.afterGuiDetached(),b=_A(this.gos)?s??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,R=V=>{y0(e,!1,"contextMenu");const _=V instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),_&&s&&ea(s)&&nE(s)?.focus({preventScroll:!0}),v(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e),r?.()},F=this.getLocaleTextFunc(),k=n&&i!=="columnFilter"?F("ariaLabelColumnMenu","Column Menu"):F("ariaLabelColumnFilter","Column Filter"),O=this.popupSvc?.addPopup({modal:!0,eChild:h,closeOnEsc:!0,closedCallback:R,positionCallback:()=>t(h),anchorToElement:b,ariaLabel:k});O&&(this.hidePopup=p=O.hideFunc),c.afterInit().then(()=>{t(h),c.afterGuiAttached({container:i,hidePopup:p})}),y0(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==he.TAB||e.defaultPrevented||Nc(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Fc(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},PV=class extends ye{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,i){if(!t)return;const s=e.getColDef(),{selectableFilter:n,valueSvc:r}=this.beans,c=i??n?.getFilterValueGetter(e.getColId())??s.filterValueGetter;return c?this.executeFilterValueGetter(c,t.data,e,t,s):r.getValue(e,t)}executeFilterValueGetter(e,t,i,s,n){const{expressionSvc:r,valueSvc:c}=this.beans,h=tt(this.gos,{data:t,node:s,column:i,colDef:n,getValue:c.getValueCallback.bind(c,s)});return typeof e=="function"?e(h):r?.evaluate(e,h)}},AV={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},kV=class extends wi{constructor(){super(AV,[iv]),this.eFloatingFilterText=Xe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const i=e,s=i.getHandler();if(s.getModelAsString){const n=s.getModelAsString(i.model);this.eFloatingFilterText.setValue(n)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}refresh(e){this.init(e)}},Hb=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const i=e.filterOptions??t;this.filterOptions!==i&&(this.filterOptions=i,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const i=[["displayKey"],["displayName"],["predicate","test"]],s=n=>n.some(r=>t[r]!=null)?!0:(Te(72,{keys:n}),!1);if(!i.every(s)){this.filterOptions=e.filter(n=>n===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const i=t[0];if(typeof i=="string")return i;if(i.displayKey)return i.displayKey;Te(73)}else Te(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Qg(e,t,i){return i==null?e.splice(t):e.splice(t,i)}function UC(e){return e==null||typeof e=="string"&&e.trim().length===0}function LV(e){return e==="AND"||e==="OR"?e:"AND"}function OV(e,t,i){if(e==null)return;const{predicate:s}=e;if(s!=null&&!t.some(n=>n==null))return s(t,i)}function IV(e,t){let i=e.length;return i>t&&(e.splice(t),Te(78),i=t),i}function pp(e,t){const i=t.getCustomOption(e);if(i){const{numberOfInputs:n}=i;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var Nb=class extends kL{constructor(e,t,i){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=i,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new Hb;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=LV(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{const s=i===0?e:this.optionsFactory.defaultOption;t.setValue(s,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let r;if(i){const c=e,h=t;r=this.areSimpleModelsEqual(c,h)}else{const c=e,h=t;r=c.operator===h.operator&&al(c.conditions,h.conditions,(p,v)=>this.areSimpleModelsEqual(p,v))}return r}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Rt.resolve();if(e.operator){const s=e;let n=s.conditions;n==null&&(n=[],Te(77));const r=IV(n,this.maxNumConditions),c=this.getNumConditions();if(r<c)this.removeConditionsAndOperators(r);else if(r>c)for(let p=c;p<r;p++)this.createJoinOperatorPanel(),this.createOption();const h=s.operator==="OR";this.eJoinAnds.forEach(p=>p.setValue(!h,!0)),this.eJoinOrs.forEach(p=>p.setValue(h,!0)),n.forEach((p,v)=>{this.eTypes[v].setValue(p.type,!0),this.setConditionIntoUi(p,v)})}else{const s=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Rt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Te(79),t=1),this.maxNumConditions=t;let i=e.numAlwaysVisibleConditions??1;i<1&&(Te(80),i=1),i>t&&(Te(81),i=t),this.numAlwaysVisibleConditions=i}createOption(){const e=this.getGui(),t=this.createManagedBean(new Cb);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const i=this.createEValue();this.eConditionBodies.push(i),e.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);const s=this.getNumConditions()-1;this.forEachPositionInput(s,n=>this.resetInput(n)),this.addChangedListeners(t,s)}createJoinOperatorPanel(){const e=ks({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),i=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const s=this.eJoinPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new dk);e.push(s);const n="ag-filter-condition-operator";return s.addCss(n),s.addCss(`${n}-${i}`),t.appendChild(s.getGui()),s}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(i=>{e.addOption(i)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const s=e+1,n=i-s;n>0&&this.removeConditionsAndOperators(s,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((s,n)=>{const r=this.isConditionDisabled(n,e);s.setDisabled(r||this.filterListOptions.length<=1),n===1&&(op(this.eJoinPanels[0],r),this.eJoinAnds[0].setDisabled(r),this.eJoinOrs[0].setDisabled(r))}),this.eConditionBodies.forEach((s,n)=>{Ci(s,this.isConditionBodyVisible(n))});const i=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOrs.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,n,r,c)=>{this.setElementDisplayed(s,n<c),this.setElementDisabled(s,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:i,eConditionBodies:s,eJoinPanels:n,eJoinAnds:r,eJoinOrs:c}=this;this.removeComponents(i,e,t),this.removeElements(s,e,t),this.removeEValues(e,t);const h=Math.max(e-1,0);this.removeElements(n,h,t),this.removeComponents(r,h,t),this.removeComponents(c,h,t)}removeElements(e,t,i){Qg(e,t,i).forEach(n=>il(n))}removeComponents(e,t,i){Qg(e,t,i).forEach(n=>{il(n.getGui()),this.destroyBean(n)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const i=this.getInputs(0)[0];i instanceof gc&&this.isConditionBodyVisible(0)?t=i.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,i=-1,s=!1;const n=this.getJoinOperator();for(let c=this.getNumConditions()-1;c>=0;c--)if(this.isConditionUiComplete(c))t===-1&&(t=c,i=c);else{const h=c>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(c-1),p=c<t;(h||p)&&(this.removeConditionsAndOperators(c,1),s=!0,p&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let i=this.translate(e);if(typeof this.filterPlaceholder=="function"){const s=this.eTypes[t].getValue(),n=this.translate(s);i=this.filterPlaceholder({filterOptionKey:s,filterOption:n,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,i,s,n)=>{if(!(t instanceof gc))return;const r=i===0&&n>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",c=i===0&&n>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,s)),t.setInputAriaLabel(c)})}setElementValue(e,t,i){e instanceof gc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){i0(e)&&Ci(e.getGui(),t)}setElementDisabled(e,t){i0(e)&&op(e.getGui(),t)}attachElementOnChange(e,t){e instanceof gc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=pp(t,this.optionsFactory),n=this.getInputs(e);for(let r=0;r<n.length;r++){const c=n[r];c!=null&&i(c,r,e,s)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return pp(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOrs.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const i=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),t)}updateJoinOperatorsDisabled(){const e=(t,i)=>this.updateJoinOperatorDisabled(t,i);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((s,n,r)=>{r===t&&this.setElementValue(s,i[n]!=null?i[n]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,s)=>{this.setElementValue(t,i===0&&s===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},bM=class{constructor(e,t,i,s,n,r){this.alive=!0,this.context=e,this.eParent=n;const c=$1(t,i,s);c&&c.newAgStackInstance().then(h=>{if(!this.alive){e.destroyBean(h);return}if(this.dateComp=h,!h)return;n.appendChild(h.getGui()),h?.afterGuiAttached?.();const{tempValue:p,disabled:v}=this;p&&h.setDate(p),v!=null&&h.setDisabled?.(v),r?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Ci(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Gb=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function SM(e,t){const{dateFrom:i,dateTo:s,type:n}=e||{};return[i&&Qs(i,void 0,!0)||null,s&&Qs(s,void 0,!0)||null].slice(0,pp(n,t))}var ex=1e3,tx=1/0,HV=class extends Nb{constructor(){super("dateFilter",SM,Gb),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=ex,this.maxValidYear=tx,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(p,v)=>{const b=e[p];if(b!=null)if(isNaN(b))Te(82,{param:p});else return b==null?v:Number(b);return v},i=t("minValidYear",ex),s=t("maxValidYear",tx);this.minValidYear=i,this.maxValidYear=s,i>s&&Te(83);const{minValidDate:n,maxValidDate:r}=e,c=n instanceof Date?n:Qs(n);this.minValidDate=c;const h=r instanceof Date?r:Qs(r);this.maxValidDate=h,c&&h&&c>h&&Te(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:i,gos:s},params:n}=this,r=new bM(i,t,n.colDef,tt(s,{onDateChanged:()=>this.onUiChanged(),filterParams:n,location:"filter"}),e);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=ks({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,s){const n=ks({tag:"div",cls:`ag-filter-${s} ag-filter-date-${s}`});t.push(n),e.appendChild(n),i.push(this.createDateCompWrapper(n))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Qg(this.eConditionPanelsFrom,e,t),Qg(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){Qg(e,t,i).forEach(n=>n.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:i,minValidYear:s,maxValidYear:n}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<s)return!1;if(i){if(e>i)return!1}else if(e.getUTCFullYear()>n)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,s,n,r)=>{n!==e||!t||s>=r||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e),n=this.params.useIsoSeparator?"T":" ";return s.length>0&&(i.dateFrom=hn(s[0],!0,n)),s.length>1&&(i.dateTo=hn(s[1],!0,n)),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...i}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(t),s.setInputAriaLabel(i)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},xM=class extends ye{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,i=new Hb;this.optionsFactory=i,i.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(i,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,i=this.optionsFactory;i.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:i,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:i}=t,s=[];if(i){const c=t;s.push(...c.conditions??[])}else s.push(t);const n=i&&i==="OR"?"some":"every",r=this.params.getValue(e.node);return s[n](c=>this.individualConditionPasses(e,c,r))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:i,maxNumConditions:s}}=e;if(t==null)return;let r=SE(t)?t.conditions:[t];const c=i?.map(b=>typeof b=="string"?b:b.displayKey)??this.defaultOptions;if(!(!r||r.every(b=>c.find(R=>R===b.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let p=!1;const v=this.filterType;if((r&&!r.every(b=>b.filterType===v)||t.filterType!==v)&&(r=r.map(b=>({...b,filterType:v})),p=!0),typeof s=="number"&&r&&r.length>s&&(r=r.slice(0,s),p=!0),p){const b=r.length>1?{...t,filterType:v,conditions:r}:{...r[0],filterType:v};this.params={...e,model:b},e.onModelChange(b);return}}individualConditionPasses(e,t,i){const s=this.optionsFactory,n=this.mapValuesFromModel(t,s),r=s.getCustomOption(t.type),c=OV(r,n,i);return c??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}},RM=class extends xM{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:i,includeBlanksInGreaterThan:s,includeBlanksInLessThan:n,includeBlanksInRange:r}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(i)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(s)return!0;break;case"lessThan":case"lessThanOrEqual":if(n)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=i.type;if(!this.isValid(t))return s==="notEqual"||s==="notBlank";const n=this.comparator(),r=e[0]!=null?n(e[0],t):0;switch(s){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const c=n(e[1],t);return this.params.filterParams.inRangeInclusive?r>=0&&c<=0:r>0&&c<0}case"blank":return UC(t);case"notBlank":return!UC(t);default:return Te(76,{filterModelType:s}),!0}}},EM={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},NV={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Bb=class extends ye{constructor(e,t,i){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=i}getModelAsString(e,t){const i=this.getLocaleTextFunc(),s=t==="filterToolPanel";if(!e)return s?Ja(this,"filterSummaryInactive"):null;if(e.operator!=null){const r=e,h=(r.conditions??[]).map(v=>this.getModelAsString(v,t)),p=r.operator==="AND"?"andCondition":"orCondition";return h.join(` ${Ja(this,p)} `)}else{if(e.type==="blank"||e.type==="notBlank")return s?Ja(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):i(e.type,e.type);{const r=e,c=this.optionsFactory.getCustomOption(r.type),{displayKey:h,displayName:p,numberOfInputs:v}=c||{};return h&&p&&v===0?i(h,p):this.conditionToString(r,s,r.type==="inRange"||v===2,h,p)}}}updateParams(e){const{optionsFactory:t,filterParams:i}=e;this.optionsFactory=t,this.filterParams=i}conditionForToolPanel(e,t,i,s,n,r){let c;const h=this.getTypeKey(e);return h&&(c=Ja(this,h)),n&&r&&(c=this.getLocaleTextFunc()(n,r)),c!=null?t?`${c} ${Ja(this,"filterSummaryInRangeValues",[i(),s()])}`:`${c} ${i()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},MM=class extends Bb{constructor(e,t){super(e,t,i=>{const{dataTypeSvc:s,valueSvc:n}=this.beans,r=t.column,h=s?.getDateFormatterFunction(r)?.(i??void 0);return n.formatValue(r,null,h)}),this.filterTypeKeys=EM}conditionToString(e,t,i,s,n){const{type:r}=e,c=Qs(e.dateFrom),h=Qs(e.dateTo),p=this.filterParams.inRangeFloatingFilterDateFormat,v=t?this.formatValue.bind(this):F=>Cy(F,p),b=()=>c!==null?v(c):"null",R=()=>h!==null?v(h):"null";if(t){const F=this.conditionForToolPanel(r,i,b,R,s,n);if(F!=null)return F}return i?`${b()}-${R()}`:c!=null?v(c):`${r}`}};function GV(e,t){const i=t;return i<e?-1:i>e?1:0}var BV=class extends RM{constructor(){super(SM,Gb),this.filterType="date",this.FilterModelFormatterClass=MM}comparator(){return this.params.filterParams.comparator??GV}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},DM=class extends wi{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const i=e;this.onModelUpdated(i.model)}}setParams(e){const t=new Hb;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const i=this.optionsFactory.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const s=this.isTypeEditable(i);this.setEditable(s)}refresh(e){this.params=e;const t=e,i=this.reactive;if((!i||t.source==="colDef")&&this.updateParams(e),i){const{source:s,model:n}=t;if(s==="dataChanged"||s==="ui")return;this.onModelUpdated(n)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},VV={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},zV=class extends DM{constructor(){super(VV,[iv]),this.eReadOnlyText=Xe,this.eDateWrapper=Xe,this.FilterModelFormatterClass=MM,this.filterType="date",this.defaultOptions=Gb}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const i=e?Qs(e.dateFrom):null;this.dateComp.setDate(i),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ci(this.eDateWrapper,e),Ci(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const i=t.model,s=hn(e),n=s==null?null:{...i??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:s};t.onModelChange(n,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=Sb(e,this.defaultDebounceMs);return tt(this.gos,{onDateChanged:ls(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:i,params:s}=this;this.dateComp=new bM(e,t,s.column.getColDef(),this.getDateComponentParams(),i,n=>{n.setInputAriaLabel(this.getAriaLabel(s))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},_V={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},WV=class extends wi{constructor(){super(_V,[iv]),this.eDateInput=Xe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&cl();const{minValidYear:s,maxValidYear:n,minValidDate:r,maxValidDate:c,buttons:h,includeTime:p,colDef:v}=e.filterParams||{},b=this.beans.dataTypeSvc,R=p??b?.getDateIncludesTimeFlag?.(v.cellDataType)??!1;if(i?R?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",r&&s&&Te(85),c&&n&&Te(86),r&&c){const[F,k]=[r,c].map(O=>O instanceof Date?O:Qs(O));F&&k&&F.getTime()>k.getTime()&&Te(87)}r?r instanceof Date?t.min=Cy(r):t.min=r:s&&(t.min=`${s}-01-01`),c?c instanceof Date?t.max=Cy(c):t.max=c:n&&(t.max=`${n}-12-31`),this.isApply=e.location==="floatingFilter"&&!!h?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Qs(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,i=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(hn(e,i))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},Vb=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function Hy(e){const{allowedCharPattern:t}=e??{};return t??null}function Ny(e){return e==null||isNaN(e)?null:e}function TM(e,t){const{filter:i,filterTo:s,type:n}=e||{};return[Ny(i),Ny(s)].slice(0,pp(n,t))}var UV=class extends Nb{constructor(){super("numberFilter",TM,Vb),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,i){const{numberFormatter:s}=this.params,n=!i&&s?s(t??null):t;super.setElementValue(e,n)}createEValue(){const e=Hy(this.params),t=ks({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const n=this.createManagedBean(s?new Gc({allowedCharPattern:s}):new mb);n.addCss(`ag-filter-${i}`),n.addCss("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeEValues(e,t){const i=s=>this.removeComponents(s,e,t);i(this.eValuesFrom),i(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(Ny(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=qr(e);t!=null&&t.trim()===""&&(t=null);const i=this.params.numberParser;return i?i(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},FM=class extends Bb{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=EM}conditionToString(e,t,i,s,n){const{filter:r,filterTo:c,type:h}=e,p=this.formatValue.bind(this);if(t){const v=this.conditionForToolPanel(h,i,()=>p(r),()=>p(c),s,n);if(v!=null)return v}return i?`${p(r)}-${p(c)}`:r!=null?p(r):`${h}`}},jV=class extends RM{constructor(){super(TM,Vb),this.filterType="number",this.FilterModelFormatterClass=FM}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},PM=class extends ye{constructor(e){super(),this.params=e,this.eInput=Xe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Gc(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const i=s=>this.onValueChanged(s);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t)}};function Gy(e){const t=e?.trim();return t===""?e:t}function AM(e,t){const{filter:i,filterTo:s,type:n}=e||{};return[i||null,s||null].slice(0,pp(n,t))}var $V={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},kM=class extends DM{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Xe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate($V)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:i,defaultDebounceMs:s,readOnly:n}=this;if(i.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=nv(e.filterParams),!n){const r=Sb(e.filterParams,s),c=ls(this,this.syncUpWithParentFilter.bind(this),r);i.setValueChangedListener(c)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,i=t.getValue();Zs(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(i,!0)}syncUpWithParentFilter(e){const t=e.key===he.ENTER,i=this.reactive;if(i&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:s,params:n,lastType:r}=this;let c=s.getValue();if(n.filterParams.trimInput&&(c=Gy(c),s.setValue(c,!0)),i){const h=n,p=h.model,v=this.convertValue(c),b=v==null?null:{...p??{filterType:this.filterType,type:r??this.optionsFactory.defaultOption},filter:v};h.onModelChange(b,{afterFloatingFilter:!0})}else n.parentFilterInstance(h=>{h?.onFloatingFilterChanged(r||null,c||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},KV=class extends ye{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new mb),this.eTextInput=this.createManagedBean(new Gc),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),i=this.eTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,s=>this.onValueChanged(s)),this.setupListeners(i,s=>this.onValueChanged(s))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},qV=class extends kM{constructor(){super(...arguments),this.FilterModelFormatterClass=FM,this.filterType="number",this.defaultOptions=Vb}updateParams(e){Hy(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=Hy(e.filterParams),this.allowedCharPattern?this.createManagedBean(new PM({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new KV)}convertValue(e){return e?Number(e):null}},zb=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],YV=class extends Nb{constructor(){super("textFilter",AM,zb),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),i={filterType:this.filterType,type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:i}=this;return e>=t.length?[null,null]:[t[e],i[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,s,n,r)=>{s<r&&t.push(qr(i.getValue()))}),t}createEValue(){const e=ks({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:i}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,i,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new Gc);s.addCss(`ag-filter-${i}`),s.addCss("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeEValues(e,t){const i=r=>this.removeComponents(r,e,t),{eValuesFrom:s,eValuesTo:n}=this;i(s),i(n)}},LM=class extends Bb{constructor(){super(...arguments),this.filterTypeKeys=NV}conditionToString(e,t,i,s,n){const{filter:r,filterTo:c,type:h}=e;if(t){const p=b=>()=>Ja(this,"filterSummaryTextQuote",[b]),v=this.conditionForToolPanel(h,i,p(r),p(c),s,n);if(v!=null)return v}return i?`${r}-${c}`:r!=null?`${r}`:`${h}`}},XV=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const s=t.lastIndexOf(i);return s>=0&&s===t.length-i.length}default:return!1}},ZV=e=>e,QV=e=>e==null?null:e.toString().toLowerCase(),JV=class extends xM{constructor(){super(AM,zb),this.filterType="text",this.FilterModelFormatterClass=LM}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??XV,this.formatter=t.textFormatter??(t.caseSensitive?ZV:QV)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,s){const n=e.map(F=>this.formatter(F))||[],r=this.formatter(t),{api:c,colDef:h,column:p,context:v,filterParams:{textFormatter:b}}=this.params;if(i.type==="blank")return UC(t);if(i.type==="notBlank")return!UC(t);const R={api:c,colDef:h,column:p,context:v,node:s.node,data:s.data,filterOption:i.type,value:r,textFormatter:b};return n.some(F=>this.matcher({...R,filterText:F}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=i=>{const s={...i},{filter:n,filterTo:r}=i;return n&&(s.filter=Gy(n)??null),r&&(s.filterTo=Gy(r)??null),s};return SE(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},ez=class extends kM{constructor(){super(...arguments),this.FilterModelFormatterClass=LM,this.filterType="text",this.defaultOptions=zb}createFloatingFilterInputService(){return this.createManagedBean(new PM)}};function tz(e){return!!e.quickFilter?.isFilterPresent()}function iz(e){return e.quickFilter?.getText()}function sz(e){e.quickFilter?.resetCache()}var nz=class extends ye{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:i,pivotResultCols:s}=this.beans,n=t.isPivotMode(),r=e?.getColumns(),c=t.getColDefCols();let h=(n&&!i.get("applyQuickFilterBeforePivotOrAgg")?s?.getPivotResultCols()?.list:c)??[];r&&(h=h.concat(r)),this.colsToUse=i.get("includeHiddenColumnsInQuickFilter")?h:h.filter(p=>p.isVisible()||p.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassCache(e,i):this.doesRowPassNoCache(e,i))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return He(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Te(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(i=>{const s=this.getTextForColumn(i,e);return He(s)&&s.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let i;e?(this.checkGenerateAggText(t),i=t.quickFilterAggregateText):i=this.getAggText(t);const{quickFilterParts:s,matcher:n}=this;return n(s,i)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let i=this.beans.filterValueSvc.getValue(e,t);const s=e.getColDef();if(s.getQuickFilterText){const n=tt(this.gos,{value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(n)}return He(i)?i.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(i=>{const s=this.getTextForColumn(i,e);He(s)&&t.push(s)}),t.join(`
`)}},oz={moduleName:"ClientSideRowModelFilter",version:Ne,rowModels:["clientSide"],beans:[rV]},_b={moduleName:"FilterCore",version:Ne,beans:[TV],apiFunctions:{isAnyFilterPresent:MV,onFilterChanged:DV},css:[hV],dependsOn:[oz]},OM={moduleName:"FilterValue",version:Ne,beans:[PV]},cv={moduleName:"ColumnFilter",version:Ne,beans:[EV,FV],dynamicBeans:{headerFilterCellCtrl:aV},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:gV,getColumnFilterInstance:pV,destroyFilter:fV,setFilterModel:mV,getFilterModel:CV,getColumnFilterModel:vV,setColumnFilterModel:wV,showColumnFilter:yV,hideColumnFilter:bV,getColumnFilterHandler:SV,doFilterAction:xV},dependsOn:[_b,lv,OM,uV]},rz={moduleName:"CustomFilter",version:Ne,userComponents:{agReadOnlyFloatingFilter:kV},dependsOn:[cv]},az={moduleName:"TextFilter",version:Ne,dependsOn:[cv],userComponents:{agTextColumnFilter:{classImp:YV,params:{useForm:!0}},agTextColumnFloatingFilter:ez},dynamicBeans:{agTextColumnFilterHandler:JV}},lz={moduleName:"NumberFilter",version:Ne,dependsOn:[cv],userComponents:{agNumberColumnFilter:{classImp:UV,params:{useForm:!0}},agNumberColumnFloatingFilter:qV},dynamicBeans:{agNumberColumnFilterHandler:jV}},cz={moduleName:"DateFilter",version:Ne,dependsOn:[cv],userComponents:{agDateColumnFilter:{classImp:HV,params:{useForm:!0}},agDateInput:WV,agDateColumnFloatingFilter:zV},dynamicBeans:{agDateColumnFilterHandler:BV}},uz={moduleName:"QuickFilterCore",version:Ne,rowModels:["clientSide"],beans:[nz],dependsOn:[_b,OM]},dz={moduleName:"QuickFilter",version:Ne,apiFunctions:{isQuickFilterPresent:tz,getQuickFilter:iz,resetQuickFilter:sz},dependsOn:[uz]},hz={moduleName:"ExternalFilter",version:Ne,dependsOn:[_b]},gz=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",$w=(e,t,i)=>{const{editModelSvc:s}=e,n=s?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,r=s?.getRowValidationModel().getRowValidation(t)?.errorMessages,c=n||r;return c&&c.length?c.join(i("tooltipValidationErrorSeparator",". ")):void 0},pz=class extends ye{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,i,s){e&&t.destroyBean(e);const n=jw(this.gos),{column:r,eGui:c}=t,h=r.getColDef();!s&&n&&!h.headerComponent&&(s=eC(()=>c.querySelector(".ag-header-cell-text")));const p={getGui:()=>c,getLocation:()=>"header",getTooltipValue:()=>i??r.getColDef().headerTooltip,shouldDisplayTooltip:s,getAdditionalParams:()=>({column:r,colDef:r.getColDef()})};let v=this.createTooltipFeature(p);return v&&(v=t.createBean(v),t.setRefreshFunction("tooltip",()=>v.refreshTooltip())),v}setupHeaderGroupTooltip(e,t,i,s){e&&t.destroyBean(e);const n=jw(this.gos),{column:r,eGui:c}=t,h=r.getColGroupDef();!s&&n&&!h?.headerGroupComponent&&(s=eC(()=>c.querySelector(".ag-header-group-text")));const p={getGui:()=>c,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(h&&h.headerTooltip),shouldDisplayTooltip:s,getAdditionalParams:()=>{const b={column:r};return h&&(b.colDef=h),b}},v=this.createTooltipFeature(p);return v&&t.createBean(v)}enableCellTooltipFeature(e,t,i){const{beans:s}=this,{gos:n,editSvc:r}=s,{column:c,rowNode:h}=e;let p="cell";const v=()=>{const k=!!!r?.isEditing(e)&&$w(s,e,this.getLocaleTextFunc());if(k)return p="cellEditor",k;p="cell";const O=c.getColDef(),V=h.data;if(O.tooltipField&&He(V))return Xg(V,O.tooltipField,c.isTooltipFieldContainsDots());const _=O.tooltipValueGetter;return _?_(tt(n,{location:"cell",colDef:c.getColDef(),column:c,rowIndex:e.cellPosition.rowIndex,node:h,data:h.data,value:e.value,valueFormatted:e.valueFormatted})):null},b=jw(n);i||(b&&!e.isCellRenderer()?i=()=>{const F=!!r?.isEditing(e);if(!F&&$w(s,e,this.getLocaleTextFunc()))return!0;if(!c.isTooltipEnabled())return!1;const V=eC(()=>{const _=e.eGui;return _.children.length===0?_:_.querySelector(".ag-cell-value")});return!F&&V()}:i=()=>!r?.isEditing(e));const R={getGui:()=>e.eGui,getLocation:()=>p,getTooltipValue:t!=null?()=>t:v,shouldDisplayTooltip:i,getAdditionalParams:()=>({column:c,colDef:c.getColDef(),rowIndex:e.cellPosition.rowIndex,node:h,data:h.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(R,s)}setupFullWidthRowTooltip(e,t,i,s){const n={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:s},r=this.beans,c=r.context;e&&t.destroyBean(e,c);const h=this.createTooltipFeature(n,r);if(h)return t.createBean(h,c)}setupCellEditorTooltip(e,t){const{beans:i}=this,{context:s}=i,n=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!n)return;const r={getGui:()=>n,getTooltipValue:()=>$w(i,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:h}=i,p=h?.getRowValidationModel()?.getRowValidationMap(),v=h?.getCellValidationModel()?.getCellValidationMap(),b=!!p&&p.size>0,R=!!v&&v.size>0;return b||R}},c=this.createTooltipFeature(r,i);if(c)return e.createBean(c,s)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=He(t.tooltipField)||He(t.tooltipValueGetter)||He(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},fz=class extends nL{createTooltipComp(e,t){Y1(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},IM={moduleName:"Tooltip",version:Ne,beans:[pz],dynamicBeans:{tooltipFeature:fE,highlightTooltipFeature:oL,tooltipStateManager:fz},userComponents:{agTooltipComponent:lL},dependsOn:[lv],css:[gz]},fd=class{constructor(e){this.cellValueChanges=e}},Kw=class extends fd{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},mz=10,ix=class{constructor(e){this.actionStack=[],this.maxStackSize=e||mz,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Cz=class extends ye{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&_E(this.activeCellEdit,t),s=this.activeRowEdit!==null&&AI(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:c,column:h,oldValue:p,value:v}=e,b={rowPinned:r,rowIndex:c,columnId:h.getColId(),newValue:v,oldValue:p};this.cellValueChanges.push(b)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const i=e.get("undoRedoCellEditingLimit");if(i<=0)return;this.undoStack=new ix(i),this.redoStack=new ix(i),this.addListeners();const s=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:s,newColumnsLoaded:s,columnGroupOpened:s,columnRowGroupChanged:s,columnMoved:s,columnPinned:s,columnVisible:s,rowDragEnd:s}),t.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:i,redoStack:s}=this;t.dispatchEvent({type:"undoStarted",source:e});const n=this.undoRedo(i,s,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:n})}redo(e){const{eventSvc:t,undoStack:i,redoStack:s}=this;t.dispatchEvent({type:"redoStarted",source:e});const n=this.undoRedo(s,i,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:n})}undoRedo(e,t,i,s,n){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,c=>c[s],n),r instanceof Kw?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(s=>{const{rowIndex:n,rowPinned:r,columnId:c}=s,h={rowIndex:n,rowPinned:r},p=Jr(this.beans,h);p.displayed&&p.setDataValue(c,t(s),i)})}processRange(e){let t;const i=this.beans.rangeSvc;i.removeAllCellRanges(!0),e.forEach((s,n)=>{if(!s)return;const r=s.startRow,c=s.endRow;n===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(t));const h={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:c.rowIndex,rowEndPinned:c.rowPinned,columnStart:s.startColumn,columns:s.columns};i.addCellRange(h)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,n={rowIndex:i,rowPinned:s},r=Jr(this.beans,n),c={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(c)}setLastFocusedCell(e){const{rowIndex:t,columnId:i,rowPinned:s}=e,{colModel:n,focusSvc:r,rangeSvc:c}=this.beans,h=n.getCol(i);if(!h)return;const{scrollFeature:p}=this.gridBodyCtrl;p.ensureIndexVisible(t),p.ensureColumnVisible(h);const v={rowIndex:t,column:h,rowPinned:s};r.setFocusedCell({...v,forceBrowserFocus:!0}),c?.setRangeToCell(v)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new fd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new fd(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new fd(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Kw(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:i}=this.beans;t&&nl(i)?e=new Kw(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new fd(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const i=new fd(t??[]);this.pushActionsToUndoStack(i),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},vz=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",wz={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},yz=class extends rv{constructor(){super(wz,[fb]),this.eEditor=Xe}initialiseEditor(e){const t=e.value??void 0,i=this.eEditor;i.setValue(t),i.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(i,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),i=ev(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${s} (${i})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,i=this.getValue();return t?t({value:i,internalErrors:null,cellEditorParams:e}):null}},uv=class extends rv{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Xe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:i}=this,{cellStartedEdit:s,eventKey:n,suppressPreventDefault:r}=e;i.getInputElement().setAttribute("title",""),t.init(i,e);let c,h=!0;s?(this.focusAfterAttached=!0,n===he.BACKSPACE||n===he.DELETE?c="":n&&n.length===1?r?h=!1:c=n:(c=t.getStartValue(),n!==he.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,c=t.getStartValue()),h&&c!=null&&i.setStartValue(c),this.addGuiEventListener("keydown",p=>{const{key:v}=p;(v===he.PAGE_UP||v===he.PAGE_DOWN)&&p.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;cl()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},bz={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Sz=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return bz}getAgComponents(){return[rE]}init(e,t){this.eEditor=e,this.params=t;const{min:i,max:s,step:n,colDef:r}=t;i!=null&&e.setMin(i),s!=null&&e.setMax(s),n!=null&&e.setStep(n),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:i}=this,{min:s,max:n,getValidationErrors:r}=i;let c=[];const h=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(s){const p=s instanceof Date?s:new Date(s);if(t<p){const v=p.toLocaleDateString();c.push(h("minDateValidation",`Date must be after ${v}`,[v]))}}if(n){const p=n instanceof Date?n:new Date(n);if(t>p){const v=p.toLocaleDateString();c.push(h("maxDateValidation",`Date must be before ${v}`,[v]))}}}return c.length||(c=null),r?r({value:t,cellEditorParams:i,internalErrors:c}):c}getValue(){const{eEditor:e,params:t}=this,i=e.getDate();return!He(i)&&!He(t.value)?t.value:i??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return hn(e,this.includeTime??!1)}},xz=class extends uv{constructor(){super(new Sz(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},Rz={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Ez=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return Rz}getAgComponents(){return[rE]}init(e,t){this.eEditor=e,this.params=t;const{min:i,max:s,step:n,colDef:r}=t;i!=null&&e.setMin(i),s!=null&&e.setMax(s),n!=null&&e.setStep(n),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,i=e.getInputElement().value,s=this.formatDate(this.parseDate(i??void 0)),{min:n,max:r,getValidationErrors:c}=t;let h=[];if(s){const p=new Date(s),v=this.getLocaleTextFunc();if(n){const b=new Date(n);if(p<b){const R=b.toLocaleDateString();h.push(v("minDateValidation",`Date must be after ${R}`,[R]))}}if(r){const b=new Date(r);if(p>b){const R=b.toLocaleDateString();h.push(v("maxDateValidation",`Date must be before ${R}`,[R]))}}}return h.length||(h=null),c?c({value:this.getValue(),cellEditorParams:t,internalErrors:h}):h}getValue(){const{params:e,eEditor:t}=this,i=this.formatDate(t.getDate());return!He(i)&&!He(e.value)?e.value:e.parseValue(i??"")}getStartValue(){return hn(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Qs(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):hn(e??null,this.includeTime??!1)??void 0}},Mz=class extends uv{constructor(){super(new Ez(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},Dz={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},Tz=class extends rv{constructor(){super(Dz,[gk]),this.eEditor=Xe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:i,eventKey:s,maxLength:n,cols:r,rows:c}=e;this.focusAfterAttached=i,t.getInputElement().setAttribute("title",""),t.setMaxLength(n||200).setCols(r||60).setRows(c||10);let h;i?(this.focusAfterAttached=!0,s===he.BACKSPACE||s===he.DELETE?h="":s&&s.length===1?h=s:(h=this.getStartValue(e),s!==he.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,h=this.getStartValue(e)),h!=null&&t.setValue(h,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===he.LEFT||t===he.UP||t===he.RIGHT||t===he.DOWN||e.shiftKey&&t===he.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:i}=this,s=this.getLocaleTextFunc();e.setInputAriaLabel(s("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),i&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:i}=t,s=e.getValue();return!He(s)&&!He(i)?i:t.parseValue(s)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:i}=e,s=this.getLocaleTextFunc(),n=this.getValue();let r=[];return typeof n=="string"&&t!=null&&n.length>t&&r.push(s("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),i?i({value:n,internalErrors:r,cellEditorParams:e}):r}},Fz={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},Pz=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return Fz}getAgComponents(){return[pk]}init(e,t){this.eEditor=e,this.params=t;const{max:i,min:s,precision:n,step:r}=t;i!=null&&e.setMax(i),s!=null&&e.setMin(s),n!=null&&e.setPrecision(n),r!=null&&e.setStep(r);const c=e.getInputElement();t.preventStepping?e.addManagedElementListeners(c,{keydown:this.preventStepping}):t.showStepperButtons&&c.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:i,getValidationErrors:s}=e,r=this.eEditor.getInputElement().valueAsNumber,c=this.getLocaleTextFunc();let h=[];return typeof r=="number"&&(t!=null&&r<t&&h.push(c("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),i!=null&&r>i&&h.push(c("maxValueValidation",`Must be less than or equal to ${i}.`,[String(i)]))),h.length||(h=null),s?s({value:r,cellEditorParams:e,internalErrors:h}):h}preventStepping(e){(e.key===he.UP||e.key===he.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,i=e.getValue();if(!He(i)&&!He(t.value))return t.value;let s=t.parseValue(i);if(s==null)return s;if(typeof s=="string"){if(s==="")return null;s=Number(s)}return isNaN(s)?null:s}getStartValue(){return this.params.value}setCaret(){cl()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},Az=class extends uv{constructor(){super(new Pz(()=>this.getLocaleTextFunc()))}},kz={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},Lz=class extends rv{constructor(){super(kz,[Ek]),this.eEditor=Xe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:i,gos:s}=this,{values:n,value:r,eventKey:c}=e;if(gi(n)){Te(58);return}this.startedByEnter=c!=null?c===he.ENTER:!1;let h=!1;n.forEach(R=>{const F={value:R},k=i.formatValue(e.column,null,R),O=k!=null;F.text=O?k:R,t.addOption(F),h=h||r===R}),h?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:p,valueListMaxWidth:v,valueListMaxHeight:b}=e;p!=null&&t.setPickerGap(p),b!=null&&t.setPickerMaxHeight(b),v!=null&&t.setPickerMaxWidth(v),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:i}=e,s=this.getValue();let n=[];if(t&&!t.includes(s)){const r=this.getLocaleTextFunc();n.push(r("invalidSelectionValidation","Invalid selection."))}else n=null;return i?i({value:s,internalErrors:n,cellEditorParams:e}):n}},Oz={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},Iz=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return Oz}getAgComponents(){return[iv]}init(e,t){this.eEditor=e,this.params=t;const i=t.maxLength;i!=null&&e.setMaxLength(i)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:i}=e,s=this.getValue(),n=this.getLocaleTextFunc();let r=[];return t!=null&&typeof s=="string"&&s.length>t&&r.push(n("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),i?i({value:s,cellEditorParams:e,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,i=e.getValue();return!He(i)&&!He(t.value)?t.value:t.parseValue(i)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){cl()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),i=He(t)&&t.length||0;i&&e.getInputElement().setSelectionRange(i,i)}},sx=class extends uv{constructor(){super(new Iz(()=>this.getLocaleTextFunc()))}};function Hz(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Nz(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function HM(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function NM(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function Gz(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function Bz(e){e.undoRedo?.undo("api")}function Vz(e){e.undoRedo?.redo("api")}function zz(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function _z(e){const t=e.editModelSvc?.getEditMap(),i=[];return t?.forEach((s,n)=>{const{rowIndex:r,rowPinned:c}=n;s.forEach((h,p)=>{const{editorValue:v,pendingValue:b,sourceValue:R,state:F}=h,k=jr(h);let O=v??b;O===_n&&(O=void 0);const V={newValue:O,oldValue:R,state:F,column:p,colId:p.getColId(),colKey:p.getColId(),rowIndex:r,rowPinned:c};(F==="editing"||F==="changed"&&k)&&i.push(V)})}),i}function Wz(e,t=!1){const{editSvc:i}=e;i?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(s=>{s.state==="editing"&&i.revertSingleCellEdit(s)}):pc(e,{persist:!0}),Td(e,void 0,{cancel:t})):i?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function Uz(e,t){const i=di(e,t);return e.editSvc?.isEditing(i)??!1}function jz(e,t){const{key:i,colKey:s,rowIndex:n,rowPinned:r}=t,{editSvc:c,colModel:h}=e,p=h.getCol(s);if(!p){Te(12,{colKey:s});return}const b=Jr(e,{rowIndex:n,rowPinned:r||null});if(!b){Te(290,{rowIndex:n,rowPinned:r});return}if(!p.isCellEditable(b))return;r==null&&NM(e,n),HM(e,s),c?.startEditing({rowNode:b,column:p},{event:i?new KeyboardEvent("keydown",{key:i}):void 0,source:"api"})}function $z(e){return e.editSvc?.validateEdit()||null}function Kz(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function qz(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var Yz={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},Xz=class extends hb{constructor(e){super(Yz),this.params=e}postConstruct(){Tc(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=s=>{Ry(this.gos,s,t.node,t.column,!0)||t.onKeyDown(s)};this.addManagedElementListeners(e,{keydown:i})}};function Zz(e,{column:t},i,s,n="ui"){if(i instanceof KeyboardEvent&&(i.key===he.TAB||i.key===he.ENTER||i.key===he.F2||i.key===he.BACKSPACE&&s))return!0;if(i?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const c=t?.getColDef(),h=Qz(e.gos,c),p=i?.type;return p==="click"&&i?.detail===1&&h===1||p==="dblclick"&&i?.detail===2&&h===2?!0:n==="api"?s??!1:!1}function Qz(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function By(e,{rowNode:t,column:i},s="ui"){const n=i.getColDef().editable,r=e.editModelSvc;return i.isColumnFunc(t,n)||!!r&&r.hasEdits({rowNode:t,column:i},{withOpenEditor:!0})}function Jz(e,t,i="ui"){const s=By(e,t,i);return s===!0||i==="ui"?s:e.colModel.getCols().some(r=>By(e,{rowNode:t.rowNode,column:r},i))}var jC=(e,t=!1)=>{if(e!==void 0)return jr(e)||t&&e.state==="editing"};function GM(e,t,i=!1){return jC(e.editModelSvc?.getEdit(t),i)}function BM(e,t){const{editModelSvc:i}=e,{column:s,rowNode:n}=t;if(e.gos.get("groupTotalRow")&&!n?.footer)return!1;for(const r of n?.allLeafChildren??[])if(jC(i?.getEdit({rowNode:r,column:s}))||jC(i?.getEdit({rowNode:r.pinnedSibling,column:s})))return!0}function VM(e,{rowNode:t,column:i}){if(t=t.pinnedSibling,!!t)return jC(e.editModelSvc?.getEdit({rowNode:t,column:i}))}var e_=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:i}=this;if(t?.isBatchEditing()&&t.isEditing()){const n=GM(i,e)||BM(i,e)||VM(i,e);this.applyBatchingStyle(n)}else this.applyBatchingStyle(!1);const s=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",s)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},t_=class extends ye{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:i}=this;let s=e.rowNode,n=t?.getEditRow(s);const r=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:s});if(!n&&s.pinnedSibling&&(s=s.pinnedSibling,n=t?.getEditRow(s)),n){const c=Array.from(n.keys()).some(h=>{const p={rowNode:s,column:h};return GM(i,p,!0)||BM(i,p)||VM(i,p)});this.applyStyle(r,c);return}this.applyStyle(r)}applyStyle(e=!1,t=!1){const i=this.editSvc?.isBatchEditing()??!1,s=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:n})=>{n.toggleCss("ag-row-editing",s&&t),n.toggleCss("ag-row-batch-edit",s&&t&&i),n.toggleCss("ag-row-inline-editing",t),n.toggleCss("ag-row-not-inline-editing",!t),n.toggleCss("ag-row-editing-invalid",s&&t&&e)})}},i_=({rowModel:e,pinnedRowModel:t,editModelSvc:i},s)=>{const n=new Set;return e.forEachNode(r=>s.has(r)&&n.add(r)),t?.forEachPinnedRow("top",r=>s.has(r)&&n.add(r)),t?.forEachPinnedRow("bottom",r=>s.has(r)&&n.add(r)),s.forEach(r=>{n.has(r)||i.removeEdits({rowNode:r})}),n},s_=({editModelSvc:e},t,i)=>{t.forEach(s=>e?.getEditRow(s)?.forEach((n,r)=>!i.has(r)&&e.removeEdits({rowNode:s,column:r})))},n_=e=>()=>{const t=new Set(e.colModel.getCols()),i=e.editModelSvc.getEditMap(!0),s=new Set(i.keys());s_(e,i_(e,s),t)},o_=new Set(["undo","redo","paste","bulk","rangeSvc"]),r_=new Set(["ui","api"]),zM={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},a_=new Set(Object.keys(zM)),l_=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),Zm={cancel:!0,source:"api"},c_={cancel:!1,source:"api"},gd={checkSiblings:!0},Bg={force:!0,suppressFlash:!0},u_=class extends ye{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1,this.stopping=!1,this.committing=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:s})=>{this.stopEditing(void 0,Zm),this.createStrategy(s)});const t=n_(e),i=()=>{const s=this.model.getCellValidationModel().getCellValidationMap().size>0,n=this.model.getRowValidationModel().getRowValidationMap().size>0;return s||n?this.stopEditing(void 0,Zm):this.isEditing()&&(this.isBatchEditing()?Td(e,this.model.getEditPositions()):this.stopEditing(void 0,c_)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:i,filterChanged:i,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,Zm)):(this.stopEditing(void 0,Zm),this.batch=!1)}createStrategy(e){const{beans:t,gos:i,strategy:s}=this,n=nx(i,e);if(s){if(s.beanName===n)return s;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(n,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,i,s="ui"){const n=Zz(this.beans,e,t,i,s);return n&&(this.strategy??(this.strategy=this.createStrategy())),n}shouldStopEditing(e,t,i="ui"){return this.strategy?.shouldStop(e,t,i)??null}shouldCancelEditing(e,t,i="ui"){return this.strategy?.shouldCancel(e,t,i)??null}validateEdit(){return MB(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??gd)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:i=!0,event:s=null,source:n="ui",ignoreEventKey:r=!1,silent:c}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const h=di(this.beans,e);if(h&&!h.comp){h.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const p=this.shouldStartEditing(e,s,i,n);if(p===!1&&n!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,n)&&!t.continueEditing&&this.stopEditing(void 0,{source:n}),p&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start({position:e,event:s,source:n,ignoreEventKey:r,startedEdit:i,silent:c})}stopEditing(e,t){const{event:i,cancel:s,source:n="ui",suppressNavigateAfterEdit:r,forceCancel:c,forceStop:h}=t||{},{beans:p,model:v}=this;if(a_.has(n)&&this.isBatchEditing())return this.bulkRefresh(e),!1;const b=this.committing?zM[n]:n;if(!(this.committing||this.isEditing(e)||this.isBatchEditing()&&v.hasEdits(e,gd))||!this.strategy||this.stopping)return!1;this.stopping=!0;const F=di(p,e);F&&(F.onEditorAttachedFuncs=[]);let k=v.getEditMap(!0),O=!1;const V=!s&&(!!this.shouldStopEditing(e,i,b)||this.committing&&!this.batch)||(h??!1),_=s&&!!this.shouldCancelEditing(e,i,b)||(c??!1);if(V||_){pc(p,{persist:!0,isCancelling:_||s,isStopping:V});const W=v.getEditMap(),U=this.processEdits(W,s,n);this.strategy?.stop(s,i),U.forEach(K=>{v.clearEditValue(K)}),this.bulkRefresh(void 0,k),v.getEditPositions(W).forEach(K=>{const X=di(p,K),Y=jr(K);X?.refreshCell({force:!0,suppressFlash:!Y})}),k=W,O||(O=V)}else if(i instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const W=i.key,U=W===he.ENTER,K=W===he.ESCAPE,X=W===he.TAB;(U||X||K)&&(U||X?pc(p,{persist:!0}):K&&this.revertSingleCellEdit(F),this.isBatchEditing()?this.strategy?.cleanupEditors():Td(p,v.getEditPositions(),{event:i,cancel:K}),i.preventDefault(),this.bulkRefresh(e,k,{suppressFlash:!0}),k=v.getEditMap())}else pc(p,{persist:!0}),k=v.getEditMap();return O&&e&&this.model.removeEdits(e),!r&&F&&this.navigateAfterEdit(i instanceof KeyboardEvent&&i.shiftKey,F.cellPosition),Ly(p),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),_&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(k.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),O&&V&&this.dispatchBatchEvent("batchEditingStopped",k)),this.stopping=!1,O}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=e?he.UP:he.DOWN;this.beans.navigation?.navigateToNextCell(null,s,t,!1)}}processEdits(e,t=!1,i){const s=Array.from(e.keys()),n=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,r=[];for(const c of s){const h=e.get(c);for(const p of h.keys()){const v=h.get(p),b={rowNode:c,column:p},R=jr(v);!t&&R&&!n&&(this.setNodeDataValue(c,p,v.pendingValue,void 0,i)||r.push(b))}}return r}setNodeDataValue(e,t,i,s,n="edit"){const{beans:r}=this,c=di(r,{rowNode:e,column:t}),h=r_.has(n)?"edit":n;c&&(c.suppressRefreshCell=!0),this.commitNextEdit();const p=e.setDataValue(t,i,h);return c&&(c.suppressRefreshCell=!1),s&&c?.refreshCell(Bg),p}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let i=Bg;t?.forceRefreshOfEditCellsOnly&&(i={...d_(e),...Bg}),this.beans.rowRenderer.refreshCells(i)}dispatchEditValuesChanged({rowNode:e,column:t},i={}){if(!e||!t||!i)return;const{pendingValue:s,sourceValue:n}=i,{rowIndex:r,rowPinned:c,data:h}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:r,rowPinned:c,column:t,source:"api",data:h,newValue:s,oldValue:n,value:s,colDef:t.getColDef()})}bulkRefresh(e={},t,i={}){const{beans:s,gos:n}=this,{editModelSvc:r,rowModel:c}=s;_i(n)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),i):t&&r?.getEditMap(!1)?.forEach((h,p)=>{for(const v of h.keys())this.refCell({rowNode:p,column:v},h.get(v),i)}))}refCell({rowNode:e,column:t},i,s={}){const{beans:n,gos:r}=this,c=new Set([e]),h=new Set,p=e.pinnedSibling;p&&c.add(p);const v=e.sibling;v&&h.add(v);let b=e.parent;for(;b;)b.sibling?.footer&&r.get("groupTotalRow")||!b.parent&&b.sibling&&r.get("grandTotalRow")?h.add(b.sibling):h.add(b),b=b.parent;c.forEach(R=>this.dispatchEditValuesChanged({rowNode:R,column:t},i)),c.forEach(R=>di(n,{rowNode:R,column:t})?.refreshCell(s)),h.forEach(R=>di(n,{rowNode:R,column:t})?.refreshCell(s))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:i}=e,{gos:s,beans:n}=this;if(i.group){if(s.get("treeData")){if(!i.data&&!s.get("enableGroupEdit"))return!1}else if(!s.get("enableGroupEdit"))return!1}const r=nx(s)==="fullRow"?Jz(n,e,t):By(n,e,t);return r&&(this.strategy??(this.strategy=this.createStrategy())),r}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,i=!0){if(this.hasValidationErrors(e)){const s=di(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),i&&(!s?.hasBrowserFocus()&&s?.focusCell(),s?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(s&&this.revertSingleCellEdit(s),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const i=di(this.beans,e);i?.comp?.getCellEditor()&&(Td(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Hd(this.beans,e,{silent:!0}),kc(this.beans),i?.refreshCell(Bg),i.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(i?.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){kc(this.beans);const t=di(this.beans,e);t&&(t.refreshCell(Bg),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let i=!1;return e?.rowNode?(i||(i=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(i||(i=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(i||(i=this.model.getCellValidationModel().getCellValidationMap().size>0),i||(i=this.model.getRowValidationModel().getRowValidationMap().size>0)),i}moveToNextCell(e,t,i,s="ui"){let n;const r=this.isEditing(),c=r&&this.checkNavWithValidation(void 0,i)==="block-stop";return e instanceof Fd&&r&&(n=this.strategy?.moveToNextEditingCell(e,t,i,s,c)),n===null||(n=n||!!this.beans.focusSvc.focusedHeader,n===!1&&!c&&this.stopEditing()),n}getCellDataValue({rowNode:e,column:t},i=!0){if(!e||!t)return;let s=this.model.getEdit({rowNode:e,column:t});const n=e.pinnedSibling;if(n){const c=this.model.getEdit({rowNode:n,column:t});c&&(s=c)}const r=i?s?.editorValue??s?.pendingValue:s?.pendingValue;return r===_n||!s?s?.sourceValue??this.valueSvc.getValue(t,e,!1,"api"):r}addStopEditingWhenGridLosesFocus(e){yB(this,this.beans,e)}createPopupEditorWrapper(e){return new Xz(e)}commitNextEdit(){this.committing=!0}setDataValue(e,t,i){try{if((!this.isEditing()||this.committing)&&!l_.has(i))return;const{beans:s}=this;this.strategy??(this.strategy=this.createStrategy());const n=this.isBatchEditing()?"ui":this.committing?i??"api":"api";if(!i||o_.has(i))return dC(s,e,t,i,void 0,{persist:!0}),this.setNodeDataValue(e.rowNode,e.column,t,!0,i);const r=this.model.getEdit(e);if(r){if(r.pendingValue===t)return!1;if(r.sourceValue!==t)return dC(s,e,t,i,void 0,{persist:!0}),this.stopEditing(e,{source:n,suppressNavigateAfterEdit:!0}),!0;if(r.sourceValue===t)return s.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...r,pendingValue:t}),!0}return dC(s,e,t,i,void 0,{persist:!0}),this.stopEditing(e,{source:n,suppressNavigateAfterEdit:!0}),!0}finally{this.committing=!1}}handleColDefChanged(e){xB(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,gd))return;const{rowNode:s,column:n}=e,{compDetails:r,valueToDisplay:c}=t;if(r){const{params:p}=r;return p.data=this.model.getEditRowDataValue(s,gd),{compDetails:r}}const h=this.model.getEditRow(e.rowNode,gd);if(c!==void 0&&h?.has(n))return{valueToDisplay:this.valueSvc.getValue(n,s)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,i,s){this.strategy?.dispatchCellEvent(e,t,i,s)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return tt(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},i){if(!i||i.length===0)return;const{beans:s,rangeSvc:n,valueSvc:r}=this;pc(s,{persist:!0});const c=this.model.getEditMap(!0),h=c.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),i.forEach(v=>{if(n?.forEachRowInRange(v,b=>{const R=Jr(s,b);if(R===void 0)return;const F=c.get(R)??new Map;for(const k of v.columns)if(k&&this.isCellEditable({rowNode:R,column:k},"api")){const O=r.getValue(k,R,!0,"api");let V=r.parseValue(k,R??null,h,O);Number.isNaN(V)&&(V=null),F.set(k,{editorValue:void 0,pendingValue:V,sourceValue:O,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}F.size>0&&c.set(R,F)}),this.setEditMap(c),this.batch){this.cleanupEditors(),Ly(s),this.bulkRefresh();return}this.commitNextEdit(),this.stopEditing(void 0,{source:"bulk"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(c)})}),this.bulkRefresh();const p=di(s,{rowNode:e,column:t});p&&p.focusCell(!0)}createCellStyleFeature(e,t){return new e_(e,t)}createRowStyleFeature(e,t){return new t_(e,t)}setEditingCells(e,t){const{beans:i}=this,{colModel:s,valueSvc:n}=i,r=new Map;e.forEach(({colId:c,column:h,colKey:p,rowIndex:v,rowPinned:b,newValue:R,state:F})=>{const k=c?s.getCol(c):p?s.getCol(p):h;if(!k)return;const O=Jr(i,{rowIndex:v,rowPinned:b});if(!O)return;const V=n.getValue(k,O,!0,"api");if(!t?.forceRefreshOfEditCellsOnly&&!jr({pendingValue:R,sourceValue:V})&&F!=="editing")return;let _=r.get(O);_||(_=new Map,r.set(O,_)),R===void 0&&(R=_n),_.set(k,{editorValue:void 0,pendingValue:R,sourceValue:V,state:F??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}),this.setEditMap(r,t)}onCellFocused(e){const t=di(this.beans,e);if(!t||!this.isEditing(t,gd))return;const i=this.model.getEdit(t);if(!i||!jr(i))return;const n=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(n,"pendingChange")}allowedFocusTargetOnValidation(e){return di(this.beans,e)}};function d_(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function nx(e,t){return t??e.get("editType")??"singleCell"}var _M=class extends ye{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const i=e.previousParams,{editSvc:s,beans:n}=this,r=e.type==="cellFocused"?e.sourceEvent:null;i&&(t=di(n,i));const{gos:c,editModelSvc:h}=n,p=e.type==="cellFocusCleared";if(s.isEditing(void 0,{withOpenEditor:!0})){const{column:v,rowIndex:b,rowPinned:R}=e,F={column:v,rowNode:Jr(n,{rowIndex:b,rowPinned:R})},k=c.get("invalidEditValueMode")==="block";if(k)return;const O=!k,V=!!h?.getCellValidationModel().hasCellValidation(F),_=O&&V;(i||p?s.stopEditing(void 0,{cancel:_,source:p&&O?"api":void 0,event:r}):!0)||(s.isBatchEditing()?s.cleanupEditors():s.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stop(e,t){const i=this.model.getEditPositions(),s={all:[],pass:[],fail:[]};if(i.forEach(r=>{if(s.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){s.fail.push(r);return}s.pass.push(r)}),e)return i.forEach(r=>{_C(this.beans,r,{cancel:e}),this.model.stop(r)}),!0;const n=this.processValidationResults(s);return n.destroy.length>0&&n.destroy.forEach(r=>{_C(this.beans,r,{event:t,cancel:e}),this.model.stop(r)}),n.keep.length>0&&n.keep.forEach(r=>{const c=di(this.beans,r);this.editSvc?.cellEditingInvalidCommitBlocks()||c&&this.editSvc.revertSingleCellEdit(c)}),!0}cleanupEditors({rowNode:e}={},t){pc(this.beans,{persist:!1});const i=this.model.getEditPositions(),s=[];e?i.forEach(n=>{!e||n.rowNode===e||s.push(n)}):i.forEach(n=>{s.push(n)}),Td(this.beans,s),Ly(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,i=t?.getCellEditor();if(i?.focusIn)i.focusIn();else{const s=this.beans.gos.get("editType")==="fullRow";e.focusCell(s),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:i=!1,startedEdit:s,position:n,cells:r=this.model.getEditPositions()}=e,c=t instanceof KeyboardEvent&&!i&&t.key||void 0;SB(this.beans,r,n,c,t,s)}dispatchCellEvent(e,t,i,s){const n=di(this.beans,e);n&&this.eventSvc.dispatchEvent({...n.createEvent(t??null,i),...s})}dispatchRowEvent(e,t,i){if(i)return;const s=Lb(this.beans,e);s&&this.eventSvc.dispatchEvent(s.createRowEvent(t))}shouldStop(e,t,i="ui"){const s=this.editSvc.isBatchEditing();return s&&i==="api"?!0:s&&(i==="ui"||i==="edit")?!1:i==="api"?!0:t instanceof KeyboardEvent&&!s?t.key===he.ENTER:null}shouldCancel(e,t,i="ui"){const s=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!s&&t.key===he.ESCAPE||s&&i==="api"||i==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const i=[];if(e.forEach((s,n)=>{s.forEach((r,c)=>{r.state==="editing"&&i.push({...r,rowNode:n,column:c})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),i.length>0){const s=i.at(-1),n=s.pendingValue===_n?void 0:s.pendingValue;this.start({position:s,event:new KeyboardEvent("keydown",{key:n}),source:"api"});const r=di(this.beans,s);r&&this.setFocusInOnEditor(r)}}destroy(){this.cleanupEditors(),super.destroy()}},h_=class extends _M{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,i="ui"){const{rowNode:s}=e||{};if(!Lb(this.beans,{rowNode:this.rowNode}))return!0;const r=super.shouldStop({rowNode:this.rowNode},t,i);return r!==null?r:this.rowNode?s!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:i,startedEdit:s,event:n,ignoreEventKey:r}=e,{rowNode:c}=t;this.rowNode!==c&&super.cleanupEditors(t),this.dispatchRowEvent({rowNode:c},"rowEditingStarted",i),this.startedRows.push(c);const h=this.beans.visibleCols.allCols,p=[];h.forEach(v=>{if(!v.isCellEditable(c))return;const b={rowNode:c,column:v};p.push(b),this.model.hasEdits(b)||this.model.start(b)}),this.rowNode=c,this.setupEditors({cells:p,position:t,startedEdit:s,event:n,ignoreEventKey:r})}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:i}=this;if(i&&!this.model.hasRowEdits(i))return!1;const s=[];return e||this.model.getEditMap().forEach((n,r)=>{if(!(!n||n.size===0)){for(const c of n.values())if(jr(c)){s.push(r);break}}}),kc(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:i})==="block-stop"?!1:(super.stop(e,t),s.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowValueChanged")),this.cleanupEditors({rowNode:i},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,i=e.previousParams;if(i?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const s=di(this.beans,i);this.gos.get("invalidEditValueMode")==="block"&&s&&(this.model.getCellValidationModel().getCellValidation(s)||this.model.getRowValidationModel().getRowValidation(s))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,i,s="ui",n=!1){const r=e.cellPosition;let c;this.model.suspend(!0);try{c=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(c===!1)return null;if(c==null)return!1;const h=c.cellPosition,p=e.isCellEditable(),v=c.isCellEditable(),b=h&&r.rowIndex===h.rowIndex&&r.rowPinned===h.rowPinned;p&&this.setFocusOutOnEditor(e),this.restoreEditors();const R=this.gos.get("suppressStartEditOnTab");return v&&!n?R?c.focusCell(!0,i):(c.comp?.getCellEditor()||Hd(this.beans,c,{event:i,cellStartedEdit:!0}),this.setFocusInOnEditor(c),c.focusCell(!1,i)):(v&&n&&this.setFocusInOnEditor(c),c.focusCell(!0,i)),!b&&!n&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:i}),this.cleanupEditors(c,!0),R?c.focusCell(!0,i):this.editSvc.startEditing(c,{startedEdit:!0,event:i,source:s,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:i},s)=>{if(i!=="editing")return;const n=di(this.beans,{rowNode:t,column:s});n&&!n.comp?.getCellEditor()&&Hd(this.beans,n,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},g_=class extends _M{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,i="ui"){const s=super.shouldStop(e,t,i);if(s!==null)return s;const{rowNode:n,column:r}=e||{};return(!this.rowNode||!this.column)&&n&&r?null:this.rowNode!==n||this.column!==r}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:i,event:s,ignoreEventKey:n}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:i,event:s,ignoreEventKey:n})}dispatchRowEvent(e,t,i){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:i}=this.beans,{rowIndex:s,column:n,rowPinned:r}=e,c=Jr(this.beans,{rowIndex:s,rowPinned:r}),h=ky(n),p=t.getCol(h),v=e.previousParams;if(v){const b=ky(v.column);if(v?.rowIndex===s&&b===h&&v?.rowPinned===r)return}i?.isEditing({rowNode:c,column:p},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,i,s="ui",n=!1){const r=this.beans.focusSvc.getFocusedCell();r&&(e=vd(this.beans,r)??e);const c=e.cellPosition;let h;const p=this.beans.gos.get("editType")==="fullRow";p&&this.model.suspend(!0),n||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:i}));try{h=this.beans.navigation?.findNextCellToFocusOn(c,{backwards:t,startEditing:!0})}finally{p&&this.model.suspend(!1)}if(h===!1)return null;if(h==null)return!1;const v=h.cellPosition,b=e.isCellEditable(),R=h.isCellEditable(),F=v&&c.rowIndex===v.rowIndex&&c.rowPinned===v.rowPinned;b&&!n&&this.setFocusOutOnEditor(e);const k=this.gos.get("suppressStartEditOnTab");if(!F&&!n&&(super.cleanupEditors(h,!0),k?h.focusCell(!0,i):this.editSvc.startEditing(h,{startedEdit:!0,event:i,source:s,ignoreEventKey:!0})),R&&!n){if(h.focusCell(!1,i),k)h.focusCell(!0,i);else if(!h.comp?.getCellEditor()){const O=this.editSvc?.isEditing(h,{withOpenEditor:!0});Hd(this.beans,h,{event:i,cellStartedEdit:!0,silent:O}),this.setFocusInOnEditor(h),this.cleanupEditors(h)}}else R&&n&&this.setFocusInOnEditor(h),h.focusCell(!0,i);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},ul={moduleName:"EditCore",version:Ne,beans:[wB,u_],apiFunctions:{getEditingCells:_z,getEditRowValues:zz,getCellEditorInstances:bB,startEditingCell:jz,stopEditing:Wz,isEditing:Uz,validateEdit:$z},dynamicBeans:{singleCell:g_,fullRow:h_},dependsOn:[lv,IM],css:[vz]},p_={moduleName:"UndoRedoEdit",version:Ne,beans:[Cz],apiFunctions:{undoCellEditing:Bz,redoCellEditing:Vz,getCurrentUndoSize:Kz,getCurrentRedoSize:qz},dependsOn:[ul]},f_={moduleName:"TextEditor",version:Ne,userComponents:{agCellEditor:sx,agTextCellEditor:sx},dependsOn:[ul]},m_={moduleName:"NumberEditor",version:Ne,userComponents:{agNumberCellEditor:{classImp:Az}},dependsOn:[ul]},C_={moduleName:"DateEditor",version:Ne,userComponents:{agDateCellEditor:xz,agDateStringCellEditor:Mz},dependsOn:[ul]},v_={moduleName:"CheckboxEditor",version:Ne,userComponents:{agCheckboxCellEditor:yz},dependsOn:[ul]},w_={moduleName:"SelectEditor",version:Ne,userComponents:{agSelectCellEditor:Lz},dependsOn:[ul]},y_={moduleName:"LargeTextEditor",version:Ne,userComponents:{agLargeTextCellEditor:Tz},dependsOn:[ul]},b_={moduleName:"CustomEditor",version:Ne,dependsOn:[ul]},S_=class extends ye{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,xd(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),QA(e))}createColumns(e,t){const i=()=>{kC(this.beans,this.columns?.tree),this.columns=null},s=e.treeDepth,r=(this.columns?.treeDepth??-1)==s,c=this.generateSelectionCols();if(ZA(c,this.columns?.list??[])&&r)return;i();const{colGroupSvc:p}=this.beans,v=p?.findDepth(e.tree)??0,b=p?.balanceTreeForAutoCols(c,v)??[];this.columns={list:c,tree:b,treeDepth:v,map:{}},t(F=>{if(!F)return null;const k=F.filter(O=>!ll(O));return[...c,...k]})}updateColumns(e){const t=xd(e.source);this.columns?.list.forEach(i=>{const s=this.createSelectionColDef(e.currentValue);i.setColDef(s,null,t),go(this.beans,{state:[{...s,colId:i.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>BR(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,i=e.get("rowSelection");if(typeof i!="object"||!mc(e))return!1;const s=(t.autoColSvc?.getColumns()?.length??0)>0;if(i.checkboxLocation==="autoGroupColumn"&&s)return!1;const n=!!Sd(i),r=tC(i);return n||r}createSelectionColDef(e){const{gos:t}=this,i=e??t.get("selectionColumnDef"),s=t.get("enableRtl"),{rowSpan:n,spanRows:r,...c}=i??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:s?"right":"left",comparator(h,p,v,b){const R=v.isSelected(),F=b.isSelected();return R===F?0:R?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...c,colId:HR,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const i=new Hc(e,null,t,!1);return this.createBean(i),[i]}onSelectionOptionsChanged(e,t,i){const s=t&&typeof t!="string"?Sd(t):void 0,n=e&&typeof e!="string"?Sd(e):void 0,r=s!==n,c=t&&typeof t!="string"?tC(t):void 0,h=e&&typeof e!="string"?tC(e):void 0,p=c!==h,v=TC(e),b=TC(t);(r||p||v!==b)&&this.beans.colModel.refreshAll(i)}destroy(){kC(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,i){if(!this.columns?.list.length)return;const s=e.length+t.length+i.length;if(s===0)return;const n=this.columns.list[0];if(!n.isVisible())return;const r=()=>{let p;switch(n.pinned){case"left":case!0:p=e;break;case"right":p=i;break;default:p=t}p&&zn(p,n)};(this.beans.rowNumbersSvc?.getColumn(NR)?2:1)===s&&r()}};function x_(e,t){if(!t.nodes.every(c=>c.rowPinned&&!Dp(c)?(Te(59),!1):c.id===void 0?(Te(60),!1):!0))return;const{nodes:s,source:n,newValue:r}=t;e.selectionSvc?.setNodesSelected({nodes:s,source:n??"api",newValue:r})}function R_(e,t,i="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:i,selectAll:t})}function E_(e,t,i="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:i,selectAll:t})}function M_(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function D_(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function T_(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function F_(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function P_(e){return e.selectionSvc?.getSelectedNodes()??[]}function A_(e){return e.selectionSvc?.getSelectedRows()??[]}var k_=class extends eI{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=FC(e),this.groupSelectsDescendants=lp(e),this.groupSelectsFiltered=AC(e)==="filteredDescendants",this.masterSelectsDetail=XS(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=lp(e),i=FC(e),s=AC(e)==="filteredDescendants";this.masterSelectsDetail=XS(e)==="detail",(t!==this.groupSelectsDescendants||s!==this.groupSelectsFiltered||i!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=s,this.mode=i)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,i){if(this.isRowSelectionBlocked(t))return 0;const s=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,i);if(s==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in s)return s.reset?this.resetNodes():this.selectRange(s.deselect,!1,i),this.selectRange(s.select,!0,i);{const n=s.checkFilteredNodes?UM(s.node):s.newValue;return this.setNodesSelected({nodes:[s.node],newValue:n,clearSelection:s.clearSelection,keepDescendants:s.keepDescendants,event:e,source:i})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:i,nodes:s,event:n,source:r,keepDescendants:c=!1}){const{gos:h}=this;if(!mc(h)&&e)return Te(132),0;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return Te(130),0;let p=0;for(let v=0;v<s.length;v++){const b=s[v],R=pd(b);if(R.rowPinned&&!Dp(R)){Te(59);continue}if(R.id===void 0){Te(60);continue}this.groupSelectsFiltered&&R.group&&!h.get("treeData")||this.selectRowNode(R,e,n,r)&&(this.detailSelection.delete(R.id),p++),this.groupSelectsDescendants&&R.childrenAfterGroup?.length&&(p+=this.selectChildren(R,e,r))}return i||(s.length===1&&r==="api"&&this.selectionCtx.setRoot(pd(s[0])),e&&(t||!this.isMultiSelect())&&(p+=this.clearOtherNodes(pd(s[0]),c,r)),p>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),p}selectRange(e,t,i){let s=0;return e.forEach(n=>{const r=pd(n);if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i){const s=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return s?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:i,nodes:s}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,s)=>{e(i)&&t.set(s,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:i,rowModel:s}=this.beans;if(!_i(i))return!1;const n=s.rootNode;if(!n)return!1;t||(t=new dp(!0,n),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(c=>{if(c!==n){const h=this.calculateSelectedFromChildren(c);r=this.selectRowNode(c,h===null?!1:h,void 0,e)||r}}),r}clearOtherNodes(e,t,i){const s=new Map;let n=0;return this.selectedNodes.forEach(r=>{const c=r.id==e.id;if((t?!O_(e,r):!0)&&!c){const p=this.selectedNodes.get(r.id);n+=this.setNodesSelected({nodes:[p],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsDescendants&&r.parent&&s.set(r.parent.id,r.parent)}}),s.forEach(r=>{const c=this.calculateSelectedFromChildren(r);this.selectRowNode(r,c===null?!1:c,void 0,i)}),n}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Pc(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!_i(e))return;const i=t.getTopLevelNodes();if(i===null)return;const s=[];function n(r){for(let c=0,h=r.length;c<h;c++){const p=r[c];p.isSelected()?s.push(p):p.group&&p.childrenAfterGroup&&n(p.childrenAfterGroup)}}return n(i),s}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const i=_i(this.gos);let s=!1;const n=r=>{const c=this.selectRowNode(pd(r),!1,void 0,e);s||(s=c)};if(t==="currentPage"||t==="filtered"){if(!i){jt(102);return}this.getNodesToSelect(t).forEach(n)}else this.selectedNodes.forEach(n),this.reset(e);if(this.selectionCtx.selectAll=!1,i&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);s||(s=r)}s&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,i=0;return this.getNodesToSelect(e).forEach(s=>{this.groupSelectsDescendants&&s.group||(s.isSelected()?t++:s.selectable&&i++)}),{selectedCount:t,notSelectedCount:i}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:i}=this.getSelectedCounts(e);return WM(t,i)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],i=n=>t.push(n);if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){i(n);return}if(!n.expanded&&!n.footer){const r=c=>{i(c),c.childrenAfterFilter?.forEach(r)};r(n);return}this.groupSelectsDescendants||i(n)}),t;const s=this.beans.rowModel;return e==="filtered"?(s.forEachNodeAfterFilter(i),t):(s.forEachNode(i),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:i}=this.beans,s=t.getFirstRow(),n=t.getLastRow();for(let r=s;r<=n;r++){const c=i.getRow(r);c&&e(c)}}selectAllRowNodes(e){const{gos:t,selectionCtx:i}=this;if(!mc(t)){Te(132);return}if(NA(t)&&!PC(t)){Te(130);return}if(!this.canSelectAll())return;const{source:s,selectAll:n}=e;let r=!1;if(this.getNodesToSelect(n).forEach(c=>{const h=this.selectRowNode(pd(c),!0,void 0,s);r||(r=h)}),i.selectAll=!0,_i(t)&&this.groupSelectsDescendants){const c=this.updateGroupsFromChildrenSelections(s);r||(r=c)}r&&this.dispatchSelectionChanged(s)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,i){if(e||(e=[]),!Array.isArray(e)){jt(103);return}const s=new Set(e),n=[];this.beans.rowModel.forEachNode(r=>{s.has(r.id)&&n.push(r)}),i&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!_i(e)}updateSelectable(e){const{gos:t,rowModel:i}=this.beans;if(!mc(t))return;const s="selectableChanged",n=e!==void 0,r=_i(t)&&this.groupSelectsDescendants,c=[],h=p=>{if(n&&!p.group)return;if(r&&p.group){const b=p.childrenAfterGroup?.some(R=>R.selectable)??!1;this.setRowSelectable(p,b,!0);return}!this.updateRowSelectable(p,!0)&&p.isSelected()&&c.push(p)};if(r){if(e===void 0){const p=i.rootNode;e=p?new dp(!1,p):void 0}e?.forEachChangedNodeDepthFirst(h,!n,!n)}else i.forEachNode(h);c.length&&this.setNodesSelected({nodes:c,newValue:!1,source:s}),!n&&r&&this.updateGroupsFromChildrenSelections?.(s)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const i=e.detailNode?.detailGridInfo?.api;if(!i)return;const s=L_(i);if(e.isSelected()!==s&&this.selectRowNode(e,s,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!s){const r=this.detailSelection.get(e.id)??new Set;for(const c of i.getSelectedNodes())r.add(c.id);this.detailSelection.set(e.id,r)}}setDetailSelectionState(e,t,i){if(this.masterSelectsDetail){if(!PC(t)){Te(269);return}switch(e.isSelected()){case!0:{i.selectAll();break}case!1:{i.deselectAll();break}case void 0:{const s=this.detailSelection.get(e.id);if(s){const n=[];for(const r of s){const c=i.getRowNode(r);c&&n.push(c)}i.setNodesSelected({nodes:n,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function pd(e){return Dp(e)?e.pinnedSibling:e.footer?e.sibling:e}function L_(e){let t=0,i=0;return e.forEachNode(s=>{s.isSelected()?t++:s.selectable&&i++}),WM(t,i)}function WM(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function O_(e,t){let i=t.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}function UM(e){const t=e.isSelected()===!1,i=e.childrenAfterFilter?.some(UM)??!1;return t||i}var I_={moduleName:"SharedRowSelection",version:Ne,beans:[S_],apiFunctions:{setNodesSelected:x_,selectAll:R_,deselectAll:E_,selectAllFiltered:M_,deselectAllFiltered:D_,selectAllOnCurrentPage:T_,deselectAllOnCurrentPage:F_,getSelectedNodes:P_,getSelectedRows:A_}},H_={moduleName:"RowSelection",version:Ne,rowModels:["clientSide","infinite","viewport"],beans:[k_],dependsOn:[I_]};function N_(e){e.expansionSvc?.expandAll(!0)}function G_(e){e.expansionSvc?.expandAll(!1)}function jM(e){e.rowModel?.onRowHeightChanged()}function $M(e){if(e.rowAutoHeight?.active){Te(3);return}e.rowModel?.resetRowHeights()}function B_(e,t,i){const s=TI(e);if(s){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){jt(238);return}s.setRowCount(t,i);return}jt(28);return}const n=av(e);if(n){n.setRowCount(t,i);return}}function V_(e){return Ic(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function z_(e){return e.rowModel.isLastRowIndexKnown()}var __={moduleName:"CsrmSsrmSharedApi",version:Ne,apiFunctions:{expandAll:N_,collapseAll:G_}},W_={moduleName:"RowModelSharedApi",version:Ne,apiFunctions:{onRowHeightChanged:jM,resetRowHeights:$M}},U_={moduleName:"SsrmInfiniteSharedApi",version:Ne,apiFunctions:{setRowCount:B_,getCacheBlockState:V_,isLastRowIndexKnown:z_}},j_=class extends ye{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(s=>{if(!s){jt(18),t||jt(20);return}if(this.isGridApi(s))return s;const n=s;return"current"in n?n.current?.api:(n.api||jt(19),n.api)}).filter(s=>!!s&&!s.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(s=>{i.push(t(s))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Te(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(i=>{let s=null;i&&(s=t.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&t.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let i=null;const s=this.beans,{colResize:n,ctrlsSvc:r,colModel:c}=s;if(t&&(i=c.getColDefCol(t.getColId())),t&&!i)return;const h=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const R=e.api.getColumnState().map(F=>({colId:F.colId}));go(s,{state:R,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const R=e.api.getColumnState().map(F=>({colId:F.colId,hide:F.hide}));go(s,{state:R},"alignedGridChanged")}break;case"columnPinned":{const R=e.api.getColumnState().map(F=>({colId:F.colId,pinned:F.pinned}));go(s,{state:R},"alignedGridChanged")}break;case"columnResized":{const b=e,R={};h.forEach(F=>{R[F.getId()]={key:F.getColId(),newWidth:F.getActualWidth()}}),b.flexColumns?.forEach(F=>{R[F.getId()]&&delete R[F.getId()]}),n?.setColumnWidths(Object.values(R),!1,b.finished,"alignedGridChanged");break}}const v=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(b=>{b.setGridOption("alwaysShowVerticalScroll",v)})}},$_={moduleName:"AlignedGrids",version:Ne,beans:[j_],dependsOn:[YE]},K_=class extends YO{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},qw=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}},KM=e=>{const t=e.childrenAfterSort,i=e.sibling;if(i&&(i.childrenAfterSort=t),!!t)for(let s=0,n=t.length-1;s<=n;s++){const r=t[s],c=s===0,h=s===n;r.firstChild!==c&&(r.firstChild=c,r.dispatchRowEvent("firstChildChanged")),r.lastChild!==h&&(r.lastChild=h,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==s&&(r.childIndex=s,r.dispatchRowEvent("childIndexChanged"))}},q_=class extends ye{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans.sortSvc.getSortOptions(),i=t.length>0&&!!e.changedRowNodes&&this.gos.get("deltaSort");this.sort(t,i,e.changedRowNodes,e.changedPath)}sort(e,t,i,s){const{gos:n,colModel:r,rowGroupColsSvc:c,rowNodeSorter:h,rowRenderer:p,showRowGroupCols:v}=this.beans,b=n.get("groupMaintainOrder"),R=r.getCols().some(U=>U.isRowGroupActive()),F=c?.columns,k=r.isPivotMode(),O=n.getCallback("postSortRows");let V=!1,_;const W=U=>{const K=k&&U.leafGroup;let X=b&&R&&!U.leafGroup;X&&(_??(_=this.shouldSortContainsGroupCols(e)),X&&(X=!_));let Y=null;if(X){let de=!1;if(F){const re=U.level+1;re<F.length&&(de=F[re].getSort()===null)}de||(Y=Z_(U))}else!e.length||K?Y=null:t&&i?Y=Y_(h,U,i,s,e):Y=h.doFullSort(U.childrenAfterAggFilter,e);if(Y||(Y=U.childrenAfterAggFilter?.slice(0)??[]),V||(V=U.childrenAfterSort?.[0]!==Y[0]),U.childrenAfterSort=Y,KM(U),O){const de={nodes:U.childrenAfterSort};O(de)}};if(s?.forEachChangedNodeDepthFirst(W),V&&n.get("groupHideOpenParents")){const U=v?.getShowRowGroupCols();U?.length&&p.refreshCells({columns:U,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(Jo(this.gos)){for(let i=0;i<t;++i){const s=e[i].column;if(s.isPrimary()&&s.isRowGroupActive())return!0}return!1}for(let i=0;i<t;++i)if(e[i].column.getColDef().showRowGroup)return!0;return!1}},Y_=(e,t,i,s,n)=>{const r=t.childrenAfterAggFilter,c=t.childrenAfterSort;if(!c)return e.doFullSort(r,n);const h=new Set,p=[],{updates:v,adds:b}=i;for(let F=0,k=r.length;F<k;++F){const O=r[F];v.has(O)||b.has(O)||s&&!s.canSkip(O)?p.push({currentPos:p.length,rowNode:O}):h.add(O)}const R=c.filter(F=>h.has(F)).map((F,k)=>({currentPos:k,rowNode:F}));return p.sort((F,k)=>e.compareRowNodes(n,F,k)),X_(e,n,p,R)},X_=(e,t,i,s)=>{let n=0,r=0;const c=i.length,h=s.length,p=new Array(c+h);let v=0;for(;n<c&&r<h;){const b=i[n],R=s[r];e.compareRowNodes(t,b,R)<0?(p[v++]=b.rowNode,++n):(p[v++]=R.rowNode,++r)}for(;n<c;)p[v++]=i[n++].rowNode;for(;r<h;)p[v++]=s[r++].rowNode;return p},Z_=e=>{const t=e.childrenAfterSort,i=e.childrenAfterAggFilter,s=t?.length,n=i?.length;if(!s||!n)return null;const r=new Array(n),c=new Set;for(let p=0;p<n;++p)c.add(i[p]);let h=0;for(let p=0;p<s;++p){const v=t[p];c.delete(v)&&(r[h++]=v)}if(c.size===0&&h===s)return t;for(const p of c)r[h++]=p;return r.length=h,r},Q_=class extends ye{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=ls(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(s=>!!s);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners(),this.rootNode=new Pc(this.beans);const i=this.getNewNodeManager();this.nodeManager=i,i.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return OR(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const i=t.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,s){let n,r=!1;do{n=!1;const c=this.getRowIndexAtPixel(e),h=this.getRowIndexAtPixel(t),p=Math.max(c,i),v=Math.min(h,s);for(let b=p;b<=v;b++){const R=this.getRow(b);if(R.rowHeightEstimated){const F=sl(this.beans,R);R.setRowHeight(F.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r}onPropChange(e){if(!this.rootNode)return;const t=this.gos,i=new Set(e),s={step:"nothing",changedProps:i},n=i.has("rowData"),r=this.nodeManager,c=this.getNewNodeManager(),h=r!==c||n&&i.has("treeData")&&t.get("treeData")||i.has("treeDataChildrenField")&&t.get("treeData");let p;if((h||n)&&(p=t.get("rowData"),p!=null&&!Array.isArray(p)&&(p=null,Te(1))),h&&(n||(p=r?.extractRowData()??p),r!==c&&(r?.deactivate(),this.nodeManager=c),c.activate(this.rootNode)),p)if(!h&&!this.isEmpty()&&p.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))s.keepRenderedRows=!0,s.animate=!this.gos.get("suppressAnimationFrame"),s.changedRowNodes=new qw,c.setImmutableRowData(s,p);else{s.rowDataUpdated=!0,s.newData=!0;const{selectionSvc:b,pinnedRowModel:R}=this.beans;b?.reset("rowDataChanged"),R?.isManual()&&R.reset(),this.rowNodesCountReady=!0,c.setNewRowData(p)}if(s.rowDataUpdated)s.step="group";else if(s.step==="nothing"){for(const{refreshProps:v,step:b}of this.orderedStages)if(e.some(R=>v.has(R))){s.step=b;break}}s.step!=="nothing"&&this.refreshModel(s)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,i=e.environment.getDefaultRowHeight();let s=0;const n=new Set,r=cs(this.gos,"normal");for(let c=0,h=t.length;c<h;++c){const p=t[c];if(p.id!=null&&n.add(p.id),p.rowHeight==null){const v=sl(e,p,r,i);p.setRowHeight(v.height,v.estimated)}p.setRowTop(s),p.setRowIndex(c),s+=p.rowHeight}return n}clearRowTopAndRowIndex(e,t){const i=e.active,s=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},n=r=>{if(r!==null&&(s(r),s(r.detailNode),s(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){const c=r.level==-1;i&&!c&&!r.expanded||r.childrenAfterGroup.forEach(n)}};n(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const i=e.childrenAfterSort,s=e.sibling&&e.sibling.displayed?1:0;return(i?i.length:0)+s}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;const{childrenAfterSort:n}=t,r=h=>{let p=n[h];if(this.gos.get("groupHideOpenParents"))for(;p.expanded&&p.childrenAfterSort&&p.childrenAfterSort.length>0;)p=p.childrenAfterSort[0];return p.rowIndex},{footerSvc:c}=this.beans;return c?c.getTopDisplayIndex(i,e,n,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;let n=this.getRow(e);for(n.footer&&(n=n.sibling);n.parent&&n.parent!==t;)n=n.parent;const r=t.childrenAfterSort?.findIndex(c=>c===n);return r===-1?e:r??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=bd(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=bd(this.gos),s=e.columns.length===0||e.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=bd(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new dp(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:i,rowDataUpdated:s}=e;return!(!t||i||!s||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let i=!!e.rowDataUpdated;const s=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&i));if(this.started&&i&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.rowDataUpdatedPending||(this.rowDataUpdatedPending=i);return}switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=i=!0,e.step="group"),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),i&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||i)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(s);case"pivot":this.doPivot(s);case"aggregate":this.doAggregate(s);case"filter_aggregates":this.doFilterAggregates(s);case"sort":this.doSort(e.changedRowNodes,s);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(s,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const n=[],r=lp(this.gos);return this.forEachNodeAfterFilterAndSort(c=>{if(s)return;if(i&&(c===t||c===e)&&(s=!0,c.group&&r)){n.push(...c.allLeafChildren);return}if(!i){if(c!==t&&c!==e)return;i=!0,t===e&&(s=!0)}if(!c.group||!r){n.push(c);return}}),n}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let i=0,s=t.length-1;if(e<=0)return 0;if(Ut(t).rowTop<=e)return t.length-1;let r=-1,c=-1;for(;;){const h=Math.floor((i+s)/2),p=t[h];if(this.isRowInPixel(p,e)||(p.rowTop<e?i=h+1:p.rowTop>e&&(s=h-1),r===i&&c===s))return h;r=i,c=s}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t=!1,i=!1){const{colModel:s,rowGroupColsSvc:n}=this.beans;if(!s.isPivotMode())return;if(!n?.columns.length){e(this.rootNode,0);return}const r=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,c=>c.leafGroup?null:c[r])}depthFirstSearchRowNodes(e,t=!1,i=r=>r.childrenAfterGroup,s=this.rootNode,n=0){let r=n;if(!s)return r;const c=s===this.rootNode;c||e(s,r++);const{footerSvc:h}=this.beans;if(s.hasChildren()&&!s.footer){const p=i(s);if(p){r=h?.addTotalRows(r,s,e,t,c,"top")??r;for(const v of p)r=this.depthFirstSearchRowNodes(e,t,i,v,r);return h?.addTotalRows(r,s,e,t,c,"bottom")??r}}return r}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(i=>{i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),KM(i)})}doRowGrouping(e){const t=this.rootNode,i=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(i!==void 0)return i;const s=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,s&&(s.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,yM(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(by)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],i=new qw;let s=!1;this.rowDataTransactionBatch?.forEach(n=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:r,rowsInserted:c}=this.nodeManager.updateRowData(n.rowDataTransaction,i);c&&(s=!0),t.push(r),n.callback&&e.push(n.callback.bind(null,r))}),this.commitTransactions(s,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new qw,{rowNodeTransaction:i,rowsInserted:s}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(s,t),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let i;if(e)i=e.execute({rowNode:t});else{i=t?.childrenAfterSort??[];for(const s of i)s.setUiLevel(0)}this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=JS,this.rowsToDisplay=JS}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function J_(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function eW(e,t){const i=sa(e);i&&((!t||t==="everything")&&(t="group"),i.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function tW(e){return sa(e)?.isEmpty()??!0}function iW(e,t){sa(e)?.forEachLeafNode(t)}function sW(e,t){sa(e)?.forEachNodeAfterFilter(t)}function nW(e,t){sa(e)?.forEachNodeAfterFilterAndSort(t)}function oW(e,t){return e.frameworkOverrides.wrapIncoming(()=>sa(e)?.updateRowData(t))}function rW(e,t,i){e.frameworkOverrides.wrapIncoming(()=>sa(e)?.batchUpdateRowData(t,i))}function aW(e){e.frameworkOverrides.wrapIncoming(()=>sa(e)?.flushAsyncTransactions())}function lW(e){return e.selectionSvc?.getBestCostNodeSelection()}var cW={moduleName:"ClientSideRowModel",version:Ne,rowModels:["clientSide"],beans:[K_,Q_,q_],dependsOn:[mM]},uW={moduleName:"ClientSideRowModelApi",version:Ne,apiFunctions:{onGroupExpandedOrCollapsed:J_,refreshClientSideRowModel:eW,isRowDataEmpty:tW,forEachLeafNode:iW,forEachNodeAfterFilter:sW,forEachNodeAfterFilterAndSort:nW,applyTransaction:oW,applyTransactionAsync:rW,flushAsyncTransactions:aW,getBestCostNodeSelection:lW,resetRowHeights:$M,onRowHeightChanged:jM},dependsOn:[__,W_]},dW=class extends ye{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:i,columnKeys:s,skipRowGroups:n,exportRowNumbers:r}=t,c=this.getColumnsToExport({allColumns:i,skipRowGroups:n,columnKeys:s,exportRowNumbers:r});return[this.prepareSession(c),this.prependContent(t),this.exportColumnGroups(t,c),this.exportHeaders(t,c),this.processPinnedTopRows(t,c),this.processRows(t,c),this.processPinnedBottomRows(t,c),this.appendContent(t)].reduce((h,p)=>p(h),e).parse()}processRow(e,t,i,s){const n=t.shouldRowBeSkipped||(()=>!1),c=t.rowPositions!=null||!!t.onlySelected,h=this.gos.get("groupHideOpenParents")&&!c,p=this.colModel.isPivotMode()?s.leafGroup:!s.group,v=!!s.footer,b=s.allChildrenCount===1&&s.childrenAfterGroup?.length===1&&IA(this.gos,s);if(!p&&!v&&(t.skipRowGroups||b||h)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&s.rowPinned==="top"||t.skipPinnedBottom&&s.rowPinned==="bottom"||s.stub||s.level===-1&&!p&&!v||n(tt(this.gos,{node:s})))return;const k=e.onNewBodyRow(s);if(i.forEach((O,V)=>{k.onColumn(O,V,s)}),t.getCustomContentBelowRow){const O=t.getCustomContentBelowRow(tt(this.gos,{node:s}));O&&e.addCustomContent(O)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new qR,{colGroupSvc:n}=this.beans,r=n?n.createColumnGroups({columns:t,idCreator:s,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const s=i.onNewHeaderRow();t.forEach((n,r)=>{s.onColumn(n,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(n=>n.rowPinned==="top").sort((n,r)=>n.rowIndex-r.rowIndex).map(n=>this.pinnedRowModel?.getPinnedTopRow(n.rowIndex)).forEach(s):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",s),i}}processRows(e,t){return i=>{const s=this.rowModel,n=_i(this.gos),r=Ic(this.gos),c=!n&&e.onlySelected,h=this.processRow.bind(this,i,e,t),{exportedRows:p="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(v=>v.rowPinned==null).sort((v,b)=>v.rowIndex-b.rowIndex).map(v=>s.getRow(v.rowIndex)).forEach(h),i;if(this.colModel.isPivotMode())return n?s.forEachPivotNode(h,!0,p==="filteredAndSorted"):r?s.forEachNodeAfterFilterAndSort(h,!0):s.forEachNode(h),i;if(e.onlySelectedAllPages||c){const v=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(v),v.forEach(h)}else p==="all"?s.forEachNode(h):n||r?s.forEachNodeAfterFilterAndSort(h,!0):s.forEachNode(h);return i}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:i}=this.beans;if(!t||!i)return;const s=t.getSortOptions(),n=(r,c)=>r.rowIndex!=null&&c.rowIndex!=null?r.rowIndex-c.rowIndex:r.level===c.level?r.parent?.id===c.parent?.id?i.compareRowNodes(s,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:c,currentPos:c.rowIndex??-1}):n(r.parent,c.parent):r.level>c.level?n(r.parent,c):n(r,c.parent);e.sort(n)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(n=>n.rowPinned==="bottom").sort((n,r)=>n.rowIndex-r.rowIndex).map(n=>this.pinnedRowModel?.getPinnedBottomRow(n.rowIndex)).forEach(s):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",s),i}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:i=!1,exportRowNumbers:s=!1,columnKeys:n}=e,{colModel:r,gos:c,visibleCols:h}=this,p=r.isPivotMode(),v=F=>ll(F)?!1:!el(F)||s;if(n&&n.length)return r.getColsForKeys(n).filter(v);const b=c.get("treeData");let R=[];return t&&!p?R=r.getCols():R=h.allCols,R=R.filter(F=>v(F)&&(i&&!b?!ub(F):!0)),R}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach(n=>{const r=n;r.getChildren&&r.getChildren().forEach(c=>s.push(c))}),e.length>0&&Fi(e[0])&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let n=0;t.forEach(r=>{const c=r;let h;i?h=i(tt(this.gos,{columnGroup:c})):h=this.beans.colNames.getDisplayNameForColumnGroup(c,"header");const v=(c.isExpandable()?c.getLeafColumns():[]).reduce((b,R,F,k)=>{let O=Ut(b);return R.getColumnGroupShow()==="open"?(!O||O[1]!=null)&&(O=[F],b.push(O)):O&&O[1]==null&&(O[1]=F-1),F===k.length-1&&O&&O[1]==null&&(O[1]=F),b},[]);s.onColumn(c,h||"",n++,c.getLeafColumns().length-1,v)})}},hW={moduleName:"SharedExport",version:Ne,beans:[dW]},ox=`\r
`,gW=class extends $2{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,ox),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,s)=>{s!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Te(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=ox),this.isFirstLine=!1}},pW=class extends j2{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Te(51);return}const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\uFEFF",i],{type:"text/plain"}),n=typeof t.fileName=="function"?t.fileName(tt(this.gos,{})):t.fileName;K2(this.getFileName(n),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:i,rowGroupColsSvc:s,valueSvc:n,gos:r}=this,{processCellCallback:c,processHeaderCallback:h,processGroupHeaderCallback:p,processRowGroupCallback:v,suppressQuotes:b,columnSeparator:R}=e;return new gW({colModel:t,colNames:i,valueSvc:n,gos:r,processCellCallback:c||void 0,processHeaderCallback:h||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:v||void 0,suppressQuotes:b||!1,columnSeparator:R||",",rowGroupColsSvc:s})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function fW(e,t){return e.csvCreator?.getDataAsCsv(t)}function mW(e,t){e.csvCreator?.exportDataAsCsv(t)}var CW={moduleName:"CsvExport",version:Ne,beans:[pW],apiFunctions:{getDataAsCsv:fW,exportDataAsCsv:mW},dependsOn:[hW]},vW=class extends ye{constructor(e,t,i){super(),this.id=e,this.parentCache=t,this.params=i,this.state="needsLoading",this.version=0,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:i,beans:s,rowNodes:n}=this;for(let r=0;r<e;r++){const c=i+r,h=new Pc(s);h.setRowHeight(t),h.uiLevel=0,h.setRowIndex(c),h.setRowTop(t*c),n.push(h)}}getBlockStateJson(){const{id:e,startRow:t,endRow:i,state:s}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:i,pageStatus:s}}}setDataAndId(e,t,i){He(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(gi(this.params.datasource.getRows)){Te(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:i,params:{sortModel:s,filterModel:n},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,i),failCallback:this.pageLoadFailed.bind(this,i),sortModel:s,filterModel:n,context:tt(r,{}).context}}forEachNode(e,t,i){this.rowNodes.forEach((s,n)=>{this.startRow+n<i&&e(s,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const i=e-this.startRow;return this.rowNodes[i]}processServerResult(e){const{rowNodes:t,beans:i}=this;t.forEach((n,r)=>{const c=e.rowData?e.rowData[r]:void 0;!n.id&&n.alreadyRendered&&c&&(t[r]=new Pc(i),t[r].setRowIndex(n.rowIndex),t[r].setRowTop(n.rowTop),t[r].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(t[r],c,this.startRow+r)});const s=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,s)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},wW=2,yW=class extends ye{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let s=this.blocks[i];if(!s){if(t)return;s=this.createBlock(i)}return s.getRow(e)}createBlock(e){const t=this.params,i=this.createBean(new vW(e,this,t));return this.blocks[i.id]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),t.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Dc(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(c=>c!=e),i=(c,h)=>h.lastAccessed-c.lastAccessed;t.sort(i);const s=this.params.maxBlocksInCache>0,n=s?this.params.maxBlocksInCache-1:null,r=wW-1;t.forEach((c,h)=>{const p=c.state==="needsLoading"&&h>=r,v=s?h>=n:!1;if(p||v){if(this.isBlockCurrentlyDisplayed(c)||this.isBlockFocused(c))return;this.removeBlockFromCache(c)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:i,endRow:s}=e;return t.rowIndex>=i&&t.rowIndex<s}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:i}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,i-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:i,overflowSize:s}=this.params,r=(e.id+1)*i+s;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,He(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(i,s)=>i.id-s.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let s=-1,n=!1;const r={value:0};let c=!1;return this.getBlocksInOrder().forEach(p=>{if(!c){if(n&&s+1!==p.id){c=!0;return}s=p.id,p.forEachNode(v=>{const b=v===e||v===t;(n||b)&&i.push(v),b&&(n=!n)},r,this.rowCount)}}),c||n?[]:i}},bW=class extends ye{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Cc(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Cc(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!ip(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;kd(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:i,rowNodeBlockLoader:s,eventSvc:n,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:i?.getSortModel()??[],rowNodeBlockLoader:s,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:Cc(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new yW(this.cacheParams)),n.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function SW(e){av(e)?.refreshCache()}function xW(e){av(e)?.purgeCache()}function RW(e){return av(e)?.getRowCount()}var EW=class extends ye{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=HA(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=ls(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){zn(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Dc(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(i=>i.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s}),e}printCacheStatus(){Dc(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},MW={moduleName:"InfiniteRowModelCore",version:Ne,rowModels:["infinite"],beans:[bW,EW]},DW={moduleName:"InfiniteRowModel",version:Ne,apiFunctions:{refreshInfiniteCache:SW,purgeInfiniteCache:xW,getInfiniteRowCount:RW},dependsOn:[MW,U_]},TW="↑",FW="↓",PW={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},AW=class extends wi{constructor(){super(PW),this.eValue=Xe,this.eDelta=Xe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),n=He(s)?s:i,r=t>=0,c=this.eDelta;r?c.textContent=TW+n:c.textContent=FW+n,c.classList.toggle("ag-value-change-delta-up",r),c.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Zs(this.eDelta)}refresh(e,t=!1){const{value:i,valueFormatted:s}=e,{eValue:n,lastValue:r,beans:c}=this;if(i===r||(He(s)?n.textContent=s:He(i)?n.textContent=i:Zs(n),c.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const h=i&&typeof i=="object"&&"toNumber"in i?i.toNumber():i,p=r&&typeof r=="object"&&"toNumber"in r?r.toNumber():r;if(h===p)return!1;if(typeof h=="number"&&typeof p=="number"){const v=h-p;this.showDelta(e,v)}return r&&n.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},kW=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",LW={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},OW=class extends wi{constructor(){super(LW),this.eCurrent=Xe,this.refreshCount=0,this.registerCSS(kW)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:i}=this,s=ks({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=s,s.textContent=i.textContent,this.getGui().insertBefore(s,i),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;if(gi(i)&&(i=""),i===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=i;const s=this.eCurrent;return He(e.valueFormatted)?s.textContent=e.valueFormatted:He(e.value)?s.textContent=i:Zs(s),!0}},IW=class extends ye{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,i=this.beans.gos.get("cellFlashDuration"),s=this.beans.gos.get("cellFadeDuration")){const n=this.animations[t];n.delete(e);const r=Date.now(),c=r+i,h=r+i+s,p={phase:"flash",flashEndTime:c,fadeEndTime:h};n.set(e,p);const v=`ag-cell-${t}`,b=`${v}-animation`,{comp:R,eGui:{style:F}}=e;R.toggleCss(v,!0),R.toggleCss(b,!1),F.removeProperty("transition"),F.removeProperty("transition-delay"),this.nextAnimationTime&&c+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),i)}),this.nextAnimationTime=c)}advanceAnimations(){const e=Date.now();let t=null;for(const i of Object.keys(this.animations)){const s=this.animations[i],n=`ag-cell-${i}`,r=`${n}-animation`;for(const[c,h]of s){if(!c.isAlive()||!c.comp){s.delete(c);continue}const{phase:p,flashEndTime:v,fadeEndTime:b}=h,R=p==="flash"?v:b;if(!(e+15>=R)){t=Math.min(R,t??1/0);continue}const{comp:k,eGui:{style:O}}=c;switch(p){case"flash":k.toggleCss(n,!1),k.toggleCss(r,!0),O.transition=`background-color ${b-v}ms`,O.transitionDelay=`${v-e}ms`,t=Math.min(b,t??1/0),h.phase="fade";break;case"fade":k.toggleCss(n,!1),k.toggleCss(r,!1),O.removeProperty("transition"),O.removeProperty("transition-delay"),s.delete(c);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const i=FI(e.cellPosition);t.cells[i]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function HW(e,t={}){const{cellFlashSvc:i}=e;i&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>i.flashCell(s,t))})}var NW={moduleName:"HighlightChanges",version:Ne,beans:[IW],userComponents:{agAnimateShowChangeCellRenderer:AW,agAnimateSlideCellRenderer:OW},apiFunctions:{flashCells:HW}};function GW(e){return e.stateSvc?.getState()??{}}function BW(e,t,i){return e.stateSvc?.setState(t,i)}function rx(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=VW(e)}return e.version=Ne,e}function VW(e){return e.cellSelection=zW(e,"rangeSelection"),e}function zW(e,t){if(e&&typeof e=="object")return e[t]}var _W=class extends ye{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ls(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ls(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=ls(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:i}=this.beans;this.isClientSideRowModel=_i(e);const s=rx(e.get("initialState")??{}),n=s.partialColumnState;delete s.partialColumnState,this.cachedState=s;const r=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>r(()=>this.setupStateOnGridReady(s))),(s.columnOrder||s.columnVisibility||s.columnSizing||s.columnPinning||s.columnGroup)&&i?.hideColumns("columnState");const[c,h,p]=this.addManagedEventListeners({newColumnsLoaded:({source:v})=>{v==="gridInitializing"&&(c(),r(()=>{this.setupStateOnColumnsInitialised(s,!!n),i?.revealColumns("columnState")}))},rowCountReady:()=>{h?.(),r(()=>this.setupStateOnRowCountReady(s))},firstDataRendered:()=>{p?.(),r(()=>this.setupStateOnFirstDataRendered(s))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const i=rx(e);delete i.partialColumnState,this.cachedState=i,this.startSuppressEvents();const s="api",n=t?new Set(t):void 0;this.setGridReadyState(i,s,n),this.setColumnsInitialisedState(i,s,!1,n),this.setRowCountState(i,s,n),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(i,s,n),this.stopSuppressEvents(s)})}setGridReadyState(e,t,i){t==="api"&&!i?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,i,s){this.setColumnState(e,t,i,s),this.setColumnGroupState(e,t,s),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const i=s=>()=>this.updateColumnState([s]);this.addManagedEventListeners({columnValueChanged:i("aggregation"),columnMoved:i("columnOrder"),columnPinned:i("columnPinning"),columnResized:i("columnSizing"),columnVisible:i("columnVisibility"),columnPivotChanged:i("pivot"),columnPivotModeChanged:i("pivot"),columnRowGroupChanged:i("rowGroup"),sortChanged:i("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,i){const{filter:s,rowGroupExpansion:n,ssrmRowGroupExpansion:r,rowSelection:c,pagination:h}=e,p=(b,R)=>!i?.has(b)&&(R||t==="api");p("filter",s)&&this.setFilterState(s),p("rowGroupExpansion",n)&&this.setRowGroupExpansionState(r,n,t),p("rowSelection",c)&&this.setRowSelectionState(c,t),p("pagination",h)&&this.setPaginationState(h,t);const v=this.updateCachedState.bind(this);v("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(v("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),v("rowGroupExpansion",void 0)):(v("rowGroupExpansion",this.getRowGroupExpansionState()),v("ssrmRowGroupExpansion",void 0)),v("rowSelection",this.getRowSelectionState()),v("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),i=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},s=()=>t("filter",this.getFilterState()),{gos:n,colFilter:r}=this.beans;this.addManagedEventListeners({filterChanged:s,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:i,columnRowGroupChanged:i,rowDataUpdated:()=>{(n.get("groupDefaultExpanded")!==0||n.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(i)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:c=>{(c.newPage||c.newPageSize)&&t("pagination",this.getPaginationState())}}),r&&this.addManagedListeners(r,{filterStateChanged:s})}setFirstDataRenderedState(e,t,i){const{scroll:s,cellSelection:n,focusedCell:r,columnOrder:c,rowPinning:h}=e,p=(R,F)=>!i?.has(R)&&(F||t==="api");p("focusedCell",r)&&this.setFocusedCellState(r),p("cellSelection",n)&&this.setCellSelectionState(n),p("scroll",s)&&this.setScrollState(s),p("rowPinning",h)&&this.setRowPinningState(h),this.setColumnPivotState(!!c?.orderedColIds,t);const v=this.updateCachedState.bind(this);v("sideBar",this.getSideBarState()),v("focusedCell",this.getFocusedCellState());const b=this.getRangeSelectionState();v("rangeSelection",b),v("cellSelection",b),v("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),i=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:i,cellFocusCleared:i,cellSelectionChanged:s=>{if(s.finished){const n=this.getRangeSelectionState();t("rangeSelection",n),t("cellSelection",n)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return z2(OC(e),e.colModel.isPivotMode())}setColumnState(e,t,i,s){const{sort:n,rowGroup:r,aggregation:c,pivot:h,columnPinning:p,columnVisibility:v,columnSizing:b,columnOrder:R}=e;let F=!1;const k=(me,Me)=>{const _e=!s?.has(me)&&!!(Me||t==="api");return F||(F=_e),_e},O={},V=me=>{let Me=O[me];return Me||(Me={colId:me},O[me]=Me,Me)},_={},W=k("sort",n);W&&n?.sortModel.forEach(({colId:me,sort:Me},_e)=>{const Je=V(me);Je.sort=Me,Je.sortIndex=_e}),(W||!i)&&(_.sort=null,_.sortIndex=null);const U=k("rowGroup",r);U&&r?.groupColIds.forEach((me,Me)=>{const _e=V(me);_e.rowGroup=!0,_e.rowGroupIndex=Me}),(U||!i)&&(_.rowGroup=null,_.rowGroupIndex=null);const K=k("aggregation",c);K&&c?.aggregationModel.forEach(({colId:me,aggFunc:Me})=>{V(me).aggFunc=Me}),(K||!i)&&(_.aggFunc=null);const X=k("pivot",h);X&&(h?.pivotColIds.forEach((me,Me)=>{const _e=V(me);_e.pivot=!0,_e.pivotIndex=Me}),this.gos.updateGridOptions({options:{pivotMode:!!h?.pivotMode},source:t})),(X||!i)&&(_.pivot=null,_.pivotIndex=null);const Y=k("columnPinning",p);Y&&(p?.leftColIds.forEach(me=>{V(me).pinned="left"}),p?.rightColIds.forEach(me=>{V(me).pinned="right"})),(Y||!i)&&(_.pinned=null);const de=k("columnVisibility",v);de&&v?.hiddenColIds.forEach(me=>{V(me).hide=!0}),(de||!i)&&(_.hide=null);const re=k("columnSizing",b);re&&b?.columnSizingModel.forEach(({colId:me,flex:Me,width:_e})=>{const Je=V(me);Je.flex=Me??null,Je.width=_e}),(re||!i)&&(_.flex=null);const ie=R?.orderedColIds,Fe=!!ie?.length&&!s?.has("columnOrder"),Pe=Fe?ie.map(me=>V(me)):Object.values(O);(Pe.length||F)&&(this.columnStates=Pe,go(this.beans,{state:Pe,applyOrder:Fe,defaultState:_},t))}setColumnPivotState(e,t){const i=this.columnStates;this.columnStates=void 0;const s=this.columnGroupStates;this.columnGroupStates=void 0;const n=this.beans,{pivotResultCols:r,colGroupSvc:c}=n;if(r?.isPivotResultColsPresent()){if(i){const h=[];for(const p of i)r.getPivotResultCol(p.colId)&&h.push(p);go(n,{state:h,applyOrder:e},t)}s&&c?.setColumnGroupState(s,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return _2(t)}setColumnGroupState(e,t,i){const s=this.beans.colGroupSvc;if(!s||i?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const n=new Set(e.columnGroup?.openColumnGroupIds),c=s.getColumnGroupState().map(({groupId:h})=>{const p=n.has(h);return p&&n.delete(h),{groupId:h,open:p}});n.forEach(h=>{c.push({groupId:h,open:!0})}),c.length&&(this.columnGroupStates=c),s.setColumnGroupState(c,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const i=e?.getFilterState(),s=e?.getAdvFilterModel()??void 0;return t||s||i?{filterModel:t,columnFilterState:i,advancedFilterModel:s}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:i,columnFilterState:s,advancedFilterModel:n}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(i!==void 0||s!==void 0)&&t?.setFilterState(i??null,s??null,"columnFilter"),n!==void 0&&t?.setAdvFilterModel(n??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:i,type:s,startRow:n,endRow:r,columns:c,startColumn:h}=t;return{id:i,type:s,startRow:n,endRow:r,colIds:c.map(p=>p.getColId()),startColId:h.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:i,colModel:s,visibleCols:n}=this.beans;if(!nl(t)||!i)return;const r=[];e?.cellRanges.forEach(c=>{const h=[];if(c.colIds.forEach(v=>{const b=s.getCol(v);b&&h.push(b)}),!h.length)return;let p=s.getCol(c.startColId);if(!p){const v=n.allCols,b=new Set(h);p=v.find(R=>b.has(R))}r.push({...c,columns:h,startColumn:p})}),i.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e??{top:0,left:0},{frameworkOverrides:s,rowRenderer:n,animationFrameSvc:r,ctrlsSvc:c}=this.beans;s.wrapIncoming(()=>{c.get("center").setCenterViewportScrollLeft(i),c.getScrollFeature()?.setVerticalScrollPosition(t),n.redraw({afterScroll:!0}),r?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:i}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:s,rowIndex:n,rowPinned:r}=e;t.setFocusedCell({column:i.getCol(s),rowIndex:n,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const i=e.getCurrentPage(),s=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!i&&!s))return{page:i,pageSize:s}}setPaginationState(e,t){const{pagination:i,gos:s}=this.beans;if(!i)return;const{pageSize:n,page:r}=e??{page:0,pageSize:s.get("paginationPageSize")},c=t==="gridInitializing";n&&!s.get("paginationAutoPageSize")&&i.setPageSize(n,c?"initialState":"pageSizeSelector"),typeof r=="number"&&(c?i.setPage(r):i.goToPage(r))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,i){const s=this.beans.expansionSvc;if(!s)return;const n=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};s.setExpansionState(n,i)}updateColumnState(e){const t=this.getColumnState();let i=!1;const s=this.cachedState;for(const n of Object.keys(t)){const r=t[n];ip(r,s[n])||(i=!0)}this.cachedState={...s,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),ip(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},WW={moduleName:"GridState",version:Ne,beans:[_W],apiFunctions:{getState:GW,setState:BW}};function UW(e){return e.rowModel.isLastRowIndexKnown()}function jW(e){return e.pagination?.getPageSize()??100}function $W(e){return e.pagination?.getCurrentPage()??0}function KW(e){return e.pagination?.getTotalPages()??1}function qW(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function YW(e){e.pagination?.goToNextPage()}function XW(e){e.pagination?.goToPreviousPage()}function ZW(e){e.pagination?.goToFirstPage()}function QW(e){e.pagination?.goToLastPage()}function JW(e,t){e.pagination?.goToPage(t)}var e3=class extends ye{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,i=()=>{const s=Math.max(Cc(t),1),n=Math.floor(e/s);t.pagination.setPageSize(n,"autoCalculated")};this.isBodyRendered?ls(this,i,50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Vg="paginationPageSizeSelector",t3={tag:"span",cls:"ag-paging-page-size"},i3=class extends wi{constructor(){super(t3),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Vg,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Zs(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Vg)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),i=!t||!e.includes(t);if(i){const n=this.gos.exists("paginationPageSize"),r=this.gos.get(Vg)!==!0;Te(94,{pageSizeSet:n,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||Te(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Vg}),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(al(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),n=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Cb).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(n).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Vg);return!Array.isArray(t)||!t?.length?e:[...t].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},s3={selector:"AG-PAGE-SIZE-SELECTOR",component:i3},n3=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",o3=class extends iI{constructor(){super(),this.btFirst=Xe,this.btPrevious=Xe,this.btNext=Xe,this.btLast=Xe,this.lbRecordCount=Xe,this.lbFirstRowOnPage=Xe,this.lbLastRowOnPage=Xe,this.lbCurrent=Xe,this.lbTotal=Xe,this.pageSizeComp=Xe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(n3)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[s3]);const{btFirst:t,btPrevious:i,btNext:s,btLast:n}=this;this.activateTabIndex([t,i,s,n]),t.insertAdjacentElement("afterbegin",Bn(e?"last":"first",this.beans)),i.insertAdjacentElement("afterbegin",Bn(e?"next":"previous",this.beans)),s.insertAdjacentElement("afterbegin",Bn(e?"previous":"next",this.beans)),n.insertAdjacentElement("afterbegin",Bn(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):wO(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:s=>{(s.key===he.ENTER||s.key===he.SPACE)&&(s.preventDefault(),i())}})}),vO(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):U2(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),n=e===i-1;this.nextButtonDisabled=n||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){qP(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),i=this.pagination.getMasterRowCount(),s=e?i:null,n=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let c,h;this.isZeroPagesToDisplay()?c=h=0:(c=r*n+1,h=c+r-1,e&&h>s&&(h=s));const p=c+r-1,v=!e&&i<p,b=this.formatNumber(c);this.lbFirstRowOnPage.textContent=b;let R;const F=this.getLocaleTextFunc();v?R=F("pageLastRowUnknown","?"):R=this.formatNumber(h),this.lbLastRowOnPage.textContent=R;const O=t>0?n+1:0,V=this.formatNumber(O);this.lbCurrent.textContent=V;let _,W;if(e)_=this.formatNumber(t),W=this.formatNumber(s);else{const U=F("more","more");_=U,W=U}this.lbTotal.textContent=_,this.lbRecordCount.textContent=W,this.announceAriaStatus(b,R,W,V,_)}announceAriaStatus(e,t,i,s,n){const r=this.getLocaleTextFunc(),c=r("page","Page"),h=r("to","to"),p=r("of","of"),v=`${e} ${h} ${t} ${p} ${i}`,b=`${c} ${s} ${p} ${n}`;v!==this.ariaRowStatus&&(this.ariaRowStatus=v,this.ariaAnnounce?.announceValue(v,"paginationRow")),b!==this.ariaPageStatus&&(this.ariaPageStatus=b,this.ariaAnnounce?.announceValue(b,"paginationPage"))}},r3={selector:"AG-PAGINATION",component:o3},a3=class extends ye{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return r3}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:i}=this.beans;i?.isEditing()&&(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return He(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:He(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:He(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:He(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const i=this.pageSize,s=t-1;this.totalPages=Math.floor(s/i)+1,this.adjustCurrentPageIfInvalid();const n=this.currentPage,r=i*n;let c=i*(n+1)-1;if(c>s&&(c=s),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),c===s)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const h=e.getTopLevelRowDisplayedIndex(c+1);this.bottomDisplayedRowIndex=h-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:i}=this,s=e-1;this.totalPages=Math.floor(s/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*i,this.bottomDisplayedRowIndex=t*(i+1)-1,this.bottomDisplayedRowIndex>s&&(this.bottomDisplayedRowIndex=s)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},l3={moduleName:"Pagination",version:Ne,beans:[a3,e3],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:UW,paginationGetPageSize:jW,paginationGetCurrentPage:$W,paginationGetTotalPages:KW,paginationGetRowCount:qW,paginationGoToNextPage:YW,paginationGoToPreviousPage:XW,paginationGoToFirstPage:ZW,paginationGoToLastPage:QW,paginationGoToPage:JW},dependsOn:[lv]};function c3(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function qM(e,t,i,s,n){t&&(s&&t.parent&&t.parent.level!==-1&&qM(e,t.parent,i,s,n),t.setExpanded(i,void 0,n))}function u3(e,t){return e.rowModel.getRowNode(t)}function d3(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)}function h3(e){return e.rowRenderer.getRenderedNodes()}function g3(e,t,i){e.rowModel.forEachNode(t,i)}function p3(e){return e.rowRenderer.firstRenderedRow}function f3(e){return e.rowRenderer.lastRenderedRow}function m3(e,t){return e.rowModel.getRow(t)}function C3(e){return e.rowModel.getRowCount()}var v3={moduleName:"RowApi",version:Ne,apiFunctions:{redrawRows:c3,setRowNodeExpanded:qM,getRowNode:u3,addRenderedRowListener:d3,getRenderedNodes:h3,forEachNode:g3,getFirstDisplayedRowIndex:p3,getLastDisplayedRowIndex:f3,getDisplayedRowAtIndex:m3,getDisplayedRowCount:C3}},w3={moduleName:"ScrollApi",version:Ne,apiFunctions:{getVerticalPixelRange:Hz,getHorizontalPixelRange:Nz,ensureColumnVisible:HM,ensureIndexVisible:NM,ensureNodeVisible:Gz}};function y3(e,t,i){if(!t)return;const s=e.ctrlsSvc.getGridBodyCtrl().eGridBody,n=`aria-${t}`;i===null?s.removeAttribute(n):s.setAttribute(n,i)}function b3(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function S3(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function x3(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function R3(e){e.animationFrameSvc?.flushAllFrames()}function E3(e){return{rowHeight:Cc(e),headerHeight:Mp(e)}}function M3(e,t={}){const i=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{const c=r.getCellRenderer();c!=null&&i.push(cp(c))}),t.columns?.length)return i;const s=[],n=Oy(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(r=>{if(n&&!Iy(r.rowNode,n)||!r.isFullWidth())return;const c=r.getFullWidthCellRenderers();for(let h=0;h<c.length;h++){const p=c[h];p!=null&&s.push(cp(p))}}),[...s,...i]}var D3={moduleName:"RenderApi",version:Ne,apiFunctions:{setGridAriaProperty:y3,refreshCells:b3,refreshHeader:S3,isAnimationFrameQueueEmpty:x3,flushAllAnimationFrames:R3,getSizesForCurrentTheme:E3,getCellRendererInstances:M3}};function T3(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function YM({colAutosize:e,visibleCols:t},i,s){Array.isArray(i)?e?.autoSizeCols({colKeys:i,skipHeader:s,source:"api"}):e?.autoSizeCols({colKeys:i.colIds??t.allCols,skipHeader:i.skipHeader,defaultMaxWidth:i.defaultMaxWidth,defaultMinWidth:i.defaultMinWidth,columnLimits:i.columnLimits,source:"api"})}function F3(e,t){t&&typeof t=="object"?YM(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var P3=class extends ye{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const e=this.gos.get("autoSizeStrategy");if(e){let t=!1;const i=e.type;i==="fitGridWidth"||i==="fitProvidedWidth"?t=!0:i==="fitCellContents"&&this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(e)}),t&&this.beans.colDelayRenderSvc?.hideColumns(i)}}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:n,defaultMaxWidth:r,defaultMinWidth:c,columnLimits:h=[],source:p="api"}=e,{animationFrameSvc:v,renderStatus:b,colModel:R,autoWidthCalc:F,visibleCols:k}=this.beans;if(v?.flushAllFrames(),this.timesDelayed<5&&b&&(!b.areHeaderCellsRendered()||!b.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const O=[];let V=-1;const _=Object.fromEntries(h.map(({colId:K,maxWidth:X,minWidth:Y})=>[K,{maxWidth:X,minWidth:Y}])),W=i??this.gos.get("skipHeaderOnAutoSize"),U=s??W;for(;V!==0;){V=0;const K=[];t.forEach(X=>{if(!X||XA(X))return;const Y=R.getCol(X);if(!Y||O.indexOf(Y)>=0)return;const de=F.getPreferredWidthForColumn(Y,W);if(de>0){const re=_[Y.colId]??{};re.minWidth??(re.minWidth=c),re.maxWidth??(re.maxWidth=r);const ie=A3(Y,de,re);Y.setActualWidth(ie,p),O.push(Y),V++}K.push(Y)}),K.length&&k.refresh(p)}U||this.autoSizeColumnGroupsByColumns(t,p,n),Ld(this.eventSvc,O,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const{colModel:s,ctrlsSvc:n}=this.beans,r=new Set;s.getColsForKeys(e).forEach(v=>{let b=v.getParent();for(;b&&b!=i;)b.isPadding()||r.add(b),b=b.getParent()});let h;const p=[];for(const v of r){for(const b of n.getHeaderRowContainerCtrls())if(h=b.getHeaderCtrlForColumn(v),h)break;h&&h.resizeLeafColumnsToFit(t)}return p}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const i=this.gos.get("skipHeaderOnAutoSize"),s=()=>{this.autoSizeColumn(t,"uiColumnResized",i)};e.addEventListener("dblclick",s);const n=new dc(e);return n.addEventListener("doubleTap",s),()=>{e.removeEventListener("dblclick",s),n.removeEventListener("doubleTap",s),n.destroy()}}addColumnGroupResize(e,t,i){const s=this.gos.get("skipHeaderOnAutoSize"),n=()=>{const r=[];t.getDisplayedLeafColumns().forEach(h=>{h.getColDef().suppressAutoSize||r.push(h.getColId())}),r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:s,stopAtGroup:t,source:"uiColumnResized"}),i()};return e.addEventListener("dblclick",n),()=>e.removeEventListener("dblclick",n)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:i,scrollVisibleSvc:s}=this.beans,n=i.getGridBodyCtrl(),c=n.isVerticalScrollShowing()?s.getScrollbarWidth():0,p=rp(n.eGridBody)-c;if(p>0){this.sizeColumnsToFit(p,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Te(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",i,s){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,s));return}const n={};s&&s?.columnLimits?.forEach(({key:k,...O})=>{n[typeof k=="string"?k:k.getColId()]=O});const r=this.beans.visibleCols.allCols;if(e<=0||!r.length||e===Wr(r)&&r.every(O=>{if(O.colDef.suppressSizeToFit)return!0;const V=n?.[O.getId()],_=V?.minWidth??s?.defaultMinWidth,W=V?.maxWidth??s?.defaultMaxWidth,U=O.getActualWidth();return(_==null||U>=_)&&(W==null||U<=W)}))return;const h=[],p=[];r.forEach(k=>{k.getColDef().suppressSizeToFit===!0?p.push(k):h.push(k)});const v=h.slice(0);let b=!1;const R=k=>{zn(h,k),p.push(k)};for(h.forEach(k=>{k.resetActualWidth(t);const O=n?.[k.getId()],V=O?.minWidth??s?.defaultMinWidth,_=O?.maxWidth??s?.defaultMaxWidth,W=k.getActualWidth();typeof V=="number"&&W<V?k.setActualWidth(V,t,!0):typeof _=="number"&&W>_&&k.setActualWidth(_,t,!0)});!b;){b=!0;const k=e-Wr(p);if(k<=0)h.forEach(O=>{const V=n?.[O.getId()]?.minWidth??s?.defaultMinWidth;if(typeof V=="number"){O.setActualWidth(V,t,!0);return}O.setActualWidth(O.minWidth,t)});else{const O=k/Wr(h);let V=k;for(let _=h.length-1;_>=0;_--){const W=h[_],U=n?.[W.getId()],K=U?.minWidth??s?.defaultMinWidth,X=U?.maxWidth??s?.defaultMaxWidth,Y=W.getMinWidth(),de=W.getMaxWidth(),re=typeof K=="number"&&K>Y?K:Y,ie=typeof X=="number"&&X<de?X:de;let Fe=Math.round(W.getActualWidth()*O);Fe<re?(Fe=re,R(W),b=!1):Fe>ie?(Fe=ie,R(W),b=!1):_===0&&(Fe=V),W.setActualWidth(Fe,t,!0),V-=Fe}}}v.forEach(k=>{k.fireColumnWidthChangedEvent(t)});const F=this.beans.visibleCols;F.setLeftValues(t),F.updateBodyWidths(),!i&&Ld(this.eventSvc,v,!0,t)}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,i=e.get("autoSizeStrategy");!i||i.type==="fitCellContents"||setTimeout(()=>{if(!this.isAlive())return;const s=i.type;if(s==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:c}=i,h=n?.map(({colId:p,minWidth:v,maxWidth:b})=>({key:p,minWidth:v,maxWidth:b}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:c,columnLimits:h})}else s==="fitProvidedWidth"&&this.sizeColumnsToFit(i.width,"sizeColumnsToFit");t?.revealColumns(s)})}onFirstDataRendered(e){const{colIds:t,skipHeader:i,defaultMaxWidth:s,defaultMinWidth:n,columnLimits:r}=e;setTimeout(()=>{if(!this.isAlive())return;const c={skipHeader:i,source:"autosizeColumns",defaultMaxWidth:s,defaultMinWidth:n,columnLimits:r};t?this.autoSizeCols({colKeys:t,...c}):this.autoSizeAllColumns(c)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function A3(e,t,i={}){const s=i.minWidth??e.getMinWidth();t<s&&(t=s);const n=i.maxWidth??e.getMaxWidth();return t>n&&(t=n),t}var k3={moduleName:"ColumnAutoSize",version:Ne,beans:[P3],apiFunctions:{sizeColumnsToFit:T3,autoSizeColumns:YM,autoSizeAllColumns:F3},dependsOn:[qE]},L3=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function O3(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function I3(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function H3(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function N3(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function G3(e,t,i){return e.pinnedRowModel?.forEachPinnedRow(t,i)}var B3={moduleName:"PinnedRow",version:Ne,beans:[KO],css:[L3],apiFunctions:{getPinnedTopRowCount:O3,getPinnedBottomRowCount:I3,getPinnedTopRow:H3,getPinnedBottomRow:N3,forEachPinnedRow:G3},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},V3=class extends Fd{constructor(e,t,i){super(e.col,e.firstNode,i,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,i,s,n,r,c){this.eWrapper=i,super.setComp(e,t,i,s,n,r,c),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&oR(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){QP(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(ov(t)){this.focusedCellPosition=void 0;return}const i=this.isCellFocused();i||(this.focusedCellPosition=void 0),e&&i&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},z3=class extends WC{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new V3(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},_3=class extends ye{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,i=`${e}Ctrls`,s=this[i],n=s.size,r=this.getAllRelevantRowControls(e),c=new Map;let h=!1;for(const v of r)v.isAlive()&&t?.forEachSpannedColumn(v.rowNode,(b,R)=>{if(c.has(R.firstNode))return;const F=s.get(R.firstNode);if(F){c.set(R.firstNode,F),s.delete(R.firstNode);return}h=!0;const k=new z3(R.firstNode,this.beans,!1,!1,!1);c.set(R.firstNode,k)});this[i]=c;const p=c.size===n;if(!(!h&&p)){for(const v of s.values())v.destroyFirstPass(!0),v.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,i=t?.getCellSpanByPosition(e);if(!i)return;const s=`${XM(e.rowPinned)}Ctrls`,n=this[s].get(i.firstNode);if(n)return n.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const i of this[t].values())i.destroyFirstPass(!0),i.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},XM=e=>e??"center",W3=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},U3=class extends ye{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:i,pinnedRowModel:s,rowModel:n,valueSvc:r,pagination:c}}=this,{colDef:h}=t,p=this[`${e}ValueNodeMap`],v=new Map,b=i.getCallback("isFullWidthRow"),R=h.equals,F=h.spanRows,k=typeof F=="function";let O=null,V=null,_;const W=(K,X)=>{O=K,V=null,_=X},U=K=>{const X=!K.isExpandable()&&!K.group&&!K.detail&&(b?!b({rowNode:K}):!0);if(K.rowIndex==null||!X){W(null,null);return}if(O==null||K.level!==O.level||K.footer||V&&K.rowIndex-1!==V?.getLastNode().rowIndex){W(K,r.getValue(t,K));return}const Y=r.getValue(t,K);if(k){const de=tt(i,{valueA:_,nodeA:O,valueB:Y,nodeB:K,column:t,colDef:h});if(!F(de)){W(K,Y);return}}else if(R?!R(_,Y):_!==Y){W(K,Y);return}if(!V){const de=p?.get(O);de?.firstNode===O?(de.reset(),V=de):V=new W3(t,O),v.set(O,V)}V.addSpannedNode(K),v.set(K,V)};switch(e){case"center":n.forEachDisplayedNode?.(K=>{(!c||c.isRowInPage(K.rowIndex))&&U(K)});break;case"top":s?.forEachPinnedRow("top",U);break;case"bottom":s?.forEachPinnedRow("bottom",U);break}this[`${e}ValueNodeMap`]=v}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${XM(e.rowPinned)}ValueNodeMap`].get(e)}},j3=class extends ye{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=ls(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=ls(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const i=this.createManagedBean(new U3(e));this.spanningColumns.set(e,i),i.buildCache("top"),i.buildCache("bottom"),i.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const i=this.spanningColumns.get(e);return i?i.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:i}=this.beans,s=e.column,n=e.rowIndex,r=this.spanningColumns.get(s);if(!r)return;let c;switch(e.rowPinned){case"top":c=t?.getPinnedTopRow(n);break;case"bottom":c=t?.getPinnedBottomRow(n);break;default:c=i.getRow(n)}if(c)return r.getCellSpan(c)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const i=this.spanningColumns.get(e);if(i)return i.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[i,s]of this.spanningColumns)if(s.isCellSpanning(e)){const n=s.getCellSpan(e);t(i,n)}}destroy(){super.destroy(),this.spanningColumns.clear()}},$3={moduleName:"CellSpan",version:Ne,beans:[j3,_3]},K3=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,i=e.colDef,s=i.cellClassRules,n=this.getCellClassParams(e,i);Ib(this.beans.expressionSvc,s===this.cellClassRules?void 0:this.cellClassRules,s,n,r=>t.toggleCss(r,!0),r=>t.toggleCss(r,!1)),this.cellClassRules=s}applyUserStyles(){const e=this.column,t=e.colDef,i=t.cellStyle;if(!i)return;let s;if(typeof i=="function"){const n=this.getCellClassParams(e,t);s=i(n)}else s=i;s&&this.cellComp.setUserStyles(s)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,i=e.colDef,s=this.getCellClassParams(e,i);this.staticClasses.forEach(r=>t.toggleCss(r,!1));const n=this.beans.cellStyles.getStaticCellClasses(i,s);this.staticClasses=n,n.forEach(r=>t.toggleCss(r,!0))}getCellClassParams(e,t){const{value:i,rowNode:s}=this.cellCtrl;return tt(this.beans.gos,{value:i,data:s.data,node:s,colDef:t,column:e,rowIndex:s.rowIndex})}},q3=class extends ye{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,i,s){Ib(this.beans.expressionSvc,void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;return typeof i=="function"?s=i(t):s=i,typeof s=="string"&&(s=[s]),s||[]}createCellCustomStyleFeature(e,t){return new K3(e,t)}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(n=>{i(n)})}},Y3={moduleName:"CellStyle",version:Ne,beans:[q3]},X3={moduleName:"RowStyle",version:Ne,beans:[zB]};function Z3(e,t){return!!e.colHover?.isHovered(t)}var Q3=class extends ye{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=i=>{const{beans:s,gos:n,element:r,columns:c}=this,h=s.colHover;i??!!n.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:h.setMouseOver.bind(h,c),mouseout:h.clearMouseOver.bind(h)}):(this.destroyManagedListeners.forEach(v=>v()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},J3="ag-column-hover",eU=class extends ye{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,i){const s=()=>{const n=this.isHovered(i);t.toggleCss("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:s}),s()}onCellColumnHover(e,t){if(!t)return;const i=this.isHovered(e);t.toggleCss(J3,i)}addHeaderFilterColumnHoverListener(e,t,i,s){this.createHoverFeature(e,[i],s);const n=()=>{const r=this.isHovered(i);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:n}),n()}createHoverFeature(e,t,i){e.createManagedBean(new Q3(t,i))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},tU={moduleName:"ColumnHover",version:Ne,beans:[eU],apiFunctions:{isColumnHovered:Z3}},iU=class extends ye{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const i=this.wrapSvc?.wrap(e,t)??t,s=!uC.has(e),n=s?this.asyncListeners:this.syncListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventSvc.addListener(e,i,s)}removeListener(e,t){const i=this.wrapSvc?.unwrap(e,t)??t,n=!!this.asyncListeners.get(e)?.delete(i);n||this.syncListeners.get(e)?.delete(i),this.eventSvc.removeListener(e,i,n)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,i=(r,c)=>{uC.has(r)&&t(r,c)},s=(r,c)=>{uC.has(r)||t(r,c)};this.globalListenerPairs.set(e,{syncListener:i,asyncListener:s});const n=this.eventSvc;n.addGlobalListener(i,!1),n.addGlobalListener(s,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:i,globalListenerPairs:s}=this,n=i?.unwrapGlobal(e)??e;if(s.has(n)){const{syncListener:c,asyncListener:h}=s.get(n);t.removeGlobalListener(c,!1),t.removeGlobalListener(h,!0),s.delete(e)}else this.syncGlobalListeners.delete(n),t.removeGlobalListener(n,!1)}destroyEventListeners(e,t){e.forEach((i,s)=>{i.forEach(n=>this.eventSvc.removeListener(s,n,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventSvc.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:i,asyncListener:s})=>{t.removeGlobalListener(i,!1),t.removeGlobalListener(s,!0)}),e.clear()}};function sU(e,t,i){e.apiEventSvc?.addListener(t,i)}function nU(e,t,i){e.apiEventSvc?.removeListener(t,i)}function oU(e,t){e.apiEventSvc?.addGlobalListener(t)}function rU(e,t){e.apiEventSvc?.removeGlobalListener(t)}var aU={moduleName:"EventApi",version:Ne,apiFunctions:{addEventListener:sU,addGlobalListener:oU,removeEventListener:nU,removeGlobalListener:rU},beans:[iU]},lU={moduleName:"Locale",version:Ne,beans:[V2]},cU=class extends ye{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=ls(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:i,pinnedRowModel:s}=this.beans,n=e.autoHeightCols;let r=!1;const c=h=>{const p=h.__autoHeights;let v=sl(this.beans,h).height;for(const b of n){let R=p?.[b.getColId()];const F=i?.getCellSpan(b,h);if(F){if(F.getLastNode()!==h)continue;if(R=i?.getCellSpan(b,h)?.getLastNodeAutoHeight(),!R)return}if(R==null){if(this.colSpanSkipCell(b,h))continue;return}v=Math.max(R,v)}v!==h.rowHeight&&(h.setRowHeight(v),r=!0)};s?.forEachPinnedRow?.("top",c),s?.forEachPinnedRow?.("bottom",c),t.forEachDisplayedNode?.(c),r&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,i){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[i.getId()];return}const s=e.__autoHeights[i.getId()];e.__autoHeights[i.getId()]=t,s!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:i,colViewport:s,visibleCols:n}=this.beans;if(!i.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=n.getLeftColsForRow(t);break;case"right":r=n.getRightColsForRow(t);break;case null:r=s.getColsWithinViewport(t);break}return!r.includes(e)}setupCellAutoHeight(e,t,i){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const s=t.parentElement,{rowNode:n,column:r}=e,c=this.beans,h=b=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!i.isAlive())return;const{paddingTop:R,paddingBottom:F,borderBottomWidth:k,borderTopWidth:O}=Oc(s),V=R+F+k+O,W=t.offsetHeight+V;if(b<5){const U=as(c),K=!U||!U.contains(t),X=W==0;if(K||X){window.setTimeout(()=>h(b+1),0);return}}this.setRowAutoHeight(n,W,r)},p=()=>h(0);p();const v=ta(c,t,p);return i.addDestroyFunc(()=>{v(),this.setRowAutoHeight(n,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:i}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(i).filter(n=>n.isAutoHeight())),t.length!==0){if(!i.__autoHeights)return!1;for(const s of t){const n=i.__autoHeights[s.getColId()];if(!n||i.rowHeight<n)return!1}}return!0}},uU={moduleName:"RowAutoHeight",version:Ne,beans:[cU]},dU={moduleName:"AllCommunity",version:Ne,dependsOn:[cW,CW,DW,oV,f_,m_,C_,v_,w_,y_,b_,p_,az,lz,cz,rz,dz,hz,WW,$_,l3,YE,v3,w3,D3,k3,jI,B3,H_,x2,Y3,tU,X3,aU,M2,NW,IM,lU,uU,UI,uW,$3]},ws=ke.createContext({}),ZM=ke.createContext("default"),Tp=(e,t,i,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let c,h,p=!1;return r.then(v=>{if(p){t.destroyBean(v);return}c=v,h=c.getGui(),i.appendChild(h),ax(s,c)}),()=>{p=!0,c&&(h?.parentElement?.removeChild(h),t.destroyBean(c),s&&ax(s,void 0))}},ax=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},Nn=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),Vn=class QM{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const n=new QM;return n.classesMap={...this.classesMap},n.classesMap[t]=i,n}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},Wd=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},Vy=ke.version?.split(".")[0],JM=Vy==="16"||Vy==="17";function hU(){return Vy==="19"}var hC=!1;function gU(e){return hC||setTimeout(()=>hC=!1,0),hC=!0,e()}var fp=(e,t)=>{!JM&&e&&!hC?gF.flushSync(t):t()},pU=e=>{JM?e():ke.startTransition(e)};function fU(e,t,i){return ke.useSyncExternalStore?ke.useSyncExternalStore(e,t):i}function $C(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],r=new Map,c=new Map;for(let h=0;h<t.length;h++){const p=t[h];c.set(p.instanceId,p)}for(let h=0;h<e.length;h++){const p=e[h];r.set(p.instanceId,p),c.has(p.instanceId)&&s.push(p)}for(let h=0;h<t.length;h++){const p=t[h],v=p.instanceId;r.has(v)||n.push(p)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var eD=G.forwardRef((e,t)=>{const{registry:i,context:s}=G.useContext(ws),n=G.useRef(null),r=G.useRef(null),c=G.useRef(null),h=G.useRef(null),p=G.useRef(null),v=G.useRef(),[b,R]=G.useState(),[F,k]=G.useState(),[O,V]=G.useState(),[_,W]=G.useState(()=>new Vn),[U,K]=G.useState(()=>new Vn("ag-hidden")),[X,Y]=G.useState(()=>new Vn("ag-hidden")),[de,re]=G.useState(()=>new Vn("ag-invisible"));G.useImperativeHandle(t,()=>({refresh(){return!1}})),G.useLayoutEffect(()=>Tp(b,s,r.current),[b]);const ie=G.useCallback(De=>{if(n.current=De,!De||s.isDestroyed()){v.current=s.destroyBean(v.current);return}const Ae={setInnerRenderer:(Le,J)=>{R(Le),V(J)},setChildCount:Le=>k(Le),toggleCss:(Le,J)=>W(le=>le.setClass(Le,J)),setContractedDisplayed:Le=>Y(J=>J.setClass("ag-hidden",!Le)),setExpandedDisplayed:Le=>K(J=>J.setClass("ag-hidden",!Le)),setCheckboxVisible:Le=>re(J=>J.setClass("ag-invisible",!Le)),setCheckboxSpacing:Le=>re(J=>J.setClass("ag-group-checkbox-spacing",Le))},$e=i.createDynamicBean("groupCellRendererCtrl",!0);$e&&(v.current=s.createBean($e),v.current.init(Ae,De,c.current,h.current,p.current,eD,e))},[]),Fe=G.useMemo(()=>`ag-cell-wrapper ${_.toString()}`,[_]),Pe=G.useMemo(()=>`ag-group-expanded ${U.toString()}`,[U]),me=G.useMemo(()=>`ag-group-contracted ${X.toString()}`,[X]),Me=G.useMemo(()=>`ag-group-checkbox ${de.toString()}`,[de]),_e=b?.componentFromFramework,Je=_e?b.componentClass:void 0,Be=b==null&&O!=null,ge=Vd(O);return ke.createElement("span",{className:Fe,ref:ie,...e.colDef?{}:{role:v.current?.getCellAriaRole()}},ke.createElement("span",{className:Pe,ref:h}),ke.createElement("span",{className:me,ref:p}),ke.createElement("span",{className:Me,ref:c}),ke.createElement("span",{className:"ag-group-value",ref:r},Be?ge:_e?ke.createElement(Je,{...b.params}):null),ke.createElement("span",{className:"ag-group-child-count"},F))}),lx=eD,Wb=G.createContext({setMethods:()=>{}}),mU=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:s,setMethods:n}=e,[{key:r,...c},h]=G.useState(t);return G.useEffect(()=>{i(p=>h(p))},[]),ke.createElement(Wb.Provider,{value:{setMethods:n}},ke.createElement(s,{key:r,...c}))},CU=G.memo(mU),vU=0;function cx(){return`agPortalKey_${++vU}`}var tD=class{constructor(e,t,i,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=cx(),this.portalKey=cx(),this.instanceCreated=this.isStatelessComponent()?Rt.resolve(!1):new Rt(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const s=i[e];if(s)return s.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Rt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Yy.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return G.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function dv(e,t,i){e.forEach(s=>{const n=t[s];n&&(i[s]=n)})}var pn=class extends tD{constructor(){super(...arguments),this.awaitUpdateCallback=new Rt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=CU}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new Rt(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,dv(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Rt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},wU=class extends pn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},yU=class extends pn{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},bU=class extends pn{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:s}=this;return e.label=t,e.icon=i,e.shake=s,e}},SU=class extends pn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Rt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Rt(i=>{this.resolveFilterPassCallback=i});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},xU=class extends pn{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Rt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function iD(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||Rt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var RU=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){dv(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),iD(this.floatingFilterParams,e)}},EU=class extends pn{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),iD(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},MU=class extends pn{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},DU=class extends pn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},TU=class extends pn{refresh(e){this.sourceParams=e,this.refreshProps()}},FU=class extends pn{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},PU=class extends pn{refresh(e){this.sourceParams=e,this.refreshProps()}},AU=class extends pn{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},kU=class extends pn{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ub(){Te(231)}var LU=1e3,OU=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||LU}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){fp(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},IU=({ctrl:e})=>{const t=e.isAlive(),{context:i}=G.useContext(ws),[s,n]=G.useState(),[r,c]=G.useState(),h=G.useRef(),p=G.useRef(null),v=G.useRef(null),b=G.useRef(null),R=G.useRef(),F=G.useRef();t&&!F.current&&(F.current=new xp(()=>p.current));const k=G.useCallback(W=>{if(p.current=W,!W||!e.isAlive()||i.isDestroyed()){h.current=i.destroyBean(h.current);return}h.current=i.createBean(new zd);const U=()=>{const X=e.getSelectAllGui();X&&(v.current?.insertAdjacentElement("afterend",X),h.current.addDestroyFunc(()=>X.remove()))},K={setWidth:X=>{p.current&&(p.current.style.width=X)},toggleCss:(X,Y)=>F.current.toggleCss(X,Y),setUserStyles:X=>c(X),setAriaSort:X=>{p.current&&(X?tA(p.current,X):iA(p.current))},setUserCompDetails:X=>n(X),getUserCompInstance:()=>R.current||void 0,refreshSelectAllGui:U,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(K,W,v.current,b.current,h.current),U()},[]);G.useLayoutEffect(()=>Tp(s,i,b.current,R),[s]),G.useEffect(()=>{e.setDragSource(p.current)},[s]);const O=G.useMemo(()=>!!(s?.componentFromFramework&&Wd(s.componentClass)),[s]),V=s?.componentFromFramework,_=s?.componentClass;return ke.createElement("div",{ref:k,style:r,className:"ag-header-cell",role:"columnheader"},ke.createElement("div",{ref:v,className:"ag-header-cell-resize",role:"presentation"}),ke.createElement("div",{ref:b,className:"ag-header-cell-comp-wrapper",role:"presentation"},V?O?ke.createElement(_,{...s.params}):ke.createElement(_,{...s.params,ref:R}):null))},HU=G.memo(IU),NU=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){dv(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},GU=({ctrl:e})=>{const{context:t,gos:i}=G.useContext(ws),[s,n]=G.useState(),[r,c]=G.useState(()=>new Vn("ag-header-cell","ag-floating-filter")),[h,p]=G.useState(()=>new Vn),[v,b]=G.useState(()=>new Vn("ag-floating-filter-button","ag-hidden")),[R,F]=G.useState("false"),[k,O]=G.useState(),[,V]=G.useState(1),_=G.useRef(),W=G.useRef(null),U=G.useRef(null),K=G.useRef(null),X=G.useRef(null),Y=G.useRef(),de=G.useRef(),re=Le=>{Le!=null&&Y.current&&Y.current(Le)},ie=G.useCallback(Le=>{if(W.current=Le,!Le||!e.isAlive()||t.isDestroyed()){_.current=t.destroyBean(_.current);return}_.current=t.createBean(new zd),de.current=new Rt(le=>{Y.current=le});const J={toggleCss:(le,xe)=>c(Oe=>Oe.setClass(le,xe)),setUserStyles:le=>n(le),addOrRemoveBodyCssClass:(le,xe)=>p(Oe=>Oe.setClass(le,xe)),setButtonWrapperDisplayed:le=>{b(xe=>xe.setClass("ag-hidden",!le)),F(le?"false":"true")},setWidth:le=>{W.current&&(W.current.style.width=le)},setCompDetails:le=>O(le),getFloatingFilterComp:()=>de.current?de.current:null,setMenuIcon:le=>X.current?.appendChild(le)};e.setComp(J,Le,X.current,U.current,_.current)},[]);G.useLayoutEffect(()=>Tp(k,t,U.current,re),[k]);const Fe=G.useMemo(()=>r.toString(),[r]),Pe=G.useMemo(()=>h.toString(),[h]),me=G.useMemo(()=>v.toString(),[v]),Me=G.useMemo(()=>!!(k&&k.componentFromFramework&&Wd(k.componentClass)),[k]),_e=G.useMemo(()=>i.get("reactiveCustomComponents"),[]),Je=G.useMemo(()=>i.get("enableFilterHandlers"),[]),[Be,ge]=G.useState();G.useEffect(()=>{if(k?.componentFromFramework)if(_e){const Le=Je?NU:RU,J=new Le(k.params,()=>V(le=>le+1));re(J),ge(J)}else Ub()},[k]);const De=Be?.getProps(),Ae=k?.componentFromFramework,$e=k?.componentClass;return ke.createElement("div",{ref:ie,style:s,className:Fe,role:"gridcell"},ke.createElement("div",{ref:U,className:Pe,role:"presentation"},Ae?_e?De&&ke.createElement(Wb.Provider,{value:{setMethods:Le=>Be.setMethods(Le)}},ke.createElement($e,{...De})):ke.createElement($e,{...k.params,ref:Me?()=>{}:re}):null),ke.createElement("div",{ref:K,"aria-hidden":R,className:me,role:"presentation"},ke.createElement("button",{ref:X,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},BU=G.memo(GU),VU=({ctrl:e})=>{const{context:t}=G.useContext(ws),[i,s]=G.useState(),[n,r]=G.useState(()=>new Vn),[c,h]=G.useState(()=>new Vn),[p,v]=G.useState("false"),[b,R]=G.useState(),[F,k]=G.useState(),O=G.useRef(),V=G.useRef(null),_=G.useRef(null),W=G.useRef(null),U=G.useRef(),K=G.useCallback(Fe=>{if(V.current=Fe,!Fe||!e.isAlive()||t.isDestroyed()){O.current=t.destroyBean(O.current);return}O.current=t.createBean(new zd);const Pe={setWidth:me=>{V.current&&(V.current.style.width=me)},toggleCss:(me,Me)=>r(_e=>_e.setClass(me,Me)),setUserStyles:me=>s(me),setHeaderWrapperHidden:me=>{const Me=W.current;Me&&(me?Me.style.setProperty("display","none"):Me.style.removeProperty("display"))},setHeaderWrapperMaxHeight:me=>{const Me=W.current;Me&&(me!=null?Me.style.setProperty("max-height",`${me}px`):Me.style.removeProperty("max-height"),Me.classList.toggle("ag-header-cell-comp-wrapper-limited-height",me!=null))},setUserCompDetails:me=>k(me),setResizableDisplayed:me=>{h(Me=>Me.setClass("ag-hidden",!me)),v(me?"false":"true")},setAriaExpanded:me=>R(me),getUserCompInstance:()=>U.current||void 0};e.setComp(Pe,Fe,_.current,W.current,O.current)},[]);G.useLayoutEffect(()=>Tp(F,t,W.current),[F]),G.useEffect(()=>{V.current&&e.setDragSource(V.current)},[F]);const X=G.useMemo(()=>!!(F?.componentFromFramework&&Wd(F.componentClass)),[F]),Y=G.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),de=G.useMemo(()=>"ag-header-cell-resize "+c.toString(),[c]),re=F?.componentFromFramework,ie=F?.componentClass;return ke.createElement("div",{ref:K,style:i,className:Y,role:"columnheader","aria-expanded":b},ke.createElement("div",{ref:W,className:"ag-header-cell-comp-wrapper",role:"presentation"},re?X?ke.createElement(ie,{...F.params}):ke.createElement(ie,{...F.params,ref:U}):null),ke.createElement("div",{ref:_,"aria-hidden":p,className:de}))},zU=G.memo(VU),_U=({ctrl:e})=>{const{gos:t,context:i}=G.useContext(ws),{topOffset:s,rowHeight:n}=G.useMemo(()=>e.getTopAndHeight(),[]),r=G.useMemo(()=>t.get("tabIndex"),[]),[c,h]=G.useState(()=>e.getAriaRowIndex()),p=e.headerRowClass,[v,b]=G.useState(()=>n+"px"),[R,F]=G.useState(()=>s+"px"),k=G.useRef(null),[O,V]=G.useState(()=>e.getUpdatedHeaderCtrls()),_=G.useRef(),W=G.useRef(null),U=G.useCallback(Y=>{if(W.current=Y,!Y||!e.isAlive()||i.isDestroyed()){_.current=i.destroyBean(_.current);return}_.current=i.createBean(new zd);const de={setHeight:re=>b(re),setTop:re=>F(re),setHeaderCtrls:(re,ie,Fe)=>{const Pe=k.current,me=$C(Pe,re,ie);me!==Pe&&(k.current=me,fp(Fe,()=>V(me)))},setWidth:re=>{W.current&&(W.current.style.width=re)},setRowIndex:re=>{h(re)}};e.setComp(de,_.current,!1)},[]),K=G.useMemo(()=>({height:v,top:R}),[v,R]),X=G.useCallback(Y=>{switch(e.type){case"group":return ke.createElement(zU,{ctrl:Y,key:Y.instanceId});case"filter":return ke.createElement(BU,{ctrl:Y,key:Y.instanceId});default:return ke.createElement(HU,{ctrl:Y,key:Y.instanceId})}},[]);return ke.createElement("div",{ref:U,className:p,role:"row",style:K,tabIndex:r,"aria-rowindex":c},O.map(X))},WU=G.memo(_U),UU=({pinned:e})=>{const[t,i]=G.useState(!0),[s,n]=G.useState([]),{context:r}=G.useContext(ws),c=G.useRef(null),h=G.useRef(null),p=G.useRef(),v=e==="left",b=e==="right",R=!v&&!b,F=G.useCallback(V=>{if(c.current=V,!V||r.isDestroyed()){p.current=r.destroyBean(p.current);return}p.current=r.createBean(new DO(e));const _={setDisplayed:i,setCtrls:W=>n(W),setCenterWidth:W=>{h.current&&(h.current.style.width=W)},setViewportScrollLeft:W=>{c.current&&(c.current.scrollLeft=W)},setPinnedContainerWidth:W=>{c.current&&(c.current.style.width=W,c.current.style.minWidth=W,c.current.style.maxWidth=W)}};p.current.setComp(_,c.current)},[]),k=t?"":"ag-hidden",O=()=>s.map(V=>ke.createElement(WU,{ctrl:V,key:V.instanceId}));return v?ke.createElement("div",{ref:F,className:"ag-pinned-left-header "+k,"aria-hidden":!t,role:"rowgroup"},O()):b?ke.createElement("div",{ref:F,className:"ag-pinned-right-header "+k,"aria-hidden":!t,role:"rowgroup"},O()):R?ke.createElement("div",{ref:F,className:"ag-header-viewport "+k,role:"rowgroup",tabIndex:-1},ke.createElement("div",{ref:h,className:"ag-header-container",role:"presentation"},O())):null},Yw=G.memo(UU),jU=()=>{const[e,t]=G.useState(()=>new Vn),[i,s]=G.useState(),{context:n}=G.useContext(ws),r=G.useRef(null),c=G.useRef(),h=G.useCallback(b=>{if(r.current=b,!b||n.isDestroyed()){c.current=n.destroyBean(c.current);return}c.current=n.createBean(new xO);const R={toggleCss:(F,k)=>t(O=>O.setClass(F,k)),setHeightAndMinHeight:F=>s(F)};c.current.setComp(R,b,b)},[]),p=G.useMemo(()=>"ag-header "+e.toString(),[e]),v=G.useMemo(()=>({height:i,minHeight:i}),[i]);return ke.createElement("div",{ref:h,className:p,style:v,role:"presentation"},ke.createElement(Yw,{pinned:"left"}),ke.createElement(Yw,{pinned:null}),ke.createElement(Yw,{pinned:"right"}))},$U=G.memo(jU),KU=(e,t)=>{G.useEffect(()=>{const i=t.current;if(i){const s=i.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,i),()=>{s.removeChild(n)}}}},[e])},hc=KU,qU=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Rt(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){dv(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},YU=e=>{const t=G.useRef(e),i=G.useRef(),s=G.useRef(!1),n=G.useRef(!1),[,r]=G.useState(0);s.current&&(n.current=!0),G.useEffect(()=>(s.current||(i.current=t.current(),s.current=!0),r(c=>c+1),()=>{n.current&&i.current?.()}),[])},XU=e=>{const[t,i]=G.useState(),s=G.useContext(ws),{context:n,popupSvc:r,gos:c,editSvc:h}=s,{editDetails:p,cellCtrl:v,eParentCell:b}=e;return YU(()=>{const{compDetails:R}=p,F=c.get("stopEditingWhenCellsLoseFocus");let k,O;if(!n.isDestroyed()){O=n.createBean(h.createPopupEditorWrapper(R.params));const V=O.getGui();if(e.jsChildComp){const Y=e.jsChildComp.getGui();Y&&V.appendChild(Y)}const{column:_,rowNode:W}=v,U={column:_,rowNode:W,type:"popupCellEditor",eventSource:b,ePopup:V,position:p.popupPosition,keepWithinBounds:!0},K=r?.positionPopupByComponent.bind(r,U),X=r?.addPopup({modal:F,eChild:V,closeOnEsc:!0,closedCallback:()=>{v.onPopupEditorClosed()},anchorToElement:b,positionCallback:K,ariaOwns:b});k=X?X.hideFunc:void 0,i(O),e.jsChildComp?.afterGuiAttached?.()}return()=>{k?.(),n.destroyBean(O)}}),G.useLayoutEffect(()=>()=>{v.isCellFocused()&&t?.getGui().contains(vi(s))&&b.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Yy.createPortal(e.wrappedContent,t.getGui()):null},ux=G.memo(XU),ZU=(e,t,i)=>{const{compProxy:s}=e;i(s);const n=s.getProps(),r=Wd(t);return ke.createElement(Wb.Provider,{value:{setMethods:c=>s.setMethods(c)}},r?ke.createElement(t,{...n}):ke.createElement(t,{...n,ref:c=>s.setRef(c)}))},dx=(e,t,i)=>e.compProxy?ZU(e,t,i):ke.createElement(t,{...e.compDetails.params,ref:i}),QU=(e,t,i,s,n)=>{const r=e.compDetails,c=r.componentClass,h=r.componentFromFramework&&!e.popup,p=r.componentFromFramework&&e.popup,v=!r.componentFromFramework&&e.popup;return h?dx(e,c,t):p?ke.createElement(ux,{editDetails:e,cellCtrl:s,eParentCell:i,wrappedContent:dx(e,c,t)}):v&&n?ke.createElement(ux,{editDetails:e,cellCtrl:s,eParentCell:i,jsChildComp:n}):null},JU=(e,t,i,s,n,r)=>{const{context:c}=G.useContext(ws),h=G.useCallback(()=>{const p=n.current;if(!p)return;const v=p.getGui();v&&v.parentElement&&v.parentElement.removeChild(v),c.destroyBean(p),n.current=void 0},[]);G.useEffect(()=>{const p=e!=null,v=e?.compDetails&&!e.compDetails.componentFromFramework,b=t&&i==null;if(!(p&&v&&!b)){h();return}const F=e.compDetails;if(n.current){const O=n.current,_=O.refresh!=null&&e.force==!1?O.refresh(F.params):!1;if(_===!0||_===void 0)return;h()}F.newAgStackInstance().then(O=>{if(!O)return;const V=O.getGui();if(!V)return;(t?i:r.current).appendChild(V),n.current=O})},[e,t,s]),G.useEffect(()=>h,[])},sD=JU,e5=({cellCtrl:e,parent:t})=>{const i=G.useRef(),s=G.useMemo(()=>{const{loadingComp:n}=e.getDeferLoadingCellRenderer();return n?{value:void 0,compDetails:n,force:!1}:void 0},[e]);if(sD(s,!1,void 0,1,i,t),s?.compDetails?.componentFromFramework){const n=s.compDetails.componentClass;return ke.createElement(n,{...s.compDetails.params})}return ke.createElement(ke.Fragment,null)},t5=({cellCtrl:e,printLayout:t,editingCell:i})=>{const s=G.useContext(ws),{context:n}=s,{column:{colIdSanitised:r},instanceId:c}=e,h=G.useRef(),[p,v]=G.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[b,R]=G.useState(),[F,k]=G.useState(1),[O,V]=G.useState(),[_,W]=G.useState(!1),[U,K]=G.useState(!1),[X,Y]=G.useState(!1),[de,re]=G.useState(),ie=G.useMemo(()=>e.isForceWrapper(),[e]),Fe=G.useMemo(()=>e.getCellAriaRole(),[e]),Pe=G.useRef(null),me=G.useRef(null),Me=G.useRef(null),_e=G.useRef(),Je=G.useRef(),Be=G.useRef(),ge=G.useRef([]),De=G.useRef(),Ae=G.useRef(),[$e,Le]=G.useState(0),J=G.useCallback(st=>{Ae.current=st,Le(Et=>Et+1)},[]),le=p!=null&&(_||X||U)&&(b==null||!!b.popup),xe=ie||le,Oe=G.useCallback(st=>{if(Je.current=st,st){const Et=st.isCancelBeforeStart&&st.isCancelBeforeStart();setTimeout(()=>{Et?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(st))})}},[e]),Ze=G.useRef();Ze.current||(Ze.current=new xp(()=>Pe.current)),sD(p,xe,Ae.current,$e,_e,Pe);const it=G.useRef();G.useLayoutEffect(()=>{const st=it.current,Et=p;if(it.current=p,st==null||st.compDetails==null||Et==null||Et.compDetails==null)return;De.current?.refreshVisibility();const yi=st.compDetails,pi=Et.compDetails;if(yi.componentClass!=pi.componentClass||Me.current?.refresh==null)return;Me.current.refresh(pi.params)!=!0&&k(At=>At+1)},[p]),G.useLayoutEffect(()=>{if(!(b&&!b.compDetails.componentFromFramework)||n.isDestroyed())return;const Et=b.compDetails,yi=b.popup===!0,pi=Et.newAgStackInstance();return pi.then(ct=>{if(!ct)return;const At=ct.getGui();Oe(ct),yi||((ie?Be:Pe).current?.appendChild(At),ct.afterGuiAttached&&ct.afterGuiAttached()),re(ct)}),()=>{pi.then(ct=>{const At=ct.getGui();e.disableEditorTooltipFeature(),n.destroyBean(ct),Oe(void 0),re(void 0),At?.parentElement?.removeChild(At)})}},[b]);const mt=G.useCallback(st=>{if(Be.current=st,!st||n.isDestroyed()||!e.isAlive()){const pi=ge.current;ge.current=[];for(const ct of pi)ct();return}let Et;const yi=pi=>{pi&&(st.insertAdjacentElement("afterbegin",pi.getGui()),ge.current.push(()=>{il(pi.getGui()),n.destroyBean(pi),De.current===Et&&(De.current=void 0)}))};_&&yi(e.createSelectionCheckbox()),X&&yi(e.createDndSource()),U&&(Et=e.createRowDragComp(),De.current=Et,Et&&(yi(Et),Et.refreshVisibility()))},[e,n,X,U,_]),oi=G.useCallback(()=>{const st=!e.isCellSpanning()||me.current,Et=Pe.current;if(!Et||!st||!e||!e.isAlive()||n.isDestroyed()){h.current=n.destroyBean(h.current);return}h.current=n.createBean(new zd);const yi={toggleCss:(ct,At)=>Ze.current.toggleCss(ct,At),setUserStyles:ct=>V(ct),getFocusableElement:()=>Pe.current,setIncludeSelection:ct=>W(ct),setIncludeRowDrag:ct=>K(ct),setIncludeDndSource:ct=>Y(ct),getCellEditor:()=>Je.current||null,getCellRenderer:()=>Me.current??_e.current,getParentOfValue:()=>Ae.current??Be.current??Pe.current,setRenderDetails:(ct,At,kt)=>{const Js=()=>{v(Hi=>Hi?.compDetails!==ct||Hi?.value!==At||Hi?.force!==kt?{value:At,compDetails:ct,force:kt}:Hi)};if(ct?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Hi,onReady:Mt}=e.getDeferLoadingCellRenderer();if(Hi){v({value:void 0,compDetails:Hi,force:!1}),Mt.then(()=>pU(Js));return}}Js()},setEditDetails:(ct,At,kt,Js)=>{if(ct){let Hi;ct.componentFromFramework&&(Js?Hi=new qU(ct.params,()=>k(Mt=>Mt+1)):Ub()),R({compDetails:ct,popup:At,popupPosition:kt,compProxy:Hi}),At||v(void 0)}else e.hasBrowserFocus()&&yi.getFocusableElement().focus({preventScroll:!0}),R(Mt=>{Mt?.compProxy&&(Je.current=void 0)})},refreshEditStyles:(ct,At)=>{if(!Pe.current)return;const{current:kt}=Ze;kt.toggleCss("ag-cell-value",!xe),kt.toggleCss("ag-cell-inline-editing",!!ct&&!At),kt.toggleCss("ag-cell-popup-editing",!!ct&&!!At),kt.toggleCss("ag-cell-not-inline-editing",!ct||!!At)}},pi=Be.current||void 0;e.setComp(yi,Et,me.current??void 0,pi,t,i,h.current)},[]),xt=G.useCallback(st=>{Pe.current=st,oi()},[]),Tt=G.useCallback(st=>{me.current=st,oi()},[]),ys=G.useMemo(()=>!!(p?.compDetails?.componentFromFramework&&Wd(p.compDetails.componentClass)),[p]);G.useLayoutEffect(()=>{if(!Pe.current)return;const{current:st}=Ze;st.toggleCss("ag-cell-value",!xe),st.toggleCss("ag-cell-inline-editing",!!b&&!b.popup),st.toggleCss("ag-cell-popup-editing",!!b&&!!b.popup),st.toggleCss("ag-cell-not-inline-editing",!b||!!b.popup)});const Ri=()=>{const{compDetails:st,value:Et}=p;if(!st)return Et?.toString?.()??Et;if(st.componentFromFramework){const yi=st.componentClass;return ke.createElement(G.Suspense,{fallback:ke.createElement(e5,{cellCtrl:e,parent:Pe})},ys?ke.createElement(yi,{...st.params,key:F}):ke.createElement(yi,{...st.params,key:F,ref:Me}))}},ze=()=>{const st=()=>p==null?null:xe?ke.createElement("span",{role:"presentation",id:`cell-${c}`,className:"ag-cell-value",ref:J},Ri()):Ri(),Et=yi=>QU(yi,Oe,Pe.current,e,de);return b!=null?b.popup?ke.createElement(ke.Fragment,null,st(),Et(b)):Et(b):st()},Ii=()=>ke.createElement("div",{ref:xt,style:O,role:Fe,"col-id":r},xe?ke.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:mt},ze()):ze());return e.isCellSpanning()?ke.createElement("div",{ref:Tt,className:"ag-spanned-cell-wrapper",role:"presentation"},Ii()):Ii()},i5=G.memo(t5),s5=({rowCtrl:e,containerType:t})=>{const{context:i,gos:s,editSvc:n}=G.useContext(ws),r=G.useContext(ZM)==="default",c=G.useRef(),h=G.useRef(e.getDomOrder()),p=e.isFullWidth(),v=e.rowNode.displayed,[b,R]=G.useState(()=>v?e.rowNode.getRowIndexString():null),[F,k]=G.useState(()=>e.rowId),[O,V]=G.useState(()=>e.businessKey),[_,W]=G.useState(()=>e.rowStyles),U=G.useRef(null),[K,X]=G.useState(()=>null),[Y,de]=G.useState(),[re,ie]=G.useState(()=>v?e.getInitialRowTop(t):void 0),[Fe,Pe]=G.useState(()=>v?e.getInitialTransform(t):void 0),me=G.useRef(null),Me=G.useRef(),_e=G.useRef(),Je=G.useRef(!1),[Be,ge]=G.useState(0);G.useEffect(()=>{if(Je.current||!Y||Be>10)return;const Tt=me.current?.firstChild;Tt?(e.setupDetailRowAutoHeight(Tt),Je.current=!0):ge(ys=>ys+1)},[Y,Be]);const De=G.useRef();De.current||(De.current=new xp(()=>me.current));const Ae=G.useRef(()=>{}),$e=G.useCallback(Tt=>(Ae.current=Tt,()=>{Ae.current=()=>{}}),[]),Le=fU($e,()=>U.current,[]),J=r?Le:K,le=G.useCallback(Tt=>{if(me.current=Tt,c.current=Tt?i.createBean(new zd):i.destroyBean(c.current),!Tt){e.unsetComp(t);return}if(!e.isAlive()||i.isDestroyed())return;const ys={setTop:ie,setTransform:Pe,toggleCss:(Ri,ze)=>De.current.toggleCss(Ri,ze),setDomOrder:Ri=>h.current=Ri,setRowIndex:R,setRowId:k,setRowBusinessKey:V,setUserStyles:W,setCellCtrls:(Ri,ze)=>{const Ii=U.current,st=$C(Ii,Ri,h.current);st!==Ii&&(U.current=st,r?Ae.current():fp(ze,()=>X(st)))},showFullWidth:Ri=>{_e.current=Ri.params,de(Ri)},getFullWidthCellRenderer:()=>Me.current,getFullWidthCellRendererParams:()=>_e.current,refreshFullWidth:Ri=>{const ze=Ri();return _e.current=ze,mt.current?(de(Ii=>({...Ii,params:ze})),!0):!Me.current||!Me.current.refresh?!1:Me.current.refresh(ze)}};e.setComp(ys,Tt,t,c.current)},[]);G.useLayoutEffect(()=>Tp(Y,i,me.current,Me),[Y]);const xe=G.useMemo(()=>{const Tt={top:re,transform:Fe};return Object.assign(Tt,_),Tt},[re,Fe,_]),Oe=p&&Y?.componentFromFramework,Ze=!p&&J!=null,it=G.useMemo(()=>!!(Y?.componentFromFramework&&Wd(Y.componentClass)),[Y]),mt=G.useRef(!1);G.useEffect(()=>{mt.current=it&&!!Y&&!!s.get("reactiveCustomComponents")},[it,Y]);const oi=()=>J?.map(Tt=>ke.createElement(i5,{cellCtrl:Tt,editingCell:n?.isEditing(Tt,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Tt.instanceId})),xt=()=>{const Tt=Y.componentClass;return it?ke.createElement(Tt,{...Y.params}):ke.createElement(Tt,{...Y.params,ref:Me})};return ke.createElement("div",{ref:le,role:"row",style:xe,"row-index":b,"row-id":F,"row-business-key":O},Ze?oi():Oe?xt():null)},hx=G.memo(s5),n5=({name:e})=>{const{context:t,gos:i}=G.useContext(ws),s=G.useMemo(()=>Ep(e),[e]),n=G.useRef(null),r=G.useRef(null),c=G.useRef(null),h=G.useRef([]),p=G.useRef([]),[v,b]=G.useState(()=>[]),R=!!i.get("enableCellSpan")&&!!s.getSpannedRowCtrls,F=G.useRef([]),k=G.useRef([]),[O,V]=G.useState(()=>[]),_=G.useRef(!1),W=G.useRef(),U=G.useMemo(()=>Nn("ag-viewport",ME(e)),[e]),K=G.useMemo(()=>Nn(aC(e)),[e]),X=G.useMemo(()=>Nn("ag-spanning-container",qL(e)),[e]),Y=s.type==="center"||R,de=Y?n:r;hc(" AG Row Container "+e+" ",de);const re=G.useCallback(()=>{const Be=!Y||n.current!=null,ge=r.current!=null,De=!R||c.current!=null;return Be&&ge&&De},[]),ie=G.useCallback(()=>n.current==null&&r.current==null&&c.current==null,[]),Fe=G.useCallback(()=>{if(ie()&&(W.current=t.destroyBean(W.current)),!t.isDestroyed()&&re()){const Be=Ae=>{const $e=$C(p.current,h.current,_.current);$e!==p.current&&(p.current=$e,fp(Ae,()=>b($e)))},ge=Ae=>{const $e=$C(k.current,F.current,_.current);$e!==k.current&&(k.current=$e,fp(Ae,()=>V($e)))},De={setHorizontalScroll:Ae=>{n.current&&(n.current.scrollLeft=Ae)},setViewportHeight:Ae=>{n.current&&(n.current.style.height=Ae)},setRowCtrls:({rowCtrls:Ae,useFlushSync:$e})=>{const Le=!!$e&&h.current.length>0&&Ae.length>0;h.current=Ae,Be(Le)},setSpannedRowCtrls:(Ae,$e)=>{const Le=!!$e&&F.current.length>0&&Ae.length>0;F.current=Ae,ge(Le)},setDomOrder:Ae=>{_.current!=Ae&&(_.current=Ae,Be(!1))},setContainerWidth:Ae=>{r.current&&(r.current.style.width=Ae)},setOffsetTop:Ae=>{r.current&&(r.current.style.transform=`translateY(${Ae})`)}};W.current=t.createBean(new nO(e)),W.current.setComp(De,r.current,c.current??void 0,n.current)}},[re,ie]),Pe=G.useCallback(Be=>{r.current=Be,Fe()},[Fe]),me=G.useCallback(Be=>{c.current=Be,Fe()},[Fe]),Me=G.useCallback(Be=>{n.current=Be,Fe()},[Fe]),_e=()=>ke.createElement("div",{className:K,ref:Pe,role:Y?"presentation":"rowgroup"},v.map(Be=>ke.createElement(hx,{rowCtrl:Be,containerType:s.type,key:Be.instanceId})));if(!Y)return _e();const Je=()=>ke.createElement("div",{className:X,ref:me,role:"presentation"},O.map(Be=>ke.createElement(hx,{rowCtrl:Be,containerType:s.type,key:Be.instanceId})));return ke.createElement("div",{className:U,ref:Me,role:"rowgroup"},_e(),R?Je():null)},o5=G.memo(n5),r5=()=>{const e=G.useContext(ws),{context:t,overlays:i}=e,[s,n]=G.useState(""),[r,c]=G.useState(0),[h,p]=G.useState(0),[v,b]=G.useState("0px"),[R,F]=G.useState("0px"),[k,O]=G.useState("100%"),[V,_]=G.useState("0px"),[W,U]=G.useState("0px"),[K,X]=G.useState("100%"),[Y,de]=G.useState(!0),[re,ie]=G.useState(!0),[Fe,Pe]=G.useState(null),[me,Me]=G.useState(""),[_e,Je]=G.useState(null),[Be,ge]=G.useState("ag-layout-normal"),De=G.useRef();De.current||(De.current=new xp(()=>Ae.current));const Ae=G.useRef(null),$e=G.useRef(null),Le=G.useRef(null),J=G.useRef(null),le=G.useRef(null),xe=G.useRef(null),Oe=G.useRef(null),Ze=G.useRef([]),it=G.useRef([]);hc(" AG Grid Body ",Ae),hc(" AG Pinned Top ",$e),hc(" AG Sticky Top ",Le),hc(" AG Middle ",xe),hc(" AG Pinned Bottom ",Oe);const mt=G.useCallback(kt=>{if(Ae.current=kt,!kt||t.isDestroyed()){Ze.current=t.destroyBeans(Ze.current),it.current.forEach(Bt=>Bt()),it.current=[];return}const Js=(Bt,Zi)=>{Bt.appendChild(Zi),it.current.push(()=>Bt.removeChild(Zi))},Hi=Bt=>{const Zi=t.createBean(new Bt);return Ze.current.push(Zi),Zi},Mt=(Bt,Zi,Vc)=>{Js(Bt,document.createComment(Vc)),Js(Bt,Hi(Zi).getGui())};Mt(kt,dO," AG Fake Horizontal Scroll ");const Bc=i?.getOverlayWrapperCompClass();Bc&&Mt(kt,Bc," AG Overlay Wrapper "),le.current&&Mt(le.current,gO," AG Fake Vertical Scroll ");const na={setRowAnimationCssOnBodyViewport:n,setColumnCount:Bt=>{Ae.current&&JP(Ae.current,Bt)},setRowCount:Bt=>{Ae.current&&ZP(Ae.current,Bt)},setTopHeight:c,setBottomHeight:p,setStickyTopHeight:b,setStickyTopTop:F,setStickyTopWidth:O,setTopInvisible:de,setBottomInvisible:ie,setColumnMovingCss:(Bt,Zi)=>De.current.toggleCss(Bt,Zi),updateLayoutClasses:ge,setAlwaysVerticalScrollClass:Pe,setPinnedTopBottomOverflowY:Me,setCellSelectableCss:(Bt,Zi)=>Je(Zi?Bt:null),setBodyViewportWidth:Bt=>{xe.current&&(xe.current.style.width=Bt)},registerBodyViewportResizeListener:Bt=>{if(xe.current){const Zi=ta(e,xe.current,Bt);it.current.push(()=>Zi())}},setStickyBottomHeight:_,setStickyBottomBottom:U,setStickyBottomWidth:X,setGridRootRole:Bt=>kt.setAttribute("role",Bt)},dl=t.createBean(new lO);Ze.current.push(dl),dl.setComp(na,kt,xe.current,$e.current,Oe.current,Le.current,J.current)},[]),oi=G.useMemo(()=>Nn("ag-root","ag-unselectable",Be),[Be]),xt=G.useMemo(()=>Nn("ag-body-viewport",s,Be,Fe,_e),[s,Be,Fe,_e]),Tt=G.useMemo(()=>Nn("ag-body",Be),[Be]),ys=G.useMemo(()=>Nn("ag-floating-top",Y?"ag-invisible":null,_e),[_e,Y]),Ri=G.useMemo(()=>Nn("ag-sticky-top",_e),[_e]),ze=G.useMemo(()=>Nn("ag-sticky-bottom",V==="0px"?"ag-invisible":null,_e),[_e,V]),Ii=G.useMemo(()=>Nn("ag-floating-bottom",re?"ag-invisible":null,_e),[_e,re]),st=G.useMemo(()=>({height:r,minHeight:r,overflowY:me}),[r,me]),Et=G.useMemo(()=>({height:v,top:R,width:k}),[v,R,k]),yi=G.useMemo(()=>({height:V,bottom:W,width:K}),[V,W,K]),pi=G.useMemo(()=>({height:h,minHeight:h,overflowY:me}),[h,me]),ct=kt=>ke.createElement(o5,{name:kt,key:`${kt}-container`}),At=({section:kt,children:Js,className:Hi,style:Mt})=>ke.createElement("div",{ref:kt,className:Hi,role:"presentation",style:Mt},Js.map(ct));return ke.createElement("div",{ref:mt,className:oi},ke.createElement($U,null),At({section:$e,className:ys,style:st,children:["topLeft","topCenter","topRight","topFullWidth"]}),ke.createElement("div",{className:Tt,ref:le,role:"presentation"},At({section:xe,className:xt,children:["left","center","right","fullWidth"]})),At({section:Le,className:Ri,style:Et,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),At({section:J,className:ze,style:yi,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),At({section:Oe,className:Ii,style:pi,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},a5=G.memo(r5),l5=(e,t)=>{const{children:i,eFocusableElement:s,onTabKeyDown:n,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:c,isEmpty:h}=e,{context:p}=G.useContext(ws),v=G.useRef(null),b=G.useRef(null),R=G.useRef(),F=W=>{const U=W==null?void 0:parseInt(W,10).toString();[v,b].forEach(K=>{U===void 0?K.current?.removeAttribute("tabindex"):K.current?.setAttribute("tabindex",U)})};G.useImperativeHandle(t,()=>({forceFocusOutOfContainer(W){R.current?.forceFocusOutOfContainer(W)}}));const k=G.useCallback(()=>{const W=v.current,U=b.current;if(!W&&!U||p.isDestroyed()){R.current=p.destroyBean(R.current);return}if(W&&U){const K={setTabIndex:F};R.current=p.createBean(new GE({comp:K,eTopGuard:W,eBottomGuard:U,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:X=>r.focusInnerElement(X),isEmpty:h}))}},[]),O=G.useCallback(W=>{v.current=W,k()},[k]),V=G.useCallback(W=>{b.current=W,k()},[k]),_=W=>{const U=W==="top"?Md.TAB_GUARD_TOP:Md.TAB_GUARD_BOTTOM;return ke.createElement("div",{className:`${Md.TAB_GUARD} ${U}`,role:"presentation",ref:W==="top"?O:V})};return ke.createElement(ke.Fragment,null,_("top"),i,_("bottom"))},c5=G.forwardRef(l5),u5=G.memo(c5),d5=({context:e})=>{const[t,i]=G.useState(""),[s,n]=G.useState(""),[r,c]=G.useState(null),[h,p]=G.useState(null),[v,b]=G.useState(!1),[R,F]=G.useState(),k=G.useRef(),O=G.useRef(null),V=G.useRef(),[_,W]=G.useState(null),U=G.useRef(()=>{}),K=G.useRef(),X=G.useRef([]),Y=G.useCallback(()=>{},[]);hc(" AG Grid ",O);const de=G.useCallback(Me=>{if(O.current=Me,k.current=Me?e.createBean(new lI):e.destroyBean(k.current),!Me||e.isDestroyed())return;const _e=k.current;U.current=_e.focusInnerElement.bind(_e);const Je={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:Be=>{if(!Be&&K.current?.isDisplayed()){K.current.forceFocusOutOfContainer(Be);return}V.current?.forceFocusOutOfContainer(Be)},updateLayoutClasses:n,getFocusableContainers:()=>{const Be=[],ge=O.current?.querySelector(".ag-root");return ge&&Be.push({getGui:()=>ge}),X.current.forEach(De=>{De.isDisplayed()&&Be.push(De)}),Be},setCursor:c,setUserSelect:p};_e.setComp(Je,Me,Me),b(!0)},[]);G.useEffect(()=>{const Me=k.current,_e=O.current;if(!R||!Me||!_||!_e||e.isDestroyed())return;const Je=[],{watermarkSelector:Be,paginationSelector:ge,sideBarSelector:De,statusBarSelector:Ae,gridHeaderDropZonesSelector:$e}=Me.getOptionalSelectors(),Le=[];if($e){const le=e.createBean(new $e.component),xe=le.getGui();_e.insertAdjacentElement("afterbegin",xe),Le.push(xe),Je.push(le)}if(De){const le=e.createBean(new De.component),xe=le.getGui(),Oe=_.querySelector(".ag-tab-guard-bottom");Oe&&(Oe.insertAdjacentElement("beforebegin",xe),Le.push(xe)),Je.push(le),X.current.push(le)}const J=le=>{const xe=e.createBean(new le),Oe=xe.getGui();return _e.insertAdjacentElement("beforeend",Oe),Le.push(Oe),Je.push(xe),xe};if(Ae&&J(Ae.component),ge){const le=J(ge.component);K.current=le,X.current.push(le)}return Be&&J(Be.component),()=>{e.destroyBeans(Je),Le.forEach(le=>{le.parentElement?.removeChild(le)})}},[R,_,e]);const re=G.useMemo(()=>Nn("ag-root-wrapper",t,s),[t,s]),ie=G.useMemo(()=>Nn("ag-root-wrapper-body","ag-focus-managed",s),[s]),Fe=G.useMemo(()=>({userSelect:h??"",WebkitUserSelect:h??"",cursor:r??""}),[h,r]),Pe=G.useCallback(Me=>{V.current=Me,F(Me!==null)},[]),me=G.useCallback(()=>!k.current?.isFocusable(),[]);return ke.createElement("div",{ref:de,className:re,style:Fe,role:"presentation"},ke.createElement("div",{className:ie,ref:W,role:"presentation"},v&&_&&!e.isDestroyed()&&ke.createElement(ws.Provider,{value:e.getBeans()},ke.createElement(u5,{ref:Pe,eFocusableElement:_,onTabKeyDown:Y,gridCtrl:k.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:me},ke.createElement(a5,null)))))},h5=G.memo(d5),g5=class extends ye{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},nD={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},p5={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...nD},oD=new Set(Object.keys(p5)),f5=new Set(Object.keys(nD)),rD=e=>{const t=G.useRef(),i=G.useRef(null),s=G.useRef(null),n=G.useRef([]),r=G.useRef([]),c=G.useRef(e),h=G.useRef(),p=G.useRef(),v=G.useRef(!1),[b,R]=G.useState(void 0),[,F]=G.useState(0),k=G.useCallback(W=>{if(i.current=W,!W){n.current.forEach(me=>me()),n.current.length=0;return}const U=e.modules||[];s.current||(s.current=new OU(()=>F(me=>me+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{s.current?.destroy(),s.current=null}));const K=UA(e.gridOptions,e,Object.keys(e).filter(me=>!oD.has(me))),X=()=>{if(v.current){const me=()=>h.current?.shouldQueueUpdates()?void 0:r.current.shift();let Me=me();for(;Me;)Me(),Me=me()}},Y=new w5(X);h.current=Y;const de=new g5,re={providedBeanInstances:{frameworkCompWrapper:new C5(s.current,K),renderStatus:de},modules:U,frameworkOverrides:Y,setThemeOnGridDiv:!0},ie=me=>{R(me),me.createBean(de),n.current.push(()=>{me.destroy()}),me.getBean("ctrlsSvc").whenReady({addDestroyFunc:Me=>{n.current.push(Me)}},()=>{if(me.isDestroyed())return;const Me=t.current;Me&&e.passGridApi?.(Me)})},Fe=me=>{me.getBean("ctrlsSvc").whenReady({addDestroyFunc:Me=>{n.current.push(Me)}},()=>{r.current.forEach(Me=>Me()),r.current.length=0,v.current=!0})},Pe=new B2;K.gridId??(K.gridId=p.current),t.current=Pe.create(W,K,ie,Fe,re),n.current.push(()=>{t.current=void 0}),t.current&&(p.current=t.current.getGridId())},[]),O=G.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),V=G.useCallback(W=>{v.current&&!h.current?.shouldQueueUpdates()?W():r.current.push(W)},[]);G.useEffect(()=>{const W=m5(c.current,e);c.current=e,V(()=>{t.current&&jA(W,t.current)})},[e]);const _=!ke.useSyncExternalStore||iC(e,"renderingMode")==="legacy"?"legacy":"default";return ke.createElement("div",{style:O,className:e.className,ref:k},ke.createElement(ZM.Provider,{value:_},b&&!b.isDestroyed()?ke.createElement(h5,{key:b.instanceId,context:b}):null,s.current?.getPortals()??null))};function m5(e,t){const i={};return Object.keys(t).forEach(s=>{if(oD.has(s)){f5.has(s)&&Te(274,{prop:s});return}const n=t[s];e[s]!==n&&(i[s]=n)}),i}var C5=class extends W2{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const i=this.gridOptions;if(iC(i,"reactiveCustomComponents")){const c=(h=>{switch(h){case"filter":return iC(i,"enableFilterHandlers")?xU:SU;case"floatingFilterComponent":return iC(i,"enableFilterHandlers")?MU:EU;case"dateComponent":return yU;case"dragAndDropImageComponent":return bU;case"loadingOverlayComponent":return TU;case"noRowsOverlayComponent":return PU;case"statusPanel":return AU;case"toolPanel":return kU;case"menuItem":return FU;case"cellRenderer":return wU;case"innerHeaderComponent":return DU}})(t.name);if(c)return new c(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ub();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new tD(e,this.parent,t,n)}},v5=G.forwardRef((e,t)=>{const i=G.useContext(ws),{registry:s,context:n,gos:r,rowModel:c}=i,[h,p]=G.useState(()=>new Vn),[v,b]=G.useState(()=>new Vn),[R,F]=G.useState(),[k,O]=G.useState(),V=G.useRef(),_=G.useRef(null),W=G.useRef(),U=G.useMemo(()=>LN(e.api.getGridId(),R?.rowModelType??"clientSide"),[e]),K=G.useMemo(()=>h.toString()+" ag-details-row",[h]),X=G.useMemo(()=>v.toString()+" ag-details-grid",[v]);t&&G.useImperativeHandle(t,()=>({refresh(){return V.current?.refresh()??!1}})),e.template&&Te(230);const Y=G.useCallback(re=>{if(_.current=re,!re||n.isDestroyed()){V.current=n.destroyBean(V.current),W.current?.();return}const ie={toggleCss:(Pe,me)=>p(Me=>Me.setClass(Pe,me)),toggleDetailGridCss:(Pe,me)=>b(Me=>Me.setClass(Pe,me)),setDetailGrid:Pe=>F(Pe),setRowData:Pe=>O(Pe),getGui:()=>_.current},Fe=s.createDynamicBean("detailCellRendererCtrl",!0);if(Fe&&(n.createBean(Fe),Fe.init(ie,e),V.current=Fe,r.get("detailRowAutoHeight"))){const Pe=()=>{if(_.current==null)return;const me=_.current.clientHeight;me!=null&&me>0&&setTimeout(()=>{e.node.setRowHeight(me),(_i(r)||Ic(r))&&c.onRowHeightChanged()},0)};W.current=ta(i,re,Pe),Pe()}},[]),de=G.useCallback(re=>{V.current?.registerDetailWithMaster(re)},[]);return ke.createElement("div",{className:K,ref:Y},R&&ke.createElement(rD,{className:X,...R,modules:U,rowData:k,passGridApi:de}))}),w5=class extends BE{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:lx,agGroupRowRenderer:lx,agDetailCellRenderer:v5},this.wrapIncoming=(t,i)=>i==="ensureVisible"?gU(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return hU()}},y5=class extends G.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return ke.createElement(rD,{...this.props,passGridApi:this.setGridApi})}};const Sc=50,b5=[10,20,50,100,200,500],aD="https://api.disneyapi.dev",S5=[{field:"name",headerName:"Character",flex:1,sortable:!0},{field:"tvShowsCount",headerName:"Number of TV shows",width:200,sortable:!0},{field:"videoGamesCount",headerName:"Number of Video games",width:250,sortable:!0},{field:"allies",headerName:"Allies",flex:1},{field:"enemies",headerName:"Enemies",flex:1}],x5={resizable:!0,sortable:!0,unSortIcon:!0,headerTooltip:"Click to sort"},R5={height:640,"--ag-font-size":"13px","--ag-grid-size":"6px","--ag-border-color":"#e5e7eb","--ag-header-background-color":"#f8fafc","--ag-header-foreground-color":"#0f172a","--ag-odd-row-background-color":"#fafafa","--ag-row-hover-color":"#eef2ff","--ag-selected-row-background-color":"#e0e7ff"};function E5(e,t,i,s,n,r=300){const c=G.useRef(!0),h=G.useRef("");G.useEffect(()=>{const p=JSON.stringify({nameInput:e,tvInput:t});if(c.current){c.current=!1,h.current=p;return}if(p===h.current)return;h.current=p;const v=setTimeout(()=>{i(e),s(t),n.current?.purgeInfiniteCache?.()},r);return()=>clearTimeout(v)},[e,t,i,s,r,n])}function lD(e){return async function(i,s){const n=new URLSearchParams({page:String(i),pageSize:String(Sc)}),r=e?.trim();r&&n.set("name",r);const c=await fetch(`${aD}/character?${n.toString()}`,{signal:s});if(!c.ok)throw new Error(String(c.status));return await c.json()}}const M5=e=>{if(!e.length)return 0;const t=e[0],i=e[e.length-1],s=t?.info?.totalPages??1;return i.info?.nextPage?s*Sc:(s-1)*Sc+(i.data?.length??0)},D5=e=>e.trim().toLowerCase(),gx=e=>e?.length?e.join(", "):"",T5=e=>({id:e._id,name:e.name,tvShowsCount:e.tvShows?.length??0,videoGamesCount:e.videoGames?.length??0,allies:gx(e.allies),enemies:gx(e.enemies),raw:e});function F5({fetchApiPage:e,tvQ:t,pageSizeRef:i,setRowCount:s}){return{getRows:async n=>{try{const r=n.startRow??0,c=n.endRow??r+(i.current??50),h=Math.floor(r/Sc)+1,p=Math.floor((c-1)/Sc)+1,v=new AbortController,b=p-h+1,R=Array.from({length:b},(X,Y)=>e(h+Y,v.signal)),F=await Promise.all(R),k=M5(F);s(k);const O=F.flatMap(X=>X.data??[]),V=r%Sc,_=c-r;let W=O.slice(V,V+_).map(T5);const U=D5(t);U&&(W=W.filter(X=>(X.raw.tvShows??[]).some(Y=>String(Y).toLowerCase().includes(U))));const K=n.sortModel?.[0];if(K){const X=K.sort==="asc"?1:-1;if(K.colId==="name")W.sort((Y,de)=>Y.name.localeCompare(de.name)*X);else if(K.colId==="tvShowsCount"||K.colId==="videoGamesCount"){const Y=K.colId;W.sort((de,re)=>(de[Y]-re[Y])*X)}else if(K.colId==="allies"||K.colId==="enemies"){const Y=K.colId;W.sort((de,re)=>de[Y].localeCompare(re[Y])*X)}}n.successCallback(W,k)}catch{n.failCallback()}}}}function P5(e,t,i){G.useEffect(()=>{const s=e.current;if(!s)return;const n=i.current??50,c=(s.paginationGetCurrentPage?s.paginationGetCurrentPage():0)*n;s.setGridOption?.("paginationPageSize",t);const h=Math.floor(c/t);setTimeout(()=>{s.paginationGoToPage?.(h),s.ensureIndexVisible?.(c,"top")},0),i.current=t},[e,t,i])}const px=({title:e,items:t,className:i=""})=>Se.jsxs("div",{className:i,"data-testid":`character-${e}`,children:[Se.jsx("div",{className:"mb-2 text-sm font-medium text-[#0A2A6C]",children:e}),t?.length?Se.jsx("ul",{className:"list-disc pl-5 text-sm leading-6 text-slate-800",children:t.map(s=>Se.jsx("li",{children:s},s))}):Se.jsx("div",{className:"text-sm text-slate-500",children:"—"})]}),gC=Zx("charactersTable/getOneCharacter",async e=>{const t=await fetch(`${aD}/character/${e}`);if(!t.ok)throw new Error("Failed to load character");return(await t.json()).data}),A5={pageSize:50,nameInput:"",tvInput:"",nameQ:"",tvQ:"",rowCount:void 0,isModalOpen:!1,selectedId:null,detail:null,detailLoading:!1,detailError:null},cD=JC({name:"charactersTable",initialState:A5,reducers:{setPageSize:(e,t)=>{e.pageSize=t.payload},setNameInput:(e,t)=>{e.nameInput=t.payload},setTvInput:(e,t)=>{e.tvInput=t.payload},setNameQ:(e,t)=>{e.nameQ=t.payload},setTvQ:(e,t)=>{e.tvQ=t.payload},setRowCount:(e,t)=>{e.rowCount=t.payload},clearNameInput:e=>{e.nameInput=""},clearTvInput:e=>{e.tvInput=""},openModalById:(e,t)=>{e.isModalOpen=!0,e.selectedId=t.payload,e.detail=null,e.detailError=null},closeModal:e=>{e.isModalOpen=!1,e.selectedId=null,e.detail=null,e.detailLoading=!1,e.detailError=null}},extraReducers:e=>{e.addCase(gC.pending,t=>{t.detailLoading=!0,t.detailError=null}),e.addCase(gC.fulfilled,(t,i)=>{t.detailLoading=!1,t.detail=i.payload}),e.addCase(gC.rejected,(t,i)=>{t.detailLoading=!1,t.detailError=i.error.message??"Error"})}}),{setPageSize:k5,setNameInput:L5,setTvInput:O5,setNameQ:I5,setTvQ:H5,setRowCount:N5,clearNameInput:G5,clearTvInput:B5,openModalById:V5,closeModal:fx}=cD.actions,z5=e=>e.charactersTable.isModalOpen,_5=e=>e.charactersTable.detail,W5=e=>e.charactersTable.detailLoading,U5=e=>e.charactersTable.detailError,j5=e=>e.charactersTable.pageSize,$5=e=>e.charactersTable.nameInput,K5=e=>e.charactersTable.tvInput,q5=e=>e.charactersTable.nameQ,Y5=e=>e.charactersTable.tvQ,X5=e=>e.charactersTable.rowCount,Z5=cD.reducer,Q5=()=>{const e=Oi(z5),t=Oi(_5),i=Oi(W5),s=Oi(U5),n=Lc();return e?Se.jsxs(Se.Fragment,{children:[Se.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:()=>n(fx())}),Se.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:Se.jsxs("div",{className:`w-full max-w-3xl md:max-w-4xl rounded-2xl border\r
         border-blue-100 bg-white p-6 md:p-8 \r
          shadow-[0_10px_40px_rgba(2,6,23,0.4)] ring-1 ring-blue-50`,children:[Se.jsxs("div",{className:"flex items-start justify-between",children:[Se.jsx("h3",{"data-testid":"character-name",className:`text-xl md:text-2xl font-semibold bg-gradient-to-r from-[#0A2A6C]\r
             via-[#153E90] to-[#3B82F6] bg-clip-text text-transparent`,children:t?.name||(i?"Loading…":"Character")}),Se.jsx("button",{"data-testid":"close-modal-btn",className:`rounded-md border border-blue-200 px-3 py-1.5 text-sm\r
               cursor-pointer text-blue-700 hover:bg-blue-50`,onClick:()=>n(fx()),children:"Close"})]}),i&&Se.jsx("div",{className:"mt-6 text-sm text-slate-600",children:"Fetching details…"}),s&&Se.jsx("div",{className:"mt-6 text-sm text-red-600",children:s}),t&&!i&&!s&&Se.jsxs(Se.Fragment,{children:[t.imageUrl&&Se.jsx("div",{className:"mt-6 overflow-hidden rounded-xl border border-blue-50 bg-slate-50",children:Se.jsx("img",{"data-testid":"character-image",src:t.imageUrl,alt:t.name,className:"h-80 w-full object-contain"})}),Se.jsxs("div",{className:"mt-8 grid gap-6 sm:grid-cols-2",children:[Se.jsx(px,{title:"TV Shows",items:t.tvShows}),Se.jsx(px,{title:"Video Games",items:t.videoGames})]})]})]})})]}):null},mx=({label:e,value:t,placeholder:i,onChange:s,onClear:n,className:r=""})=>Se.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[Se.jsx("label",{"data-testid":`table-input-${e}-label`,className:"text-sm",children:e}),Se.jsx("input",{className:"rounded-md border px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring",value:t,"data-testid":`table-input-${e}`,onChange:c=>s(c.target.value),placeholder:i}),t&&Se.jsx("button",{"data-testid":`table-input-${e}-clear-btn`,className:"rounded-md border px-2 py-1 text-sm shadow-sm hover:bg-gray-50",onClick:n,type:"button",children:"Clear"})]}),J5=({pageSize:e})=>{const t=Lc();return Se.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[Se.jsx("label",{className:"text-sm",children:"Rows per page"}),Se.jsx("select",{className:"rounded-md px-2 py-2 text-sm shadow-lg focus:outline-none focus:ring",value:e,"data-testid":"table-rows-per-page",onChange:i=>t(k5(Number(i.target.value))),children:b5.map(i=>Se.jsx("option",{value:i,children:i},i))})]})};HN.registerModules([dU]);const e6=()=>{const e=Lc(),t=Oi(j5),i=Oi($5),s=Oi(K5),n=Oi(q5),r=Oi(Y5),c=Oi(X5),h=G.useRef(null),p=G.useRef(50),v=G.useRef(50);G.useEffect(()=>{p.current=t},[t]),P5(h,t,v),E5(i,s,F=>e(I5(F)),F=>e(H5(F)),h,300);const b=G.useMemo(()=>lD(n),[n]),R=G.useMemo(()=>F5({fetchApiPage:b,tvQ:r,pageSizeRef:p,setRowCount:F=>e(N5(F))}),[e,b,r]);return Se.jsxs("div",{className:"space-y-4 p-3",children:[Se.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[Se.jsx(mx,{label:"Search by name",value:i,placeholder:"Minnie",onChange:F=>e(L5(F)),onClear:()=>e(G5())}),Se.jsx(mx,{label:"Filter by TV show",value:s,placeholder:"DuckTales",onChange:F=>e(O5(F)),onClear:()=>e(B5())}),Se.jsx(J5,{pageSize:t})]}),Se.jsx("div",{className:"ag-theme-quartz w-full rounded-xl shadow-sm overflow-hidden",style:R5,"data-testid":"characters-table",children:Se.jsx(y5,{theme:nM,onGridReady:F=>{h.current=F.api},columnDefs:S5,defaultColDef:x5,rowModelType:"infinite",cacheBlockSize:Sc,pagination:!0,paginationPageSize:t,paginationPageSizeSelector:!1,datasource:R,rowHeight:40,headerHeight:40,rowClass:"test-row",suppressCellFocus:!0,animateRows:!0,overlayNoRowsTemplate:"No data",onRowClicked:F=>{const k=Number(F.data?.id);Number.isFinite(k)&&(e(V5(k)),e(gC(k)))},overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Loading…</span>',onSortChanged:()=>h.current?.purgeInfiniteCache()})}),typeof c=="number"&&Se.jsxs("div",{className:"text-xs text-slate-600",children:[c.toLocaleString()," total characters"]}),Se.jsx(Q5,{})]})},t6=[{label:"Data Table",view:"DATA_TABLE"},{label:"Pie Charts",view:"PIE_CHARTS"}],i6={current:"DATA_TABLE"},uD=JC({name:"view",initialState:i6,reducers:{setView(e,t){e.current=t.payload}}}),{setView:s6}=uD.actions,dD=e=>e.view.current,n6=uD.reducer,o6=({onClose:e,n:t})=>{const i=Lc(),s=Oi(dD),n=r=>r.view===s;return Se.jsx("button",{"data-testid":`menu-opt-${t.view}`,onClick:()=>{i(s6(t.view)),e()},className:`w-full text-left  rounded-lg px-3 py-2 text-sm cursor-pointer ${n(t)?"bg-blue-500/80 font-bold text-white":"hover:bg-blue-500/20 font-medium"}`,children:t.label},t.label)},r6=({open:e,onClose:t})=>Se.jsxs(Se.Fragment,{children:[Se.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 md:hidden ${e?"block":"hidden"}`,onClick:t}),Se.jsxs("aside",{"data-testid":"side-bar",className:`fixed z-50 shadow-2xl inset-y-0 left-0 w-64 shrink-0 border-r
           border-blue-500 bg-white p-4 md:sticky md:top-0 md:z-0 md:block
        ${e?"translate-x-0":"-translate-x-full md:translate-x-0"} transition-transform`,children:[Se.jsx("div",{className:"mb-6",children:Se.jsx("div",{className:"text-lg font-bold","data-testid":"disney-admin-text",children:"Disney Admin"})}),Se.jsx("nav",{className:"space-y-1",children:t6.map(i=>Se.jsx(o6,{onClose:()=>t(),n:i}))}),Se.jsxs("div",{className:"mt-6 border-t-4 border-blue-500 pt-4 text-xs text-slate-500",children:["© ",new Date().getFullYear()," Disney Dashboard"]})]})]});var pC={exports:{}},a6=pC.exports,Cx;function l6(){return Cx||(Cx=1,(function(e,t){(function(i,s){i._Highcharts=s(),e.exports=i._Highcharts})(typeof window>"u"?a6:window,()=>(()=>{let i,s;var n,r,c,h,p,v,b,R,F,k,O,V,_,W,U,K,X,Y,de={};de.d=(E,l)=>{for(var u in l)de.o(l,u)&&!de.o(E,u)&&Object.defineProperty(E,u,{enumerable:!0,get:l[u]})},de.o=(E,l)=>Object.prototype.hasOwnProperty.call(E,l);var re={};de.d(re,{default:()=>Rg}),(function(E){E.SVG_NS="http://www.w3.org/2000/svg",E.product="Highcharts",E.version="12.4.0",E.win=typeof window<"u"?window:{},E.doc=E.win.document,E.svg=!!E.doc?.createElementNS?.(E.SVG_NS,"svg")?.createSVGRect,E.pageLang=E.doc?.documentElement?.closest("[lang]")?.lang,E.userAgent=E.win.navigator?.userAgent||"",E.isChrome=E.win.chrome,E.isFirefox=E.userAgent.indexOf("Firefox")!==-1,E.isMS=/(edge|msie|trident)/i.test(E.userAgent)&&!E.win.opera,E.isSafari=!E.isChrome&&E.userAgent.indexOf("Safari")!==-1,E.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(E.userAgent),E.isWebKit=E.userAgent.indexOf("AppleWebKit")!==-1,E.deg2rad=2*Math.PI/360,E.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],E.noop=function(){},E.supportsPassiveEvents=(function(){let l=!1;if(!E.isMS){let u=Object.defineProperty({},"passive",{get:function(){l=!0}});E.win.addEventListener&&E.win.removeEventListener&&(E.win.addEventListener("testPassive",E.noop,u),E.win.removeEventListener("testPassive",E.noop,u))}return l})(),E.charts=[],E.composed=[],E.dateFormats={},E.seriesTypes={},E.symbolSizes={},E.chartCount=0})(n||(n={}));let ie=n,{charts:Fe,doc:Pe,win:me}=ie;function Me(E,l,u,g){let m=l?"Highcharts error":"Highcharts warning";E===32&&(E=`${m}: Deprecated member`);let C=$e(E),w=C?`${m} #${E}: www.highcharts.com/errors/${E}/`:E.toString();if(g!==void 0){let y="";C&&(w+="?"),xt(g,function(S,D){y+=`
 - ${D}: ${S}`,C&&(w+=encodeURI(D)+"="+encodeURI(S))}),w+=y}ys(ie,"displayError",{chart:u,code:E,message:w,params:g},function(){if(l)throw Error(w);me.console&&Me.messages.indexOf(w)===-1&&console.warn(w)}),Me.messages.push(w)}function _e(E,l){return parseInt(E,l||10)}function Je(E){return typeof E=="string"}function Be(E){let l=Object.prototype.toString.call(E);return l==="[object Array]"||l==="[object Array Iterator]"}function ge(E,l){return!!E&&typeof E=="object"&&(!l||!Be(E))}function De(E){return ge(E)&&typeof E.nodeType=="number"}function Ae(E){let l=E?.constructor;return!!(ge(E,!0)&&!De(E)&&l?.name&&l.name!=="Object")}function $e(E){return typeof E=="number"&&!isNaN(E)&&E<1/0&&E>-1/0}function Le(E){return E!=null}function J(E,l,u){let g,m=Je(l)&&!Le(u),C=(w,y)=>{Le(w)?E.setAttribute(y,w):m?(g=E.getAttribute(y))||y!=="class"||(g=E.getAttribute(y+"Name")):E.removeAttribute(y)};return Je(l)?C(u,l):xt(l,C),g}function le(E){return Be(E)?E:[E]}function xe(E,l){let u;for(u in E||(E={}),l)E[u]=l[u];return E}function Oe(){let E=arguments,l=E.length;for(let u=0;u<l;u++){let g=E[u];if(g!=null)return g}}function Ze(E,l){xe(E.style,l)}function it(E){return Math.pow(10,Math.floor(Math.log(E)/Math.LN10))}function mt(E,l){return E>1e14?E:parseFloat(E.toPrecision(l||14))}(Me||(Me={})).messages=[],Math.easeInOutSine=function(E){return-.5*(Math.cos(Math.PI*E)-1)};let oi=Array.prototype.find?function(E,l){return E.find(l)}:function(E,l){let u,g=E.length;for(u=0;u<g;u++)if(l(E[u],u))return E[u]};function xt(E,l,u){for(let g in E)Object.hasOwnProperty.call(E,g)&&l.call(u||E[g],E[g],g,E)}function Tt(E,l,u){function g(w,y){let S=E.removeEventListener;S&&S.call(E,w,y,!1)}function m(w){let y,S;E.nodeName&&(l?(y={})[l]=!0:y=w,xt(y,function(D,P){if(w[P])for(S=w[P].length;S--;)g(P,w[P][S].fn)}))}let C=typeof E=="function"&&E.prototype||E;if(Object.hasOwnProperty.call(C,"hcEvents")){let w=C.hcEvents;if(l){let y=w[l]||[];u?(w[l]=y.filter(function(S){return u!==S.fn}),g(l,u)):(m(w),w[l]=[])}else m(w),delete C.hcEvents}}function ys(E,l,u,g){if(u=u||{},Pe?.createEvent&&(E.dispatchEvent||E.fireEvent&&E!==ie)){let m=Pe.createEvent("Events");m.initEvent(l,!0,!0),u=xe(m,u),E.dispatchEvent?E.dispatchEvent(u):E.fireEvent(l,u)}else if(E.hcEvents){u.target||xe(u,{preventDefault:function(){u.defaultPrevented=!0},target:E,type:l});let m=[],C=E,w=!1;for(;C.hcEvents;)Object.hasOwnProperty.call(C,"hcEvents")&&C.hcEvents[l]&&(m.length&&(w=!0),m.unshift.apply(m,C.hcEvents[l])),C=Object.getPrototypeOf(C);w&&m.sort((y,S)=>y.order-S.order),m.forEach(y=>{y.fn.call(E,u)===!1&&u.preventDefault()})}g&&!u.defaultPrevented&&g.call(E,u)}let Ri=(function(){let E=Math.random().toString(36).substring(2,9)+"-",l=0;return function(){return"highcharts-"+(i?"":E)+l++}})();me.jQuery&&(me.jQuery.fn.highcharts=function(){let E=[].slice.call(arguments);if(this[0])return E[0]?(new ie[Je(E[0])?E.shift():"Chart"](this[0],E[0],E[1]),this):Fe[J(this[0],"data-highcharts-chart")]});let ze={addEvent:function(E,l,u,g={}){let m=typeof E=="function"&&E.prototype||E;Object.hasOwnProperty.call(m,"hcEvents")||(m.hcEvents={});let C=m.hcEvents;ie.Point&&E instanceof ie.Point&&E.series&&E.series.chart&&(E.series.chart.runTrackerClick=!0);let w=E.addEventListener;w&&w.call(E,l,u,!!ie.supportsPassiveEvents&&{passive:g.passive===void 0?l.indexOf("touch")!==-1:g.passive,capture:!1}),C[l]||(C[l]=[]);let y={fn:u,order:typeof g.order=="number"?g.order:1/0};return C[l].push(y),C[l].sort((S,D)=>S.order-D.order),function(){Tt(E,l,u)}},arrayMax:function(E){let l=E.length,u=E[0];for(;l--;)E[l]>u&&(u=E[l]);return u},arrayMin:function(E){let l=E.length,u=E[0];for(;l--;)E[l]<u&&(u=E[l]);return u},attr:J,clamp:function(E,l,u){return E>l?E<u?E:u:l},clearTimeout:function(E){Le(E)&&clearTimeout(E)},correctFloat:mt,createElement:function(E,l,u,g,m){let C=Pe.createElement(E);return l&&xe(C,l),m&&Ze(C,{padding:"0",border:"none",margin:"0"}),u&&Ze(C,u),g&&g.appendChild(C),C},crisp:function(E,l=0,u){let g=l%2/2,m=u?-1:1;return(Math.round(E*m-g)+g)*m},css:Ze,defined:Le,destroyObjectProperties:function(E,l,u){xt(E,function(g,m){g!==l&&g?.destroy&&g.destroy(),(g?.destroy||!u)&&delete E[m]})},diffObjects:function(E,l,u,g){let m={};return(function C(w,y,S,D){let P=u?y:w;xt(w,function(T,A){if(!D&&g&&g.indexOf(A)>-1&&y[A]){T=le(T),S[A]=[];for(let L=0;L<Math.max(T.length,y[A].length);L++)y[A][L]&&(T[L]===void 0?S[A][L]=y[A][L]:(S[A][L]={},C(T[L],y[A][L],S[A][L],D+1)))}else ge(T,!0)&&!T.nodeType?(S[A]=Be(T)?[]:{},C(T,y[A]||{},S[A],D+1),Object.keys(S[A]).length===0&&(A!=="colorAxis"||D!==0)&&delete S[A]):(w[A]!==y[A]||A in w&&!(A in y))&&A!=="__proto__"&&A!=="constructor"&&(S[A]=P[A])})})(E,l,m,0),m},discardElement:function(E){E?.parentElement?.removeChild(E)},erase:function(E,l){let u=E.length;for(;u--;)if(E[u]===l){E.splice(u,1);break}},error:Me,extend:xe,extendClass:function(E,l){let u=function(){};return u.prototype=new E,xe(u.prototype,l),u},find:oi,fireEvent:ys,getAlignFactor:(E="")=>({center:.5,right:1,middle:.5,bottom:1})[E]||0,getClosestDistance:function(E,l){let u,g,m,C=!l;return E.forEach(w=>{if(w.length>1)for(m=w.length-1;m>0;m--)(g=w[m]-w[m-1])<0&&!C?(l?.(),l=void 0):g&&(u===void 0||g<u)&&(u=g)}),u},getMagnitude:it,getNestedProperty:function(E,l){let u=E.split(".");for(;u.length&&Le(l);){let g=u.shift();if(g===void 0||g==="__proto__")return;if(g==="this"){let C;return ge(l)&&(C=l["@this"]),C??l}let m=l[g.replace(/[\\'"]/g,"")];if(!Le(m)||typeof m=="function"||typeof m.nodeType=="number"||m===me)return;l=m}return l},getStyle:function E(l,u,g){let m;if(u==="width"){let w=Math.min(l.offsetWidth,l.scrollWidth),y=l.getBoundingClientRect?.().width;return y<w&&y>=w-1&&(w=Math.floor(y)),Math.max(0,w-(E(l,"padding-left",!0)||0)-(E(l,"padding-right",!0)||0))}if(u==="height")return Math.max(0,Math.min(l.offsetHeight,l.scrollHeight)-(E(l,"padding-top",!0)||0)-(E(l,"padding-bottom",!0)||0));let C=me.getComputedStyle(l,void 0);return C&&(m=C.getPropertyValue(u),Oe(g,u!=="opacity")&&(m=_e(m))),m},insertItem:function(E,l){let u,g=E.options.index,m=l.length;for(u=E.options.isInternal?m:0;u<m+1;u++)if(!l[u]||$e(g)&&g<Oe(l[u].options.index,l[u]._i)||l[u].options.isInternal){l.splice(u,0,E);break}return u},isArray:Be,isClass:Ae,isDOMElement:De,isFunction:function(E){return typeof E=="function"},isNumber:$e,isObject:ge,isString:Je,merge:function(E,...l){let u,g=[E,...l],m={},C=function(y,S){return typeof y!="object"&&(y={}),xt(S,function(D,P){P!=="__proto__"&&P!=="constructor"&&(!ge(D,!0)||Ae(D)||De(D)?y[P]=S[P]:y[P]=C(y[P]||{},D))}),y};E===!0&&(m=g[1],g=Array.prototype.slice.call(g,2));let w=g.length;for(u=0;u<w;u++)m=C(m,g[u]);return m},normalizeTickInterval:function(E,l,u,g,m){let C,w=E;u=Oe(u,it(E));let y=E/u;for(!l&&(l=m?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],g===!1&&(u===1?l=l.filter(function(S){return S%1==0}):u<=.1&&(l=[1/u]))),C=0;C<l.length&&(w=l[C],(!m||!(w*u>=E))&&(m||!(y<=(l[C]+(l[C+1]||l[C]))/2)));C++);return mt(w*u,-Math.round(Math.log(.001)/Math.LN10))},objectEach:xt,offset:function(E){let l=Pe.documentElement,u=E.parentElement||E.parentNode?E.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:u.top+(me.pageYOffset||l.scrollTop)-(l.clientTop||0),left:u.left+(me.pageXOffset||l.scrollLeft)-(l.clientLeft||0),width:u.width,height:u.height}},pad:function(E,l,u){return Array((l||2)+1-String(E).replace("-","").length).join(u||"0")+E},pick:Oe,pInt:_e,pushUnique:function(E,l){return 0>E.indexOf(l)&&!!E.push(l)},relativeLength:function(E,l,u){return/%$/.test(E)?l*parseFloat(E)/100+(u||0):parseFloat(E)},removeEvent:Tt,replaceNested:function(E,...l){let u,g;do for(g of(u=E,l))E=E.replace(g[0],g[1]);while(E!==u);return E},splat:le,stableSort:function(E,l){let u,g,m=E.length;for(g=0;g<m;g++)E[g].safeI=g;for(E.sort(function(C,w){return(u=l(C,w))===0?C.safeI-w.safeI:u}),g=0;g<m;g++)delete E[g].safeI},syncTimeout:function(E,l,u){return l>0?setTimeout(E,l,u):(E.call(0,u),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(E){return Je(E)?E.substring(0,1).toUpperCase()+E.substring(1):String(E)},uniqueKey:Ri,useSerialIds:function(E){return i=Oe(E,i)},wrap:function(E,l,u){let g=E[l];E[l]=function(){let m=arguments,C=this;return u.apply(this,[function(){return g.apply(C,arguments.length?arguments:m)}].concat([].slice.call(arguments)))}}},{pageLang:Ii,win:st}=ie,{defined:Et,error:yi,extend:pi,isNumber:ct,isObject:At,isString:kt,merge:Js,objectEach:Hi,pad:Mt,splat:Bc,timeUnits:na,ucfirst:dl}=ze,Bt=ie.isSafari&&st.Intl&&!st.Intl.DateTimeFormat.prototype.formatRange,Zi=E=>E.main===void 0,Vc=class{constructor(E,l){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=st.Date,this.update(E),this.lang=l}update(E={}){this.dTLCache={},this.options=E=Js(!0,this.options,E);let{timezoneOffset:l,useUTC:u,locale:g}=E;this.Date=E.Date||st.Date||Date;let m=E.timezone;Et(u)&&(m=u?"UTC":void 0),l&&l%60==0&&(m="Etc/GMT"+(l>0?"+":"")+l/60),this.variableTimezone=m!=="UTC"&&m?.indexOf("Etc/GMT")!==0,this.timezone=m,this.lang&&g&&(this.lang.locale=g),["months","shortMonths","weekdays","shortWeekdays"].forEach(C=>{let w=/months/i.test(C),y=/short/.test(C),S={timeZone:"UTC"};S[w?"month":"weekday"]=y?"short":"long",this[C]=(w?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(D=>this.dateFormat(S,(w?31:1)*24*36e5*D))})}toParts(E){let[l,u,g,m,C,w,y]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},E,"es").split(/(?:, | |\/|:)/g);return[m,g-1,u,C,w,y,Math.floor(Number(E)||0)%1e3,"DLMXJVS".indexOf(l)].map(Number)}dateTimeFormat(E,l,u=this.options.locale||Ii){let g=JSON.stringify(E)+u;kt(E)&&(E=this.str2dtf(E));let m=this.dTLCache[g];if(!m){E.timeZone??(E.timeZone=this.timezone);try{m=new Intl.DateTimeFormat(u,E)}catch(C){/Invalid time zone/i.test(C.message)?(yi(34),E.timeZone="UTC",m=new Intl.DateTimeFormat(u,E)):yi(C.message,!1)}}return this.dTLCache[g]=m,m?.format(l)||""}str2dtf(E,l={}){let u={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(u).forEach(g=>{E.indexOf(g)!==-1&&pi(l,u[g])}),l}makeTime(E,l,u=1,g=0,m,C,w){let y=this.Date.UTC(E,l,u,g,m||0,C||0,w||0);if(this.timezone!=="UTC"){let S=this.getTimezoneOffset(y);if(y+=S,[2,3,8,9,10,11].indexOf(l)!==-1&&(g<5||g>20)){let D=this.getTimezoneOffset(y);S!==D?y+=D-S:S-36e5!==this.getTimezoneOffset(y-36e5)||Bt||(y-=36e5)}}return y}parse(E){if(!kt(E))return E??void 0;let l=(E=E.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(E),u=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(E);l||u||(E+="Z");let g=Date.parse(E);if(ct(g))return g+(!l||u?this.getTimezoneOffset(g):0)}getTimezoneOffset(E){if(this.timezone!=="UTC"){let[l,u,g,m,C=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},E,"en").split(/(GMT|:)/).map(Number),w=-(60*(g+C/60)*6e4);if(ct(w))return w}return 0}dateFormat(E,l,u){let g=this.lang;if(!Et(l)||isNaN(l))return g?.invalidDate||"";if(kt(E=E??"%Y-%m-%d %H:%M:%S")){let m,C=/%\[([a-zA-Z]+)\]/g;for(;m=C.exec(E);)E=E.replace(m[0],this.dateTimeFormat(m[1],l,g?.locale))}if(kt(E)&&E.indexOf("%")!==-1){let m=this,[C,w,y,S,D,P,T,A]=this.toParts(l),L=g?.weekdays||this.weekdays,I=g?.shortWeekdays||this.shortWeekdays,z=g?.months||this.months,B=g?.shortMonths||this.shortMonths;Hi(pi({a:I?I[A]:L[A].substr(0,3),A:L[A],d:Mt(y),e:Mt(y,2," "),w:A,v:g?.weekFrom??"",b:B[w],B:z[w],m:Mt(w+1),o:w+1,y:C.toString().substr(2,2),Y:C,H:Mt(S),k:S,I:Mt(S%12||12),l:S%12||12,M:Mt(D),p:S<12?"AM":"PM",P:S<12?"am":"pm",S:Mt(P),L:Mt(T,3)},ie.dateFormats),function(N,$){if(kt(E))for(;E.indexOf("%"+$)!==-1;)E=E.replace("%"+$,typeof N=="function"?N.call(m,l):N)})}else if(At(E)){let m=(this.getTimezoneOffset(l)||0)/36e5,C=this.timezone||"Etc/GMT"+(m>=0?"+":"")+m,{prefix:w="",suffix:y=""}=E;E=w+this.dateTimeFormat(pi({timeZone:C},E),l)+y}return u?dl(E):E}resolveDTLFormat(E){return At(E,!0)?At(E,!0)&&Zi(E)?{main:E}:E:{main:(E=Bc(E))[0],from:E[1],to:E[2]}}getDateFormat(E,l,u,g){let m=this.dateFormat("%m-%d %H:%M:%S.%L",l),C="01-01 00:00:00.000",w={millisecond:15,second:12,minute:9,hour:6,day:3},y="millisecond",S=y;for(y in na){if(E&&E===na.week&&+this.dateFormat("%w",l)===u&&m.substr(6)===C.substr(6)){y="week";break}if(E&&na[y]>E){y=S;break}if(w[y]&&m.substr(w[y])!==C.substr(w[y]))break;y!=="week"&&(S=y)}return this.resolveDTLFormat(g[y]).main}},{defined:Fp,extend:hv,timeUnits:Yt}=ze,Qi=class extends Vc{getTimeTicks(E,l,u,g){let m=this,C=[],w={},{count:y=1,unitRange:S}=E,[D,P,T,A,L,I]=m.toParts(l),z=(l||0)%1e3,B;if(g??(g=1),Fp(l)){if(z=S>=Yt.second?0:y*Math.floor(z/y),S>=Yt.second&&(I=S>=Yt.minute?0:y*Math.floor(I/y)),S>=Yt.minute&&(L=S>=Yt.hour?0:y*Math.floor(L/y)),S>=Yt.hour&&(A=S>=Yt.day?0:y*Math.floor(A/y)),S>=Yt.day&&(T=S>=Yt.month?1:Math.max(1,y*Math.floor(T/y))),S>=Yt.month&&(P=S>=Yt.year?0:y*Math.floor(P/y)),S>=Yt.year&&(D-=D%y),S===Yt.week){y&&(l=m.makeTime(D,P,T,A,L,I,z));let q=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},l,"es"),Z="DLMXJVS".indexOf(q);T+=-Z+g+(Z<g?-7:0)}l=m.makeTime(D,P,T,A,L,I,z),m.variableTimezone&&Fp(u)&&(B=u-l>4*Yt.month||m.getTimezoneOffset(l)!==m.getTimezoneOffset(u));let N=l,$=1;for(;N<u;)C.push(N),S===Yt.year?N=m.makeTime(D+$*y,0):S===Yt.month?N=m.makeTime(D,P+$*y):B&&(S===Yt.day||S===Yt.week)?N=m.makeTime(D,P,T+$*y*(S===Yt.day?1:7)):B&&S===Yt.hour&&y>1?N=m.makeTime(D,P,T,A+$*y):N+=S*y,$++;C.push(N),S<=Yt.hour&&C.length<1e4&&C.forEach(q=>{q%18e5==0&&m.dateFormat("%H%M%S%L",q)==="000000000"&&(w[q]="day")})}return C.info=hv(E,{higherRanks:w,totalRange:S*y}),C}},{isTouchDevice:vo}=ie,{fireEvent:bs,merge:gv}=ze,Wn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:E=>Math.sqrt(1-Math.pow(E-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:vo?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Ud=new Qi(Wn.time,Wn.lang),Ji={defaultOptions:Wn,defaultTime:Ud,getOptions:function(){return Wn},setOptions:function(E){return bs(ie,"setOptions",{options:E}),gv(!0,Wn,E),E.time&&Ud.update(Wn.time),E.lang&&"locale"in E.lang&&Ud.update({locale:E.lang.locale}),E.lang?.chartTitle&&(Wn.title={...Wn.title,text:E.lang.chartTitle}),Wn}},{win:zc}=ie,{isNumber:wo,isString:lr,merge:_c,pInt:Ei,defined:Pp}=ze,jd=(E,l,u)=>`color-mix(in srgb,${E},${l} ${100*u}%)`,hl=E=>lr(E)&&!!E&&E!=="none";class Vt{static parse(l){return l?new Vt(l):Vt.None}constructor(l){let u,g,m,C;this.rgba=[NaN,NaN,NaN,NaN],this.input=l;let w=ie.Color;if(w&&w!==Vt)return new w(l);if(typeof l=="object"&&l.stops!==void 0)this.stops=l.stops.map(y=>new Vt(y[1]));else if(typeof l=="string")for(this.input=l=Vt.names[l.toLowerCase()]||l,m=Vt.parsers.length;m--&&!g;)(u=(C=Vt.parsers[m]).regex.exec(l))&&(g=C.parse(u));g&&(this.rgba=g)}get(l){let u=this.input,g=this.rgba;if(this.output)return this.output;if(typeof u=="object"&&this.stops!==void 0){let m=_c(u);return m.stops=[].slice.call(m.stops),this.stops.forEach((C,w)=>{m.stops[w]=[m.stops[w][0],C.get(l)]}),m}return g&&wo(g[0])?l!=="rgb"&&(l||g[3]!==1)?l==="a"?`${g[3]}`:"rgba("+g.join(",")+")":"rgb("+g[0]+","+g[1]+","+g[2]+")":u}brighten(l){let u=this.rgba;if(this.stops)this.stops.forEach(function(g){g.brighten(l)});else if(wo(l)&&l!==0)if(wo(u[0]))for(let g=0;g<3;g++)u[g]+=Ei(255*l),u[g]<0&&(u[g]=0),u[g]>255&&(u[g]=255);else Vt.useColorMix&&hl(this.input)&&(this.output=jd(this.input,l>0?"white":"black",Math.abs(l)));return this}setOpacity(l){return this.rgba[3]=l,this}tweenTo(l,u){let g=this.rgba,m=l.rgba;if(!wo(g[0])||!wo(m[0]))return Vt.useColorMix&&hl(this.input)&&hl(l.input)&&u<.99?jd(this.input,l.input,u):l.input||"none";let C=m[3]!==1||g[3]!==1,w=(S,D)=>S+(g[D]-S)*(1-u),y=m.slice(0,3).map(w).map(Math.round);return C&&y.push(w(m[3],3)),(C?"rgba(":"rgb(")+y.join(",")+")"}}Vt.names={white:"#ffffff",black:"#000000"},Vt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(E){return[Ei(E[1]),Ei(E[2]),Ei(E[3]),parseFloat(E[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(E){return[Ei(E[1]),Ei(E[2]),Ei(E[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(E){return[Ei(E[1]+E[1],16),Ei(E[2]+E[2],16),Ei(E[3]+E[3],16),Pp(E[4])?Ei(E[4]+E[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(E){return[Ei(E[1],16),Ei(E[2],16),Ei(E[3],16),Pp(E[4])?Ei(E[4],16)/255:1]}}],Vt.useColorMix=zc.CSS?.supports("color","color-mix(in srgb,red,blue 9%)"),Vt.None=new Vt("");let{parse:Ap}=Vt,{win:kp}=ie,{isNumber:Wc,objectEach:Lp}=ze;class Ni{constructor(l,u,g){this.pos=NaN,this.options=u,this.elem=l,this.prop=g}dSetter(){let l=this.paths,u=l?.[0],g=l?.[1],m=this.now||0,C=[];if(m!==1&&u&&g)if(u.length===g.length&&m<1)for(let w=0;w<g.length;w++){let y=u[w],S=g[w],D=[];for(let P=0;P<S.length;P++){let T=y[P],A=S[P];Wc(T)&&Wc(A)&&(S[0]!=="A"||P!==4&&P!==5)?D[P]=T+m*(A-T):D[P]=A}C.push(D)}else C=g;else C=this.toD||[];this.elem.attr("d",C,void 0,!0)}update(){let l=this.elem,u=this.prop,g=this.now,m=this.options.step;this[u+"Setter"]?this[u+"Setter"]():l.attr?l.element&&l.attr(u,g,null,!0):l.style[u]=g+this.unit,m&&m.call(l,g,this)}run(l,u,g){let m=this,C=m.options,w=function(D){return!w.stopped&&m.step(D)},y=kp.requestAnimationFrame||function(D){setTimeout(D,13)},S=function(){for(let D=0;D<Ni.timers.length;D++)Ni.timers[D]()||Ni.timers.splice(D--,1);Ni.timers.length&&y(S)};l!==u||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=l,this.end=u,this.unit=g,this.now=this.start,this.pos=0,w.elem=this.elem,w.prop=this.prop,w()&&Ni.timers.push(w)===1&&y(S)):(delete C.curAnim[this.prop],C.complete&&Object.keys(C.curAnim).length===0&&C.complete.call(this.elem))}step(l){let u,g,m=+new Date,C=this.options,w=this.elem,y=C.complete,S=C.duration,D=C.curAnim;return w.attr&&!w.element?u=!1:l||m>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),D[this.prop]=!0,g=!0,Lp(D,function(P){P!==!0&&(g=!1)}),g&&y&&y.call(w),u=!1):(this.pos=C.easing((m-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),u=!0),u}initPath(l,u,g){let m=l.startX,C=l.endX,w=g.slice(),y=l.isArea,S=y?2:1,D=u&&g.length>u.length&&g.hasStackedCliffs,P,T,A,L,I=u?.slice();if(!I||D)return[w,w];function z(N,$){for(;N.length<T;){let q=N[0],Z=$[T-N.length];if(Z&&q[0]==="M"&&(Z[0]==="C"?N[0]=["C",q[1],q[2],q[1],q[2],q[1],q[2]]:N[0]=["L",q[1],q[2]]),N.unshift(q),y){let te=N.pop();N.push(N[N.length-1],te)}}}function B(N){for(;N.length<T;){let $=N[Math.floor(N.length/S)-1].slice();if($[0]==="C"&&($[1]=$[5],$[2]=$[6]),y){let q=N[Math.floor(N.length/S)].slice();N.splice(N.length/2,0,$,q)}else N.push($)}}if(m&&C&&C.length){for(A=0;A<m.length;A++)if(m[A]===C[0]){P=A;break}else if(m[0]===C[C.length-m.length+A]){P=A,L=!0;break}else if(m[m.length-1]===C[C.length-m.length+A]){P=m.length-A;break}P===void 0&&(I=[])}return I.length&&Wc(P)&&(T=w.length+P*S,L?(z(I,w),B(w)):(z(w,I),B(I))),[I,w]}fillSetter(){Ni.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Ap(this.start).tweenTo(Ap(this.end),this.pos),void 0,!0)}}Ni.timers=[];let{defined:$d,getStyle:Op,isArray:Ip,isNumber:yo,isObject:Mi,merge:es,objectEach:oa,pick:Kd}=ze;function qd(E){return Mi(E)?es({duration:500,defer:0},E):{duration:500*!!E,defer:0}}function Hp(E,l){let u=Ni.timers.length;for(;u--;)Ni.timers[u].elem!==E||l&&l!==Ni.timers[u].prop||(Ni.timers[u].stopped=!0)}let Pi={animate:function(E,l,u){let g,m="",C,w,y;Mi(u)||(y=arguments,u={duration:y[2],easing:y[3],complete:y[4]}),yo(u.duration)||(u.duration=400),u.easing=typeof u.easing=="function"?u.easing:Math[u.easing]||Math.easeInOutSine,u.curAnim=es(l),oa(l,function(S,D){Hp(E,D),w=new Ni(E,u,D),C=void 0,D==="d"&&Ip(l.d)?(w.paths=w.initPath(E,E.pathArray,l.d),w.toD=l.d,g=0,C=1):E.attr?g=E.attr(D):(g=parseFloat(Op(E,D))||0,D!=="opacity"&&(m="px")),C||(C=S),typeof C=="string"&&C.match("px")&&(C=C.replace(/px/g,"")),w.run(g,C,m)})},animObject:qd,getDeferredAnimation:function(E,l,u){let g=qd(l),m=u?[u]:E.series,C=0,w=0;return m.forEach(y=>{let S=qd(y.options.animation);C=Mi(l)&&$d(l.defer)?g.defer:Math.max(C,S.duration+S.defer),w=Math.min(g.duration,S.duration)}),E.renderer.forExport&&(C=0),{defer:Math.max(0,C-w),duration:Math.min(C,w)}},setAnimation:function(E,l){l.renderer.globalAnimation=Kd(E,l.options.chart.animation,!0)},stop:Hp},{SVG_NS:ra,win:Yd}=ie,{attr:aa,createElement:la,css:gl,error:cr,isFunction:Ai,isString:Xd,objectEach:Zd,splat:ur}=ze,{trustedTypes:bo}=Yd,Uc=bo&&Ai(bo.createPolicy)&&bo.createPolicy("highcharts",{createHTML:E=>E}),Np=Uc?Uc.createHTML(""):"";class $t{static filterUserAttributes(l){return Zd(l,(u,g)=>{let m=!0;$t.allowedAttributes.indexOf(g)===-1&&(m=!1),["background","dynsrc","href","lowsrc","src"].indexOf(g)!==-1&&(m=Xd(u)&&$t.allowedReferences.some(C=>u.indexOf(C)===0)),m||(cr(33,!1,void 0,{"Invalid attribute in config":`${g}`}),delete l[g]),Xd(u)&&l[g]&&(l[g]=u.replace(/</g,"&lt;"))}),l}static parseStyle(l){return l.split(";").reduce((u,g)=>{let m=g.split(":").map(w=>w.trim()),C=m.shift();return C&&m.length&&(u[C.replace(/-([a-z])/g,w=>w[1].toUpperCase())]=m.join(":")),u},{})}static setElementHTML(l,u){l.innerHTML=$t.emptyHTML,u&&new $t(u).addToDOM(l)}constructor(l){this.nodes=typeof l=="string"?this.parseMarkup(l):l}addToDOM(l){return(function u(g,m){let C;return ur(g).forEach(function(w){let y,S=w.tagName,D=w.textContent?ie.doc.createTextNode(w.textContent):void 0,P=$t.bypassHTMLFiltering;if(S)if(S==="#text")y=D;else if($t.allowedTags.indexOf(S)!==-1||P){let T=S==="svg"?ra:m.namespaceURI||ra,A=ie.doc.createElementNS(T,S),L=w.attributes||{};Zd(w,function(I,z){z!=="tagName"&&z!=="attributes"&&z!=="children"&&z!=="style"&&z!=="textContent"&&(L[z]=I)}),aa(A,P?L:$t.filterUserAttributes(L)),w.style&&gl(A,w.style),D&&A.appendChild(D),u(w.children||[],A),y=A}else cr(33,!1,void 0,{"Invalid tagName in config":S});y&&m.appendChild(y),C=y}),C})(this.nodes,l)}parseMarkup(l){let u,g=[];l=l.trim().replace(/ style=(["'])/g," data-style=$1");try{u=new DOMParser().parseFromString(Uc?Uc.createHTML(l):l,"text/html")}catch{}if(!u){let C=la("div");C.innerHTML=l,u={body:C}}let m=(C,w)=>{let y=C.nodeName.toLowerCase(),S={tagName:y};y==="#text"&&(S.textContent=C.textContent||"");let D=C.attributes;if(D){let P={};[].forEach.call(D,T=>{T.name==="data-style"?S.style=$t.parseStyle(T.value):P[T.name]=T.value}),S.attributes=P}if(C.childNodes.length){let P=[];[].forEach.call(C.childNodes,T=>{m(T,P)}),P.length&&(S.children=P)}w.push(S)};return[].forEach.call(u.body.childNodes,C=>m(C,g)),g}}$t.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],$t.allowedReferences=["https://","http://","mailto:","/","../","./","#"],$t.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],$t.emptyHTML=Np,$t.bypassHTMLFiltering=!1;let{defaultOptions:Gp,defaultTime:pl}=Ji,{pageLang:jc}=ie,{extend:Un,getNestedProperty:Ls,isArray:Bp,isNumber:Vp,isObject:Qd,isString:zp,pick:$c,ucfirst:pv}=ze,ts={add:(E,l)=>E+l,divide:(E,l)=>l!==0?E/l:"",eq:(E,l)=>E==l,each:function(E){let l=arguments[arguments.length-1];return!!Bp(E)&&E.map((u,g)=>ca(l.body,Un(Qd(u)?u:{"@this":u},{"@index":g,"@first":g===0,"@last":g===E.length-1}))).join("")},ge:(E,l)=>E>=l,gt:(E,l)=>E>l,if:E=>!!E,le:(E,l)=>E<=l,lt:(E,l)=>E<l,multiply:(E,l)=>E*l,ne:(E,l)=>E!=l,subtract:(E,l)=>E-l,ucfirst:pv,unless:E=>!E},Kc={},Jd=E=>/^["'].+["']$/.test(E);function ca(E="",l,u){let g=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/g,m=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,C=[],w=/f$/,y=/\.(\d)/,S=u?.options?.lang||Gp.lang,D=u?.time||pl,P=u?.numberFormatter||dr.bind(u),T=(B="")=>{let N;return B==="true"||B!=="false"&&((N=Number(B)).toString()===B?N:Jd(B)?B.slice(1,-1):Ls(B,l))},A,L,I=0,z;for(;(A=g.exec(E))!==null;){let B=A,N=m.exec(A[1]);N&&(A=N,z=!0),L?.isBlock||(L={ctx:l,expression:A[1],find:A[0],isBlock:A[1].charAt(0)==="#",start:A.index,startInner:A.index+A[0].length,length:A[0].length});let $=(L.isBlock?B:A)[1].split(" ")[0].replace("#","");ts[$]&&(L.isBlock&&$===L.fn&&I++,L.fn||(L.fn=$));let q=A[1]==="else";if(L.isBlock&&L.fn&&(A[1]===`/${L.fn}`||q))if(I)!q&&I--;else{let Z=L.startInner,te=E.substr(Z,A.index-Z);L.body===void 0?(L.body=te,L.startInner=A.index+A[0].length):L.elseBody=te,L.find+=te+A[0],q||(C.push(L),L=void 0)}else L.isBlock||C.push(L);if(N&&!L?.isBlock)break}return C.forEach(B=>{let N,$,{body:q,elseBody:Z,expression:te,fn:se}=B;if(se){let ne=[B],Q=[],Ce=te.length,we=0,ve;for($=0;$<=Ce;$++){let Ge=te.charAt($);ve||Ge!=='"'&&Ge!=="'"?ve===Ge&&(ve=""):ve=Ge,ve||Ge!==" "&&$!==Ce||(Q.push(te.substr(we,$-we)),we=$+1)}for($=ts[se].length;$--;)ne.unshift(T(Q[$+1]));N=ts[se].apply(l,ne),B.isBlock&&typeof N=="boolean"&&(N=ca(N?q:Z,l,u))}else{let ne=Jd(te)?[te]:te.split(":"),Q=(N=T(ne.shift()||""))%1!=0;if(typeof N=="number"&&(ne.length||Q)){let Ce=ne.join(":");if(w.test(Ce)||Q){let we=parseInt((Ce.match(y)||["","-1"])[1],10);N!==null&&(N=P(N,we,S.decimalPoint,Ce.indexOf(",")>-1?S.thousandsSep:""))}else N=D.dateFormat(Ce,N)}m.lastIndex=0,m.test(B.find)&&zp(N)&&(N=`"${N}"`)}E=E.replace(B.find,$c(N,""))}),z?ca(E,l,u):E}function dr(E,l,u,g){l*=1;let m,C,[w,y]=(E=+E||0).toString().split("e").map(Number),S=this?.options?.lang||Gp.lang,D=(E.toString().split(".")[1]||"").split("e")[0].length,P=l,T={};u??(u=S.decimalPoint),g??(g=S.thousandsSep),l===-1?l=Math.min(D,20):Vp(l)?l&&y<0&&((C=l+y)>=0?(w=+w.toExponential(C).split("e")[0],l=C):(w=Math.floor(w),E=l<20?+(w*Math.pow(10,y)).toFixed(l):0,y=0)):l=2,y&&(l??(l=2),E=w),Vp(l)&&l>=0&&(T.minimumFractionDigits=l,T.maximumFractionDigits=l),g===""&&(T.useGrouping=!1);let A=g||u,L=A?"en":this?.locale||S.locale||jc,I=JSON.stringify(T)+L;return m=(Kc[I]??(Kc[I]=new Intl.NumberFormat(L,T))).format(E),A&&(m=m.replace(/([,\.])/g,"_$1").replace(/_\,/g,g??",").replace("_.",u??".")),(l||+m!=0)&&(!(y<0)||P)||(m="0"),y&&+m!=0&&(m+="e"+(y<0?"":"+")+y),m}let Ss={dateFormat:function(E,l,u){return pl.dateFormat(E,l,u)},format:ca,helpers:ts,numberFormat:dr};(function(E){let l;E.rendererTypes={},E.getRendererType=function(u=l){return E.rendererTypes[u]||E.rendererTypes[l]},E.registerRendererType=function(u,g,m){E.rendererTypes[u]=g,(!l||m)&&(l=u,ie.Renderer=g)}})(r||(r={}));let ua=r,{clamp:da,pick:fv,pushUnique:_p,stableSort:qc}=ze;(c||(c={})).distribute=function E(l,u,g){let m=l,C=m.reducedLen||u,w=(q,Z)=>q.target-Z.target,y=[],S=l.length,D=[],P=y.push,T,A,L,I=!0,z,B,N=0,$;for(T=S;T--;)N+=l[T].size;if(N>C){for(qc(l,(q,Z)=>(Z.rank||0)-(q.rank||0)),L=($=l[0].rank===l[l.length-1].rank)?S/2:-1,A=$?L:S-1;L&&N>C;)z=l[T=Math.floor(A)],_p(D,T)&&(N-=z.size),A+=L,$&&A>=l.length&&(L/=2,A=L);D.sort((q,Z)=>Z-q).forEach(q=>P.apply(y,l.splice(q,1)))}for(qc(l,w),l=l.map(q=>({size:q.size,targets:[q.target],align:fv(q.align,.5)}));I;){for(T=l.length;T--;)z=l[T],B=(Math.min.apply(0,z.targets)+Math.max.apply(0,z.targets))/2,z.pos=da(B-z.size*z.align,0,u-z.size);for(T=l.length,I=!1;T--;)T>0&&l[T-1].pos+l[T-1].size>l[T].pos&&(l[T-1].size+=l[T].size,l[T-1].targets=l[T-1].targets.concat(l[T].targets),l[T-1].align=.5,l[T-1].pos+l[T-1].size>u&&(l[T-1].pos=u-l[T-1].size),l.splice(T,1),I=!0)}return P.apply(m,y),T=0,l.some(q=>{let Z=0;return(q.targets||[]).some(()=>(m[T].pos=q.pos+Z,g!==void 0&&Math.abs(m[T].pos-m[T].target)>g?(m.slice(0,T+1).forEach(te=>delete te.pos),m.reducedLen=(m.reducedLen||u)-.1*u,m.reducedLen>.1*u&&E(m,u,g),!0):(Z+=m[T].size,T++,!1)))}),qc(m,w),m};let ha=c,{animate:mv,animObject:Cv,stop:fl}=Pi,{deg2rad:fn,doc:So,svg:eh,SVG_NS:jn,win:ga,isFirefox:Wp}=ie,{addEvent:th,attr:Yc,createElement:ml,crisp:Os,css:Xc,defined:us,erase:xo,extend:hr,fireEvent:pa,getAlignFactor:Zc,isArray:Cl,isFunction:vl,isNumber:Up,isObject:ds,isString:Ro,merge:fa,objectEach:mn,pick:$n,pInt:ma,pushUnique:ih,replaceNested:wl,syncTimeout:Qc,uniqueKey:sh}=ze;class Di{_defaultGetter(l){let u=$n(this[l+"Value"],this[l],this.element?this.element.getAttribute(l):null,0);return/^-?[\d\.]+$/.test(u)&&(u=parseFloat(u)),u}_defaultSetter(l,u,g){g.setAttribute(u,l)}add(l){let u,g=this.renderer,m=this.element;return l&&(this.parentGroup=l),this.textStr!==void 0&&this.element.nodeName==="text"&&g.buildText(this),this.added=!0,(!l||l.handleZ||this.zIndex)&&(u=this.zIndexSetter()),u||(l?l.element:g.box).appendChild(m),this.onAdd&&this.onAdd(),this}addClass(l,u){let g=u?"":this.attr("class")||"";return(l=(l||"").split(/ /g).reduce(function(m,C){return g.indexOf(C)===-1&&m.push(C),m},g?[g]:[]).join(" "))!==g&&this.attr("class",l),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(l,u,g,m=!0){let C=this.renderer,w=C.alignedObjects,y=!!l;l?(this.alignOptions=l,this.alignByTranslate=u,this.alignTo=g):(l=this.alignOptions||{},u=this.alignByTranslate,g=this.alignTo);let S=!g||Ro(g)?g||"renderer":void 0;S&&(y&&ih(w,this),g=void 0);let D=$n(g,C[S],C),P=(D.x||0)+(l.x||0)+((D.width||0)-(l.width||0))*Zc(l.align),T=(D.y||0)+(l.y||0)+((D.height||0)-(l.height||0))*Zc(l.verticalAlign),A={"text-align":l?.align};return A[u?"translateX":"x"]=Math.round(P),A[u?"translateY":"y"]=Math.round(T),m&&(this[this.placed?"animate":"attr"](A),this.placed=!0),this.alignAttr=A,this}alignSetter(l){let u={left:"start",center:"middle",right:"end"};u[l]&&(this.alignValue=l,this.element.setAttribute("text-anchor",u[l]))}animate(l,u,g){let m=Cv($n(u,this.renderer.globalAnimation,!0)),C=m.defer;return So.hidden&&(m.duration=0),m.duration!==0?(g&&(m.complete=g),Qc(()=>{this.element&&mv(this,l,m)},C)):(this.attr(l,void 0,g||m.complete),mn(l,function(w,y){m.step&&m.step.call(this,w,{prop:y,pos:1,elem:this})},this)),this}applyTextOutline(l){let u=this.element;l.indexOf("contrast")!==-1&&(l=l.replace(/contrast/g,this.renderer.getContrast(u.style.fill)));let g=l.indexOf(" "),m=l.substring(g+1),C=l.substring(0,g);if(C&&C!=="none"&&ie.svg){this.fakeTS=!0,C=C.replace(/(^[\d\.]+)(.*?)$/g,function(P,T,A){return 2*Number(T)+A}),this.removeTextOutline();let w=So.createElementNS(jn,"tspan");Yc(w,{class:"highcharts-text-outline",fill:m,stroke:m,"stroke-width":C,"stroke-linejoin":"round"});let y=u.querySelector("textPath")||u;[].forEach.call(y.childNodes,P=>{let T=P.cloneNode(!0);T.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(A=>T.removeAttribute(A)),w.appendChild(T)});let S=0;[].forEach.call(y.querySelectorAll("text tspan"),P=>{S+=Number(P.getAttribute("dy"))});let D=So.createElementNS(jn,"tspan");D.textContent="​",Yc(D,{x:Number(u.getAttribute("x")),dy:-S}),w.appendChild(D),y.insertBefore(w,y.firstChild)}}attr(l,u,g,m){let{element:C}=this,w=Di.symbolCustomAttribs,y,S,D=this,P;return typeof l=="string"&&u!==void 0&&(y=l,(l={})[y]=u),typeof l=="string"?D=(this[l+"Getter"]||this._defaultGetter).call(this,l,C):(mn(l,function(T,A){P=!1,m||fl(this,A),this.symbolName&&w.indexOf(A)!==-1&&(S||(this.symbolAttr(l),S=!0),P=!0),this.rotation&&(A==="x"||A==="y")&&(this.doTransform=!0),P||(this[A+"Setter"]||this._defaultSetter).call(this,T,A,C)},this),this.afterSetters()),g&&g.call(this),D}clip(l){if(l&&!l.clipPath){let u=sh()+"-",g=this.renderer.createElement("clipPath").attr({id:u}).add(this.renderer.defs);hr(l,{clipPath:g,id:u,count:0}),l.add(g)}return this.attr("clip-path",l?`url(${this.renderer.url}#${l.id})`:"none")}crisp(l,u){u=Math.round(u||l.strokeWidth||0);let g=l.x||this.x||0,m=l.y||this.y||0,C=(l.width||this.width||0)+g,w=(l.height||this.height||0)+m,y=Os(g,u),S=Os(m,u);return hr(l,{x:y,y:S,width:Os(C,u)-y,height:Os(w,u)-S}),us(l.strokeWidth)&&(l.strokeWidth=u),l}complexColor(l,u,g){let m=this.renderer,C,w,y,S,D,P,T,A,L,I,z=[],B;pa(this.renderer,"complexColor",{args:arguments},function(){if(l.radialGradient?w="radialGradient":l.linearGradient&&(w="linearGradient"),w){if(y=l[w],D=m.gradients,P=l.stops,L=g.radialReference,Cl(y)&&(l[w]=y={x1:y[0],y1:y[1],x2:y[2],y2:y[3],gradientUnits:"userSpaceOnUse"}),w==="radialGradient"&&L&&!us(y.gradientUnits)&&(S=y,y=fa(y,m.getRadialAttr(L,S),{gradientUnits:"userSpaceOnUse"})),mn(y,function(N,$){$!=="id"&&z.push($,N)}),mn(P,function(N){z.push(N)}),D[z=z.join(",")])I=D[z].attr("id");else{y.id=I=sh();let N=D[z]=m.createElement(w).attr(y).add(m.defs);N.radAttr=S,N.stops=[],P.forEach(function($){$[1].indexOf("rgba")===0?(T=(C=Vt.parse($[1])).get("rgb"),A=C.get("a")):(T=$[1],A=1);let q=m.createElement("stop").attr({offset:$[0],"stop-color":T,"stop-opacity":A}).add(N);N.stops.push(q)})}B="url("+m.url+"#"+I+")",g.setAttribute(u,B),g.gradient=z,l.toString=function(){return B}}})}css(l){let u=this.styles,g={},m=this.element,C,w=!u;if(u&&mn(l,function(y,S){u&&u[S]!==y&&(g[S]=y,w=!0)}),w){u&&(l=hr(u,g)),l.width===null||l.width==="auto"?delete this.textWidth:m.nodeName.toLowerCase()==="text"&&l.width&&(C=this.textWidth=ma(l.width)),hr(this.styles,l),C&&!eh&&this.renderer.forExport&&delete l.width;let y=Wp&&l.fontSize||null;y&&(Up(y)||/^\d+$/.test(y))&&(l.fontSize+="px");let S=fa(l);m.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(D=>S&&delete S[D]),S.color&&(S.fill=S.color,delete S.color)),Xc(m,S)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),l.textOutline&&this.applyTextOutline(l.textOutline)),this}dashstyleSetter(l){let u,g=this["stroke-width"];if(g==="inherit"&&(g=1),l){let m=(l=l.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(u=m.length;u--;)m[u]=""+ma(m[u])*$n(g,NaN);l=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",l)}}destroy(){let l=this,u=l.element||{},g=l.renderer,m=u.ownerSVGElement,C=u.nodeName==="SPAN"&&l.parentGroup||void 0,w,y;if(u.onclick=u.onmouseout=u.onmouseover=u.onmousemove=u.point=null,fl(l),l.clipPath&&m){let S=l.clipPath;[].forEach.call(m.querySelectorAll("[clip-path],[CLIP-PATH]"),function(D){D.getAttribute("clip-path").indexOf(S.element.id)>-1&&D.removeAttribute("clip-path")}),l.clipPath=S.destroy()}if(l.stops){for(y=0;y<l.stops.length;y++)l.stops[y].destroy();l.stops.length=0,l.stops=void 0}for(l.safeRemoveChild(u);C?.div&&C.div.childNodes.length===0;)w=C.parentGroup,l.safeRemoveChild(C.div),delete C.div,C=w;l.alignOptions&&xo(g.alignedObjects,l),mn(l,(S,D)=>{(l[D]?.parentGroup===l||["connector","foreignObject"].indexOf(D)!==-1)&&l[D]?.destroy?.(),delete l[D]})}dSetter(l,u,g){Cl(l)&&(typeof l[0]=="string"&&(l=this.renderer.pathToSegments(l)),this.pathArray=l,l=l.reduce((m,C,w)=>C?.join?(w?m+" ":"")+C.join(" "):(C||"").toString(),"")),/(NaN| {2}|^$)/.test(l)&&(l="M 0 0"),this[u]!==l&&(g.setAttribute(u,l),this[u]=l)}fillSetter(l,u,g){typeof l=="string"?g.setAttribute(u,l):l&&this.complexColor(l,u,g)}hrefSetter(l,u,g){g.setAttributeNS("http://www.w3.org/1999/xlink",u,l)}getBBox(l,u){let g,m,C,w,{alignValue:y,element:S,renderer:D,styles:P,textStr:T}=this,{cache:A,cacheKeys:L}=D,I=S.namespaceURI===this.SVG_NS,z=$n(u,this.rotation,0),B=D.styledMode?S&&Di.prototype.getStyle.call(S,"font-size"):P.fontSize;if(us(T)&&((w=T.toString()).indexOf("<")===-1&&(w=w.replace(/\d/g,"0")),w+=["",D.rootFontSize,B,z,this.textWidth,y,P.lineClamp,P.textOverflow,P.fontWeight].join(",")),w&&!l&&(g=A[w]),!g||g.polygon){if(I||D.forExport){try{C=this.fakeTS&&function($){let q=S.querySelector(".highcharts-text-outline");q&&Xc(q,{display:$})},vl(C)&&C("none"),g=S.getBBox?hr({},S.getBBox()):{width:S.offsetWidth,height:S.offsetHeight,x:0,y:0},vl(C)&&C("")}catch{}(!g||g.width<0)&&(g={x:0,y:0,width:0,height:0})}else g=this.htmlGetBBox();m=g.height,I&&(g.height=m={"11px,17":14,"13px,20":16}[`${B||""},${Math.round(m)}`]||m),z&&(g=this.getRotatedBox(g,z));let N={bBox:g};pa(this,"afterGetBBox",N),g=N.bBox}if(w&&(T===""||g.height>0)){for(;L.length>250;)delete A[L.shift()];A[w]||L.push(w),A[w]=g}return g}getRotatedBox(l,u){let{x:g,y:m,width:C,height:w}=l,{alignValue:y,translateY:S,rotationOriginX:D=0,rotationOriginY:P=0}=this,T=Zc(y),A=Number(this.element.getAttribute("y")||0)-(S?0:m),L=u*fn,I=(u-90)*fn,z=Math.cos(L),B=Math.sin(L),N=C*z,$=C*B,q=Math.cos(I),Z=Math.sin(I),[[te,se],[ne,Q]]=[D,P].map(nt=>[nt-nt*z,nt*B]),Ce=g+T*(C-N)+te+Q+A*q,we=Ce+N,ve=we-w*q,Ge=ve-N,We=m+A-T*$-se+ne+A*Z,Ke=We+$,Ie=Ke-w*Z,Ve=Ie-$,Ue=Math.min(Ce,we,ve,Ge),It=Math.min(We,Ke,Ie,Ve),gt=Math.max(Ce,we,ve,Ge)-Ue,zi=Math.max(We,Ke,Ie,Ve)-It;return{x:Ue,y:It,width:gt,height:zi,polygon:[[Ce,We],[we,Ke],[ve,Ie],[Ge,Ve]]}}getStyle(l){return ga.getComputedStyle(this.element||this,"").getPropertyValue(l)}hasClass(l){return(""+this.attr("class")).split(" ").indexOf(l)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(l,u){this.onEvents={},this.opacity=1,this.SVG_NS=jn,this.element=u==="span"||u==="body"?ml(u):So.createElementNS(this.SVG_NS,u),this.renderer=l,this.styles={},pa(this,"afterInit")}on(l,u){let{onEvents:g}=this;return g[l]&&g[l](),g[l]=th(this.element,l,u),this}opacitySetter(l,u,g){let m=Number(Number(l).toFixed(3));this.opacity=m,g.setAttribute(u,m)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(l){return this.attr("class",(""+this.attr("class")).replace(Ro(l)?RegExp(`(^| )${l}( |$)`):l," ").replace(/ +/g," ").trim())}removeTextOutline(){let l=this.element.querySelector("tspan.highcharts-text-outline");l&&this.safeRemoveChild(l)}safeRemoveChild(l){let u=l.parentNode;u&&u.removeChild(l)}setRadialReference(l){let u=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=l,u?.radAttr&&u.animate(this.renderer.getRadialAttr(l,u.radAttr)),this}shadow(l){let{renderer:u}=this,g=fa(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},ds(l)?l:{}),m=u.shadowDefinition(g);return this.attr({filter:l?`url(${u.url}#${m})`:"none"})}show(l=!0){return this.attr({visibility:l?"inherit":"visible"})}"stroke-widthSetter"(l,u,g){this[u]=l,g.setAttribute(u,l)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let l=this.getStyle("stroke-width"),u=0,g;return/px$/.test(l)?u=ma(l):l!==""&&(Yc(g=So.createElementNS(jn,"rect"),{width:l,"stroke-width":0}),this.element.parentNode.appendChild(g),u=g.getBBox().width,g.parentNode.removeChild(g)),u}symbolAttr(l){let u=this;Di.symbolCustomAttribs.forEach(function(g){u[g]=$n(l[g],u[g])}),u.attr({d:u.renderer.symbols[u.symbolName](u.x,u.y,u.width,u.height,u)})}textSetter(l){l!==this.textStr&&(delete this.textPxLength,this.textStr=l,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(l){let u=this.element,g=u.getElementsByTagName("title")[0]||So.createElementNS(this.SVG_NS,"title");u.insertBefore?u.insertBefore(g,u.firstChild):u.appendChild(g),g.textContent=wl($n(l,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let l=this.element;return l.parentNode.appendChild(l),this}translate(l,u){return this.attr({translateX:l,translateY:u})}updateTransform(l="transform"){let{element:u,foreignObject:g,matrix:m,padding:C,rotation:w=0,rotationOriginX:y,rotationOriginY:S,scaleX:D,scaleY:P,text:T,translateX:A=0,translateY:L=0}=this,I=["translate("+A+","+L+")"];us(m)&&I.push("matrix("+m.join(",")+")"),w&&(I.push("rotate("+w+" "+(y??u.getAttribute("x")??this.x??0)+" "+(S??u.getAttribute("y")??this.y??0)+")"),T?.element.tagName!=="SPAN"||T?.foreignObject||T.attr({rotation:w,rotationOriginX:(y||0)-C,rotationOriginY:(S||0)-C})),(us(D)||us(P))&&I.push("scale("+$n(D,1)+" "+$n(P,1)+")"),I.length&&!(T||this).textPath&&(g?.element||u).setAttribute(l,I.join(" "))}visibilitySetter(l,u,g){l==="inherit"?g.removeAttribute(u):this[u]!==l&&g.setAttribute(u,l),this[u]=l}xGetter(l){return this.element.nodeName==="circle"&&(l==="x"?l="cx":l==="y"&&(l="cy")),this._defaultGetter(l)}zIndexSetter(l,u){let g=this.renderer,m=this.parentGroup,C=(m||g).element||g.box,w=this.element,y=C===g.box,S,D,P,T=!1,A,L=this.added,I;if(us(l)?(w.setAttribute("data-z-index",l),l*=1,this[u]===l&&(L=!1)):us(this[u])&&w.removeAttribute("data-z-index"),this[u]=l,L){for((l=this.zIndex)&&m&&(m.handleZ=!0),I=(S=C.childNodes).length-1;I>=0&&!T;I--)A=!us(P=(D=S[I]).getAttribute("data-z-index")),D!==w&&(l<0&&A&&!y&&!I?(C.insertBefore(w,S[I]),T=!0):(ma(P)<=l||A&&(!us(l)||l>=0))&&(C.insertBefore(w,S[I+1]),T=!0));T||(C.insertBefore(w,S[3*!!y]),T=!0)}return T}}Di.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Di.prototype.strokeSetter=Di.prototype.fillSetter,Di.prototype.yGetter=Di.prototype.xGetter,Di.prototype.matrixSetter=Di.prototype.rotationOriginXSetter=Di.prototype.rotationOriginYSetter=Di.prototype.rotationSetter=Di.prototype.scaleXSetter=Di.prototype.scaleYSetter=Di.prototype.translateXSetter=Di.prototype.translateYSetter=Di.prototype.verticalAlignSetter=function(E,l){this[l]=E,this.doTransform=!0};let Cn=Di,{defined:jp,extend:nh,getAlignFactor:$p,isNumber:yl,merge:vv,pick:Jc,removeEvent:Kp}=ze;class Eo extends Cn{constructor(l,u,g,m,C,w,y,S,D,P){let T;super(l,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=u,this.x=g,this.y=m,this.anchorX=w,this.anchorY=y,this.baseline=D,this.className=P,this.addClass(P==="button"?"highcharts-no-tooltip":"highcharts-label"),P&&this.addClass("highcharts-"+P),this.text=l.text(void 0,0,0,S).attr({zIndex:1}),typeof C=="string"&&((T=/^url\((.*?)\)$/.test(C))||this.renderer.symbols[C])&&(this.symbolKey=C),this.bBox=Eo.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=l.styledMode||T,this.deferredAttr={},this.alignFactor=0}alignSetter(l){let u=$p(l);this.textAlign=l,u!==this.alignFactor&&(this.alignFactor=u,this.bBox&&yl(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(l,u){this.anchorX=l,this.boxAttr(u,Math.round(l)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(l,u){this.anchorY=l,this.boxAttr(u,l-this.ySetting)}boxAttr(l,u){this.box?this.box.attr(l,u):this.deferredAttr[l]=u}css(l){if(l){let u={};l=vv(l),Eo.textProps.forEach(g=>{l[g]!==void 0&&(u[g]=l[g],delete l[g])}),this.text.css(u),"fontSize"in u||"fontWeight"in u?this.updateTextPadding():("width"in u||"textOverflow"in u)&&this.updateBoxSize()}return Cn.prototype.css.call(this,l)}destroy(){Kp(this.element,"mouseenter"),Kp(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Cn.prototype.destroy.call(this)}fillSetter(l,u){l&&(this.needsBox=!0),this.fill=l,this.boxAttr(u,l)}getBBox(l,u){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:g,height:m=0,translateX:C=0,translateY:w=0,width:y=0}=this,S=Jc(this.paddingLeft,g),D=u??(this.rotation||0),P={width:y,height:m,x:C+this.bBox.x-S,y:w+this.bBox.y-g+this.baselineOffset};return D&&(P=this.getRotatedBox(P,D)),P}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(l){this.heightSetting=l,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Jc(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&jp(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(l,u){yl(l)?l!==this[u]&&(this[u]=l,this.updateTextPadding()):this[u]=void 0}rSetter(l,u){this.boxAttr(u,l)}strokeSetter(l,u){this.stroke=l,this.boxAttr(u,l)}"stroke-widthSetter"(l,u){l&&(this.needsBox=!0),this["stroke-width"]=l,this.boxAttr(u,l)}"text-alignSetter"(l){this.textAlign=this["text-align"]=l,this.updateTextPadding()}textSetter(l){l!==void 0&&this.text.attr({text:l}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let l,u=this.text,g={},m=this.padding,C=this.bBox=(!yl(this.widthSetting)||!yl(this.heightSetting)||this.textAlign)&&jp(u.textStr)?u.getBBox(void 0,0):Eo.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||C.height||0)+2*m;let w=this.renderer.fontMetrics(u);if(this.baselineOffset=m+Math.min((this.text.firstLineMetrics||w).b,C.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-w.h)/2),this.needsBox&&!u.textPath){if(!this.box){let y=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();y.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),y.add(this)}g.x=l=this.getCrispAdjust(),g.y=(this.baseline?-this.baselineOffset:0)+l,g.width=Math.round(this.width),g.height=Math.round(this.height),this.box.attr(nh(g,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let l=this.text,u=l.styles.textAlign||this.textAlign;if(!l.textPath){this.updateBoxSize();let g=this.baseline?0:this.baselineOffset,m=(this.paddingLeft??this.padding)+$p(u)*(this.widthSetting??this.bBox.width);(m!==l.x||g!==l.y)&&(l.attr({align:u,x:m}),g!==void 0&&l.attr("y",g)),l.x=m,l.y=g}}widthSetter(l){this.widthSetting=yl(l)?l:void 0,this.doUpdate=!0}getPaddedWidth(){let l=this.padding,u=Jc(this.paddingLeft,l),g=Jc(this.paddingRight,l);return(this.widthSetting||this.bBox.width||0)+u+g}xSetter(l){this.x=l,this.alignFactor&&(l-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(l),this.attr("translateX",this.xSetting)}ySetter(l){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(l),this.attr("translateY",this.ySetting)}}Eo.emptyBBox={width:0,height:0,x:0,y:0},Eo.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:qp,isNumber:wv,pick:bl}=ze;function Yp(E,l,u,g,m){let C=[];if(m){let w=m.start||0,y=m.end||0,S=bl(m.r,u),D=bl(m.r,g||u),P=2e-4/(m.borderRadius?1:Math.max(S,1)),T=Math.abs(y-w-2*Math.PI)<P;T&&(w=Math.PI/2,y=2.5*Math.PI-P);let A=m.innerR,L=bl(m.open,T),I=Math.cos(w),z=Math.sin(w),B=Math.cos(y),N=Math.sin(y),$=bl(m.longArc,y-w-Math.PI<P?0:1),q=["A",S,D,0,$,bl(m.clockwise,1),E+S*B,l+D*N];q.params={start:w,end:y,cx:E,cy:l},C.push(["M",E+S*I,l+D*z],q),qp(A)&&((q=["A",A,A,0,$,qp(m.clockwise)?1-m.clockwise:0,E+A*I,l+A*z]).params={start:y,end:w,cx:E,cy:l},C.push(L?["M",E+A*B,l+A*N]:["L",E+A*B,l+A*N],q)),L||C.push(["Z"])}return C}function eu(E,l,u,g,m){return m?.r?oh(E,l,u,g,m):[["M",E,l],["L",E+u,l],["L",E+u,l+g],["L",E,l+g],["Z"]]}function oh(E,l,u,g,m){let C=m?.r||0;return[["M",E+C,l],["L",E+u-C,l],["A",C,C,0,0,1,E+u,l+C],["L",E+u,l+g-C],["A",C,C,0,0,1,E+u-C,l+g],["L",E+C,l+g],["A",C,C,0,0,1,E,l+g-C],["L",E,l+C],["A",C,C,0,0,1,E+C,l],["Z"]]}let Xp={arc:Yp,callout:function(E,l,u,g,m){let C=Math.min(m?.r||0,u,g),w=C+6,y=m?.anchorX,S=m?.anchorY||0,D=oh(E,l,u,g,{r:C});if(!wv(y)||y<u&&y>0&&S<g&&S>0)return D;if(E+y>u-w)if(S>l+w&&S<l+g-w)D.splice(3,1,["L",E+u,S-6],["L",E+u+6,S],["L",E+u,S+6],["L",E+u,l+g-C]);else if(y<u){let P=S<l+w,T=P?l:l+g;D.splice(P?2:5,0,["L",y,S],["L",E+u-C,T])}else D.splice(3,1,["L",E+u,g/2],["L",y,S],["L",E+u,g/2],["L",E+u,l+g-C]);else if(E+y<w)if(S>l+w&&S<l+g-w)D.splice(7,1,["L",E,S+6],["L",E-6,S],["L",E,S-6],["L",E,l+C]);else if(y>0){let P=S<l+w,T=P?l:l+g;D.splice(P?1:6,0,["L",y,S],["L",E+C,T])}else D.splice(7,1,["L",E,g/2],["L",y,S],["L",E,g/2],["L",E,l+C]);else S>g&&y<u-w?D.splice(5,1,["L",y+6,l+g],["L",y,l+g+6],["L",y-6,l+g],["L",E+C,l+g]):S<0&&y>w&&D.splice(1,1,["L",y-6,l],["L",y,l-6],["L",y+6,l],["L",u-C,l]);return D},circle:function(E,l,u,g){return Yp(E+u/2,l+g/2,u/2,g/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(E,l,u,g){return[["M",E+u/2,l],["L",E+u,l+g/2],["L",E+u/2,l+g],["L",E,l+g/2],["Z"]]},rect:eu,roundedRect:oh,square:eu,triangle:function(E,l,u,g){return[["M",E+u/2,l],["L",E+u,l+g],["L",E,l+g],["Z"]]},"triangle-down":function(E,l,u,g){return[["M",E,l],["L",E+u,l],["L",E+u/2,l+g],["Z"]]}},{doc:rh,SVG_NS:Zp,win:Qp}=ie,{attr:ah,extend:yv,fireEvent:bv,isString:Sv,objectEach:xv,pick:Rv}=ze,lh=(E,l)=>E.substring(0,l)+"…",Ev=class{constructor(E){let l=E.styles;this.renderer=E.renderer,this.svgElement=E,this.width=E.textWidth,this.textLineHeight=l?.lineHeight,this.textOutline=l?.textOutline,this.ellipsis=l?.textOverflow==="ellipsis",this.lineClamp=l?.lineClamp,this.noWrap=l?.whiteSpace==="nowrap"}buildSVG(){let E=this.svgElement,l=E.element,u=E.renderer,g=Rv(E.textStr,"").toString(),m=g.indexOf("<")!==-1,C=l.childNodes,w=!E.added&&u.box,y=[g,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,E.getStyle("font-size"),E.styles.lineClamp,this.width].join(",");if(y!==E.textCache){E.textCache=y,delete E.actualWidth;for(let S=C.length;S--;)l.removeChild(C[S]);if(m||this.ellipsis||this.width||E.textPath||g.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(g))){if(g!==""){w&&w.appendChild(l);let S=new $t(g);this.modifyTree(S.nodes),S.addToDOM(l),this.modifyDOM(),this.ellipsis&&(l.textContent||"").indexOf("…")!==-1&&E.attr("title",this.unescapeEntities(E.textStr||"",["&lt;","&gt;"])),w&&w.removeChild(l)}}else l.appendChild(rh.createTextNode(this.unescapeEntities(g)));Sv(this.textOutline)&&E.applyTextOutline&&E.applyTextOutline(this.textOutline)}}modifyDOM(){let E,l=this.svgElement,u=ah(l.element,"x");for(l.firstLineMetrics=void 0;(E=l.element.firstChild)&&/^[\s\u200B]*$/.test(E.textContent||" ");)l.element.removeChild(E);[].forEach.call(l.element.querySelectorAll("tspan.highcharts-br"),(w,y)=>{w.nextSibling&&w.previousSibling&&(y===0&&w.previousSibling.nodeType===1&&(l.firstLineMetrics=l.renderer.fontMetrics(w.previousSibling)),ah(w,{dy:this.getLineHeight(w.nextSibling),x:u}))});let g=this.width||0;if(!g)return;let m=(w,y)=>{let S=w.textContent||"",D=S.replace(/([^\^])-/g,"$1- ").split(" "),P=!this.noWrap&&(D.length>1||l.element.childNodes.length>1),T=this.getLineHeight(y),A=Math.max(0,g-.8*T),L=0,I=l.actualWidth;if(P){let z=[],B=[];for(;y.firstChild&&y.firstChild!==w;)B.push(y.firstChild),y.removeChild(y.firstChild);for(;D.length;)if(D.length&&!this.noWrap&&L>0&&(z.push(w.textContent||""),w.textContent=D.join(" ").replace(/- /g,"-")),this.truncate(w,void 0,D,L===0&&I||0,g,A,(N,$)=>D.slice(0,$).join(" ").replace(/- /g,"-")),I=l.actualWidth,L++,this.lineClamp&&L>=this.lineClamp){D.length&&(this.truncate(w,w.textContent||"",void 0,0,g,A,lh),w.textContent=w.textContent?.replace("…","")+"…");break}B.forEach(N=>{y.insertBefore(N,w)}),z.forEach(N=>{y.insertBefore(rh.createTextNode(N),w);let $=rh.createElementNS(Zp,"tspan");$.textContent="​",ah($,{dy:T,x:u}),y.insertBefore($,w)})}else this.ellipsis&&S&&this.truncate(w,S,void 0,0,g,A,lh)},C=w=>{[].slice.call(w.childNodes).forEach(y=>{y.nodeType===Qp.Node.TEXT_NODE?m(y,w):(y.className.baseVal.indexOf("highcharts-br")!==-1&&(l.actualWidth=0),C(y))})};C(l.element)}getLineHeight(E){let l=E.nodeType===Qp.Node.TEXT_NODE?E.parentElement:E;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(l||this.svgElement.element).h}modifyTree(E){let l=(u,g)=>{let{attributes:m={},children:C,style:w={},tagName:y}=u,S=this.renderer.styledMode;if(y==="b"||y==="strong"?S?m.class="highcharts-strong":w.fontWeight="bold":(y==="i"||y==="em")&&(S?m.class="highcharts-emphasized":w.fontStyle="italic"),w?.color&&(w.fill=w.color),y==="br"){m.class="highcharts-br",u.textContent="​";let D=E[g+1];D?.textContent&&(D.textContent=D.textContent.replace(/^ +/gm,""))}else y==="a"&&C&&C.some(D=>D.tagName==="#text")&&(u.children=[{children:C,tagName:"tspan"}]);y!=="#text"&&y!=="a"&&(u.tagName="tspan"),yv(u,{attributes:m,style:w}),C&&C.filter(D=>D.tagName!=="#text").forEach(l)};E.forEach(l),bv(this.svgElement,"afterModifyTree",{nodes:E})}truncate(E,l,u,g,m,C,w){let y,S,D=this.svgElement,{rotation:P}=D,T=[],A=u&&!g?1:0,L=(l||u||"").length,I=L;u||(m=C);let z=function(B,N){let $=N||B,q=E.parentNode;if(q&&T[$]===void 0&&q.getSubStringLength)try{T[$]=g+q.getSubStringLength(0,u?$+1:$)}catch{}return T[$]};if(D.rotation=0,g+(S=z(E.textContent.length))>m){for(;A<=L;)I=Math.ceil((A+L)/2),u&&(y=w(u,I)),S=z(I,y&&y.length-1),A===L?A=L+1:S>m?L=I-1:A=I;L===0?E.textContent="":l&&L===l.length-1||(E.textContent=y||w(l||u,I)),this.ellipsis&&S>m&&this.truncate(E,E.textContent||"",void 0,0,m,C,lh)}u&&u.splice(0,I),D.actualWidth=S,D.rotation=P}unescapeEntities(E,l){return xv(this.renderer.escapes,function(u,g){l&&l.indexOf(u)!==-1||(E=E.toString().replace(RegExp(u,"g"),g))}),E}},{defaultOptions:ch}=Ji,{charts:Sl,deg2rad:Jp,doc:gr,isFirefox:uh,isMS:dh,isWebKit:ef,noop:tf,SVG_NS:Ca,symbolSizes:hh,win:gh}=ie,{addEvent:tu,attr:xl,createElement:sf,crisp:va,css:Mo,defined:pr,destroyObjectProperties:iu,extend:Do,isArray:nf,isNumber:Kn,isObject:fr,isString:of,merge:su,pick:nu,pInt:Mv,replaceNested:Dv,uniqueKey:Tv}=ze;class ou{constructor(l,u,g,m,C,w,y){let S,D;this.x=0,this.y=0;let P=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),T=P.element;y||P.css(this.getStyle(m||{})),l.appendChild(T),xl(l,"dir","ltr"),l.innerHTML.indexOf("xmlns")===-1&&xl(T,"xmlns",this.SVG_NS),this.box=T,this.boxWrapper=P,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(gr.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=w,this.forExport=C,this.styledMode=y,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=P.getStyle("font-size"),this.setSize(u,g,!1),uh&&l.getBoundingClientRect&&((S=function(){Mo(l,{left:0,top:0}),D=l.getBoundingClientRect(),Mo(l,{left:Math.ceil(D.left)-D.left+"px",top:Math.ceil(D.top)-D.top+"px"})})(),this.unSubPixelFix=tu(gh,"resize",S))}definition(l){return new $t([l]).addToDOM(this.defs.element)}getReferenceURL(){if((uh||ef)&&gr.getElementsByTagName("base").length){if(!pr(s)){let l=Tv(),u=new $t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:l},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${l})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(gr.body);Mo(u,{position:"fixed",top:0,left:0,zIndex:9e5}),s=gr.elementFromPoint(6,6)?.id==="hitme",gr.body.removeChild(u)}if(s)return Dv(gh.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(l){return this.style=Do({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},l),this.style}setStyle(l){this.boxWrapper.css(this.getStyle(l))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let l=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),iu(this.gradients||{}),this.gradients=null,this.defs=l.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(l){return new this.Element(this,l)}getRadialAttr(l,u){return{cx:l[0]-l[2]/2+(u.cx||0)*l[2],cy:l[1]-l[2]/2+(u.cy||0)*l[2],r:(u.r||0)*l[2]}}shadowDefinition(l){let u=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(l).map(m=>`${m}-${l[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),g=su({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},l);return this.defs.element.querySelector(`#${u}`)||this.definition({tagName:"filter",attributes:{id:u,filterUnits:g.filterUnits},children:this.getShadowFilterContent(g)}),u}getShadowFilterContent(l){return[{tagName:"feDropShadow",attributes:{dx:l.offsetX,dy:l.offsetY,"flood-color":l.color,"flood-opacity":Math.min(5*l.opacity,1),stdDeviation:l.width/2}}]}buildText(l){new Ev(l).buildSVG()}getContrast(l){if(l==="transparent")return"#000000";let u=Vt.parse(l).rgba,g=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(Kn(u[0])||!Vt.useColorMix){let m=u.map(w=>{let y=w/255;return y<=.04?y/12.92:Math.pow((y+.055)/1.055,2.4)}),C=.2126*m[0]+.7152*m[1]+.0722*m[2];return 1.05/(C+.05)>(C+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+l+" srgb"+g+g+g+")"}button(l,u,g,m,C={},w,y,S,D,P){let T=this.label(l,u,g,D,void 0,void 0,P,void 0,"button"),A=this.styledMode,L=arguments,I=0;C=su(ch.global.buttonTheme,C),A&&(delete C.fill,delete C.stroke,delete C["stroke-width"]);let z=C.states||{},B=C.style||{};delete C.states,delete C.style;let N=[$t.filterUserAttributes(C)],$=[B];return A||["hover","select","disabled"].forEach((q,Z)=>{N.push(su(N[0],$t.filterUserAttributes(L[Z+5]||z[q]||{}))),$.push(N[Z+1].style),delete N[Z+1].style}),tu(T.element,dh?"mouseover":"mouseenter",function(){I!==3&&T.setState(1)}),tu(T.element,dh?"mouseout":"mouseleave",function(){I!==3&&T.setState(I)}),T.setState=(q=0)=>{if(q!==1&&(T.state=I=q),T.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][q]),!A){T.attr(N[q]);let Z=$[q];fr(Z)&&T.css(Z)}},T.attr(N[0]),!A&&(T.css(Do({cursor:"default"},B)),P&&T.text.css({pointerEvents:"none"})),T.on("touchstart",q=>q.stopPropagation()).on("click",function(q){I!==3&&m?.call(T,q)})}crispLine(l,u){let[g,m]=l;return pr(g[1])&&g[1]===m[1]&&(g[1]=m[1]=va(g[1],u)),pr(g[2])&&g[2]===m[2]&&(g[2]=m[2]=va(g[2],u)),l}path(l){let u=this.styledMode?{}:{fill:"none"};return nf(l)?u.d=l:fr(l)&&Do(u,l),this.createElement("path").attr(u)}circle(l,u,g){let m=fr(l)?l:l===void 0?{}:{x:l,y:u,r:g},C=this.createElement("circle");return C.xSetter=C.ySetter=function(w,y,S){S.setAttribute("c"+y,w)},C.attr(m)}arc(l,u,g,m,C,w){let y;fr(l)?(u=(y=l).y,g=y.r,m=y.innerR,C=y.start,w=y.end,l=y.x):y={innerR:m,start:C,end:w};let S=this.symbol("arc",l,u,g,g,y);return S.r=g,S}rect(l,u,g,m,C,w){let y=fr(l)?l:l===void 0?{}:{x:l,y:u,r:C,width:Math.max(g||0,0),height:Math.max(m||0,0)},S=this.createElement("rect");return this.styledMode||(w!==void 0&&(y["stroke-width"]=w,Do(y,S.crisp(y))),y.fill="none"),S.rSetter=function(D,P,T){S.r=D,xl(T,{rx:D,ry:D})},S.rGetter=function(){return S.r||0},S.attr(y)}roundedRect(l){return this.symbol("roundedRect").attr(l)}setSize(l,u,g){this.width=l,this.height=u,this.boxWrapper.animate({width:l,height:u},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:nu(g,!0)?void 0:0}),this.alignElements()}g(l){let u=this.createElement("g");return l?u.attr({class:"highcharts-"+l}):u}image(l,u,g,m,C,w){let y={preserveAspectRatio:"none"};Kn(u)&&(y.x=u),Kn(g)&&(y.y=g),Kn(m)&&(y.width=m),Kn(C)&&(y.height=C);let S=this.createElement("image").attr(y),D=function(P){S.attr({href:l}),w.call(S,P)};if(w){S.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let P=new gh.Image;tu(P,"load",D),P.src=l,P.complete&&D({})}else S.attr({href:l});return S}symbol(l,u,g,m,C,w){let y,S,D,P,T=this,A=/^url\((.*?)\)$/,L=A.test(l),I=!L&&(this.symbols[l]?l:"circle"),z=I&&this.symbols[I];if(z)typeof u=="number"&&(S=z.call(this.symbols,u||0,g||0,m||0,C||0,w)),y=this.path(S),T.styledMode||y.attr("fill","none"),Do(y,{symbolName:I||void 0,x:u,y:g,width:m,height:C}),w&&Do(y,w);else if(L){D=l.match(A)[1];let B=y=this.image(D);B.imgwidth=nu(w?.width,hh[D]?.width),B.imgheight=nu(w?.height,hh[D]?.height),P=N=>N.attr({width:N.width,height:N.height}),["width","height"].forEach(N=>{B[`${N}Setter`]=function($,q){this[q]=$;let{alignByTranslate:Z,element:te,width:se,height:ne,imgwidth:Q,imgheight:Ce}=this,we=q==="width"?Q:Ce,ve=1;w&&w.backgroundSize==="within"&&se&&ne&&Q&&Ce?(ve=Math.min(se/Q,ne/Ce),xl(te,{width:Math.round(Q*ve),height:Math.round(Ce*ve)})):te&&we&&te.setAttribute(q,we),!Z&&Q&&Ce&&this.translate(((se||0)-Q*ve)/2,((ne||0)-Ce*ve)/2)}}),pr(u)&&B.attr({x:u,y:g}),B.isImg=!0,B.symbolUrl=l,pr(B.imgwidth)&&pr(B.imgheight)?P(B):(B.attr({width:0,height:0}),sf("img",{onload:function(){let N=Sl[T.chartIndex];this.width===0&&(Mo(this,{position:"absolute",top:"-999em"}),gr.body.appendChild(this)),hh[D]={width:this.width,height:this.height},B.imgwidth=this.width,B.imgheight=this.height,B.element&&P(B),this.parentNode&&this.parentNode.removeChild(this),T.imgCount--,T.imgCount||!N||N.hasLoaded||N.onload()},src:D}),this.imgCount++)}return y}clipRect(l,u,g,m){return this.rect(l,u,g,m,0)}text(l,u,g,m){let C={};if(m&&(this.allowHTML||!this.forExport))return this.html(l,u,g);C.x=Math.round(u||0),g&&(C.y=Math.round(g)),pr(l)&&(C.text=l);let w=this.createElement("text").attr(C);return m&&(!this.forExport||this.allowHTML)||(w.xSetter=function(y,S,D){let P=D.getElementsByTagName("tspan"),T=D.getAttribute(S);for(let A=0,L;A<P.length;A++)(L=P[A]).getAttribute(S)===T&&L.setAttribute(S,y);D.setAttribute(S,y)}),w}fontMetrics(l){let u=Kn(l)?l:Mv(Cn.prototype.getStyle.call(l,"font-size")||0),g=u<24?u+3:Math.round(1.2*u),m=Math.round(.8*g);return{h:g,b:m,f:u}}rotCorr(l,u,g){let m=l;return u&&g&&(m=Math.max(m*Math.cos(u*Jp),4)),{x:-l/3*Math.sin(u*Jp),y:m}}pathToSegments(l){let u=[],g=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let C=0;C<l.length;C++)of(g[0])&&Kn(l[C])&&g.length===m[g[0].toUpperCase()]&&l.splice(C,0,g[0].replace("M","L").replace("m","l")),typeof l[C]=="string"&&(g.length&&u.push(g.slice(0)),g.length=0),g.push(l[C]);return u.push(g.slice(0)),u}label(l,u,g,m,C,w,y,S,D){return new Eo(this,l,u,g,m,C,w,y,S,D)}alignElements(){this.alignedObjects.forEach(l=>l.align())}}Do(ou.prototype,{Element:Cn,SVG_NS:Ca,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Xp,draw:tf}),ua.registerRendererType("svg",ou,!0);let{composed:Fv,isFirefox:xs}=ie,{attr:Rl,css:qn,createElement:rf,defined:ph,extend:af,getAlignFactor:fh,isNumber:ru,pInt:wa,pushUnique:mh}=ze;function ya(E,l,u){let g=this.div?.style;Cn.prototype[`${l}Setter`].call(this,E,l,u),g&&(u.style[l]=g[l]=E)}let Ch=(E,l)=>{if(!E.div){let u=Rl(E.element,"class"),g=E.css,m=rf("div",u?{className:u}:void 0,{position:"absolute",left:`${E.translateX||0}px`,top:`${E.translateY||0}px`,...E.styles,display:E.display,opacity:E.opacity,visibility:E.visibility},E.parentGroup?.div||l);E.classSetter=(C,w,y)=>{y.setAttribute("class",C),m.className=C},E.translateXSetter=E.translateYSetter=(C,w)=>{E[w]=C,m.style[w==="translateX"?"left":"top"]=`${C}px`,E.doTransform=!0},E.scaleXSetter=E.scaleYSetter=(C,w)=>{E[w]=C,E.doTransform=!0},E.opacitySetter=E.visibilitySetter=ya,E.css=C=>(g.call(E,C),C.cursor&&(m.style.cursor=C.cursor),C.pointerEvents&&(m.style.pointerEvents=C.pointerEvents),E),E.on=function(){return Cn.prototype.on.apply({element:m,onEvents:E.onEvents},arguments),E},E.div=m}return E.div};class mr extends Cn{static compose(l){mh(Fv,this.compose)&&(l.prototype.html=function(u,g,m){return new mr(this,"span").attr({text:u,x:Math.round(g),y:Math.round(m)})})}constructor(l,u){super(l,u),mr.useForeignObject?this.foreignObject=l.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...l.styledMode?{}:{fontFamily:l.style.fontFamily,fontSize:l.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(l,u,g){this.xCorr=-l*g,this.yCorr=-u}css(l){let u,{element:g}=this,m=g.tagName==="SPAN"&&l&&"width"in l,C=m&&l.width;return m&&(delete l.width,this.textWidth=wa(C)||void 0,u=!0),l?.textOverflow==="ellipsis"&&(l.overflow="hidden",l.whiteSpace="nowrap"),l?.lineClamp&&(l.display="-webkit-box",l.WebkitLineClamp=l.lineClamp,l.WebkitBoxOrient="vertical",l.overflow="hidden"),ru(Number(l?.fontSize))&&(l.fontSize+="px"),af(this.styles,l),qn(g,l),u&&this.updateTransform(),this}htmlGetBBox(){let{element:l}=this;return{x:l.offsetLeft,y:l.offsetTop,width:l.offsetWidth,height:l.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:l,foreignObject:u,oldTextWidth:g,renderer:m,rotation:C,rotationOriginX:w,rotationOriginY:y,scaleX:S,scaleY:D,styles:{display:P="inline-block",whiteSpace:T},textAlign:A="left",textWidth:L,translateX:I=0,translateY:z=0,x:B=0,y:N=0}=this;if(u||qn(l,{marginLeft:`${I}px`,marginTop:`${z}px`}),l.tagName==="SPAN"){let $,q=[C,A,l.innerHTML,L,this.textAlign].join(","),Z=-(this.parentGroup?.padding*1)||0;if(L!==g){let Q=this.textPxLength?this.textPxLength:(qn(l,{width:"",whiteSpace:T||"nowrap"}),l.offsetWidth),Ce=L||0,we=!m.styledMode&&l.style.textOverflow===""&&l.style.webkitLineClamp;(Ce>g||Q>Ce||we)&&(/[\-\s\u00AD]/.test(l.textContent||l.innerText)||l.style.textOverflow==="ellipsis")&&(qn(l,{width:(C||S||Q>Ce||we)&&ru(L)?L+"px":"auto",display:P,whiteSpace:T||"normal"}),this.oldTextWidth=L)}u&&(qn(l,{display:"inline-block",verticalAlign:"top"}),u.attr({width:m.width,height:m.height})),q!==this.cTT&&($=m.fontMetrics(l).b,ph(C)&&!u&&(C!==(this.oldRotation||0)||A!==this.oldAlign)&&qn(l,{transform:`rotate(${C}deg)`,transformOrigin:`${Z}% ${Z}px`}),this.getSpanCorrection(!ph(C)&&!this.textWidth&&this.textPxLength||l.offsetWidth,$,fh(A)));let{xCorr:te=0,yCorr:se=0}=this,ne={left:`${B+te}px`,top:`${N+se}px`,textAlign:A,transformOrigin:`${(w??B)-te-B-Z}px ${(y??N)-se-N-Z}px`};(S||D)&&(ne.transform=`scale(${S??1},${D??1})`),u?(super.updateTransform(),ru(B)&&ru(N)?(u.attr({x:B+te,y:N+se,width:l.offsetWidth+3,height:l.offsetHeight,"transform-origin":l.getAttribute("transform-origin")||"0 0"}),qn(l,{display:P,textAlign:A})):xs&&u.attr({width:0,height:0})):qn(l,ne),this.cTT=q,this.oldRotation=C,this.oldAlign=A}}add(l){let{foreignObject:u,renderer:g}=this,m=g.box.parentNode,C=[];if(u)u.add(l),super.add(g.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(u));else{let w;if(this.parentGroup=l,l&&!(w=l.div)){let y=l;for(;y;)C.push(y),y=y.parentGroup;for(let S of C.reverse())w=Ch(S,m)}(w||m).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(l){l!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,$t.setElementHTML(this.element,l??""),this.textStr=l,this.doTransform=!0)}alignSetter(l){this.alignValue=this.textAlign=l,this.doTransform=!0}xSetter(l,u){this[u]=l,this.doTransform=!0}}let Rs=mr.prototype;Rs.visibilitySetter=Rs.opacitySetter=ya,Rs.ySetter=Rs.rotationSetter=Rs.rotationOriginXSetter=Rs.rotationOriginYSetter=Rs.xSetter,(function(E){E.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},E.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:l}=this.axis.chart;return l(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}})(h||(h={}));let ba=h,{addEvent:vh,isFunction:lf,objectEach:Cr,removeEvent:cf}=ze;(p||(p={})).registerEventOptions=function(E,l){E.eventOptions=E.eventOptions||{},Cr(l.events,function(u,g){E.eventOptions[g]!==u&&(E.eventOptions[g]&&(cf(E,g,E.eventOptions[g]),delete E.eventOptions[g]),lf(u)&&(E.eventOptions[g]=u,vh(E,g,u,{order:0})))})};let El=p,{deg2rad:au}=ie,{clamp:Pv,correctFloat:lu,defined:wh,destroyObjectProperties:uf,extend:yh,fireEvent:vr,getAlignFactor:en,isNumber:wr,merge:Is,objectEach:Sa,pick:Hs}=ze,Yn=class{constructor(E,l,u,g,m){this.isNew=!0,this.isNewLabel=!0,this.axis=E,this.pos=l,this.type=u||"",this.parameters=m||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,vr(this,"init"),u||g||this.addLabel()}addLabel(){let E=this,l=E.axis,u=l.options,g=l.chart,m=l.categories,C=l.logarithmic,w=l.names,y=E.pos,S=Hs(E.options?.labels,u.labels),D=l.tickPositions,P=y===D[0],T=y===D[D.length-1],A=(!S.step||S.step===1)&&l.tickInterval===1,L=D.info,I=E.label,z,B,N,$=this.parameters.category||(m?Hs(m[y],w[y],y):y);C&&wr($)&&($=lu(C.lin2log($))),l.dateTime&&(L?z=(B=g.time.resolveDTLFormat(u.dateTimeLabelFormats[!u.grid?.enabled&&L.higherRanks[y]||L.unitName])).main:wr($)&&(z=l.dateTime.getXDateFormat($,u.dateTimeLabelFormats||{}))),E.isFirst=P,E.isLast=T;let q={axis:l,chart:g,dateTimeLabelFormat:z,isFirst:P,isLast:T,pos:y,tick:E,tickPositionInfo:L,value:$};vr(this,"labelFormat",q);let Z=ne=>S.formatter?S.formatter.call(ne,ne):S.format?(ne.text=l.defaultLabelFormatter.call(ne),Ss.format(S.format,ne,g)):l.defaultLabelFormatter.call(ne),te=Z.call(q,q),se=B?.list;se?E.shortenLabel=function(){for(N=0;N<se.length;N++)if(yh(q,{dateTimeLabelFormat:se[N]}),I.attr({text:Z.call(q,q)}),I.getBBox().width<l.getSlotWidth(E)-2*(S.padding||0))return;I.attr({text:""})}:E.shortenLabel=void 0,A&&l._addedPlotLB&&E.moveLabel(te,S),wh(I)||E.movedLabel?I&&I.textStr!==te&&!A&&(!I.textWidth||S.style.width||I.styles.width||I.css({width:null}),I.attr({text:te}),I.textPxLength=I.getBBox().width):(E.label=I=E.createLabel(te,S),E.rotation=0)}createLabel(E,l,u){let g=this.axis,{renderer:m,styledMode:C}=g.chart,w=l.style.whiteSpace,y=wh(E)&&l.enabled?m.text(E,u?.x,u?.y,l.useHTML).add(g.labelGroup):void 0;return y&&(C||y.css(Is(l.style)),y.textPxLength=y.getBBox().width,!C&&w&&y.css({whiteSpace:w})),y}destroy(){uf(this,this.axis)}getPosition(E,l,u,g){let m=this.axis,C=m.chart,w=g&&C.oldChartHeight||C.chartHeight,y={x:E?lu(m.translate(l+u,void 0,void 0,g)+m.transB):m.left+m.offset+(m.opposite?(g&&C.oldChartWidth||C.chartWidth)-m.right-m.left:0),y:E?w-m.bottom+m.offset-(m.opposite?m.height:0):lu(w-m.translate(l+u,void 0,void 0,g)-m.transB)};return y.y=Pv(y.y,-1e9,1e9),vr(this,"afterGetPosition",{pos:y}),y}getLabelPosition(E,l,u,g,m,C,w,y){let S,D,P=this.axis,T=P.transA,A=P.isLinked&&P.linkedParent?P.linkedParent.reversed:P.reversed,L=P.staggerLines,I=P.tickRotCorr||{x:0,y:0},z=g||P.reserveSpaceDefault?0:-P.labelOffset*(P.labelAlign==="center"?.5:1),B=m.distance,N={};return S=P.side===0?u.rotation?-B:-u.getBBox().height:P.side===2?I.y+B:Math.cos(u.rotation*au)*(I.y-u.getBBox(!1,0).height/2),wh(m.y)&&(S=P.side===0&&P.horiz?m.y+S:m.y),E=E+Hs(m.x,[0,1,0,-1][P.side]*B)+z+I.x-(C&&g?C*T*(A?-1:1):0),l=l+S-(C&&!g?C*T*(A?1:-1):0),L&&(D=w/(y||1)%L,P.opposite&&(D=L-D-1),l+=D*(P.labelOffset/L)),N.x=E,N.y=Math.round(l),vr(this,"afterGetLabelPosition",{pos:N,tickmarkOffset:C,index:w}),N}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(E,l,u,g,m=!1,C){return C.crispLine([["M",E,l],["L",E+(m?0:-u),l+(m?u:0)]],g)}handleOverflow(E){let l=this.axis,u=l.options.labels,g=E.x,m=l.chart.chartWidth,C=l.chart.spacing,w=Hs(l.labelLeft,Math.min(l.pos,C[3])),y=Hs(l.labelRight,Math.max(l.isRadial?0:l.pos+l.len,m-C[1])),S=this.label,D=this.rotation,P=en(l.labelAlign||S.attr("align")),T=S.getBBox().width,A=l.getSlotWidth(this),L=A,I=1,z;D||u.overflow!=="justify"?D<0&&g-P*T<w?z=Math.round(g/Math.cos(D*au)-w):D>0&&g+P*T>y&&(z=Math.round((m-g)/Math.cos(D*au))):(g-P*T<w?L=E.x+L*(1-P)-w:g+(1-P)*T>y&&(L=y-E.x+L*P,I=-1),(L=Math.min(A,L))<A&&l.labelAlign==="center"&&(E.x+=I*(A-L-P*(A-Math.min(T,L)))),(T>L||l.autoRotation&&S?.styles?.width)&&(z=L)),z&&S&&(this.shortenLabel?this.shortenLabel():S.css(yh({},{width:Math.floor(z)+"px",lineClamp:+!l.isRadial})))}moveLabel(E,l){let u=this,g=u.label,m=u.axis,C=!1,w;g&&g.textStr===E?(u.movedLabel=g,C=!0,delete u.label):Sa(m.ticks,function(y){C||y.isNew||y===u||!y.label||y.label.textStr!==E||(u.movedLabel=y.label,C=!0,y.labelPos=u.movedLabel.xy,delete y.label)}),!C&&(u.labelPos||g)&&(w=u.labelPos||g.xy,u.movedLabel=u.createLabel(E,l,w),u.movedLabel&&u.movedLabel.attr({opacity:0}))}render(E,l,u){let g=this.axis,m=g.horiz,C=this.pos,w=Hs(this.tickmarkOffset,g.tickmarkOffset),y=this.getPosition(m,C,w,l),S=y.x,D=y.y,P=g.pos,T=P+g.len,A=m?S:D,L=Hs(u,this.label?.newOpacity,1);!g.chart.polar&&(lu(A)<P||A>T)&&(u=0),u??(u=1),this.isActive=!0,this.renderGridLine(l,u),this.renderMark(y,u),this.renderLabel(y,l,L,E),this.isNew=!1,vr(this,"afterRender")}renderGridLine(E,l){let u=this.axis,g=u.options,m={},C=this.pos,w=this.type,y=Hs(this.tickmarkOffset,u.tickmarkOffset),S=u.chart.renderer,D=this.gridLine,P,T=g.gridLineWidth,A=g.gridLineColor,L=g.gridLineDashStyle;this.type==="minor"&&(T=g.minorGridLineWidth,A=g.minorGridLineColor,L=g.minorGridLineDashStyle),D||(u.chart.styledMode||(m.stroke=A,m["stroke-width"]=T||0,m.dashstyle=L),w||(m.zIndex=1),E&&(l=0),this.gridLine=D=S.path().attr(m).addClass("highcharts-"+(w?w+"-":"")+"grid-line").add(u.gridGroup)),D&&(P=u.getPlotLinePath({value:C+y,lineWidth:D.strokeWidth(),force:"pass",old:E,acrossPanes:!1}))&&D[E||this.isNew?"attr":"animate"]({d:P,opacity:l})}renderMark(E,l){let u=this.axis,g=u.options,m=u.chart.renderer,C=this.type,w=u.tickSize(C?C+"Tick":"tick"),y=E.x,S=E.y,D=Hs(g[C!=="minor"?"tickWidth":"minorTickWidth"],!C&&u.isXAxis?1:0),P=g[C!=="minor"?"tickColor":"minorTickColor"],T=this.mark,A=!T;w&&(u.opposite&&(w[0]=-w[0]),!T&&(this.mark=T=m.path().addClass("highcharts-"+(C?C+"-":"")+"tick").add(u.axisGroup),u.chart.styledMode||T.attr({stroke:P,"stroke-width":D})),T[A?"attr":"animate"]({d:this.getMarkPath(y,S,w[0],T.strokeWidth(),u.horiz,m),opacity:l}))}renderLabel(E,l,u,g){let m=this.axis,C=m.horiz,w=m.options,y=this.label,S=w.labels,D=S.step,P=Hs(this.tickmarkOffset,m.tickmarkOffset),T=E.x,A=E.y,L=!0;y&&wr(T)&&(y.xy=E=this.getLabelPosition(T,A,y,C,S,P,g,D),(!this.isFirst||this.isLast||w.showFirstLabel)&&(!this.isLast||this.isFirst||w.showLastLabel)?!C||S.step||S.rotation||l||u===0||this.handleOverflow(E):L=!1,D&&g%D&&(L=!1),L&&wr(E.y)?(E.opacity=u,y[this.isNewLabel?"attr":"animate"](E).show(!0),this.isNewLabel=!1):(y.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let E=this.label,l=this.axis;E&&!this.isNew&&(E.animate({opacity:0},void 0,E.destroy),delete this.label),l.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:cu}=Pi,{xAxis:uu,yAxis:yr}=ba,{defaultOptions:du}=Ji,{registerEventOptions:hu}=El,{deg2rad:xa}=ie,{arrayMax:df,arrayMin:Es,clamp:Ml,correctFloat:fi,defined:Gt,destroyObjectProperties:gu,erase:To,error:Dl,extend:Tl,fireEvent:Kt,getClosestDistance:bh,insertItem:Ns,isArray:br,isNumber:qe,isString:Fl,merge:Fo,normalizeTickInterval:Gs,objectEach:is,pick:ot,relativeLength:Ms,removeEvent:vn,splat:Xn,syncTimeout:hf}=ze,pu=(E,l)=>Gs(l,void 0,void 0,ot(E.options.allowDecimals,l<.5||E.tickAmount!==void 0),!!E.tickAmount);Tl(du,{xAxis:uu,yAxis:Fo(uu,yr)});class Po{constructor(l,u,g){this.init(l,u,g)}init(l,u,g=this.coll){let m=g==="xAxis",C=this.isZAxis||(l.inverted?!m:m);this.chart=l,this.horiz=C,this.isXAxis=m,this.coll=g,Kt(this,"init",{userOptions:u}),this.opposite=ot(u.opposite,this.opposite),this.side=ot(u.side,this.side,C?2*!this.opposite:this.opposite?1:3),this.setOptions(u);let w=this.options,y=w.labels;this.type??(this.type=w.type||"linear"),this.uniqueNames??(this.uniqueNames=w.uniqueNames??!0),Kt(this,"afterSetType"),this.userOptions=u,this.minPixelPadding=0,this.reversed=ot(w.reversed,this.reversed),this.visible=w.visible,this.zoomEnabled=w.zoomEnabled,this.hasNames=this.type==="category"||w.categories===!0,this.categories=br(w.categories)&&w.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Gt(w.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=w.minRange||w.maxZoom,this.range=w.range,this.offset=w.offset||0,this.max=void 0,this.min=void 0;let S=ot(w.crosshair,Xn(l.options.tooltip.crosshairs)[+!m]);this.crosshair=S===!0?{}:S,l.axes.indexOf(this)===-1&&(m?l.axes.splice(l.xAxis.length,0,this):l.axes.push(this),Ns(this,l[this.coll])),l.orderItems(this.coll),this.series=this.series||[],l.inverted&&!this.isZAxis&&m&&!Gt(this.reversed)&&(this.reversed=!0),this.labelRotation=qe(y.rotation)?y.rotation:void 0,hu(this,w),Kt(this,"afterInit")}setOptions(l){let u=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Fo(u,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},du[this.coll],l),Kt(this,"afterSetOptions",{userOptions:l})}defaultLabelFormatter(){let l=this.axis,{numberFormatter:u}=this.chart,g=qe(this.value)?this.value:NaN,m=l.chart.time,C=l.categories,w=this.dateTimeLabelFormat,y=du.lang,S=y.numericSymbols,D=y.numericSymbolMagnitude||1e3,P=l.logarithmic?Math.abs(g):l.tickInterval,T=S?.length,A,L;if(C)L=`${this.value}`;else if(w)L=m.dateFormat(w,g,!0);else if(T&&S&&P>=1e3)for(;T--&&L===void 0;)P>=(A=Math.pow(D,T+1))&&10*g%A==0&&S[T]!==null&&g!==0&&(L=u(g/A,-1)+S[T]);return L===void 0&&(L=Math.abs(g)>=1e4?u(g,-1):u(g,-1,void 0,"")),L}getSeriesExtremes(){let l,u=this;Kt(this,"getSeriesExtremes",null,function(){u.hasVisibleSeries=!1,u.dataMin=u.dataMax=u.threshold=void 0,u.softThreshold=!u.isXAxis,u.series.forEach(g=>{if(g.reserveSpace()){let m=g.options,C,w=m.threshold,y,S;if(u.hasVisibleSeries=!0,u.positiveValuesOnly&&0>=(w||0)&&(w=void 0),u.isXAxis)(C=g.getColumn("x")).length&&(C=u.logarithmic?C.filter(D=>D>0):C,y=(l=g.getXExtremes(C)).min,S=l.max,qe(y)||y instanceof Date||(C=C.filter(qe),y=(l=g.getXExtremes(C)).min,S=l.max),C.length&&(u.dataMin=Math.min(ot(u.dataMin,y),y),u.dataMax=Math.max(ot(u.dataMax,S),S)));else{let D=g.applyExtremes();qe(D.dataMin)&&(y=D.dataMin,u.dataMin=Math.min(ot(u.dataMin,y),y)),qe(D.dataMax)&&(S=D.dataMax,u.dataMax=Math.max(ot(u.dataMax,S),S)),Gt(w)&&(u.threshold=w),(!m.softThreshold||u.positiveValuesOnly)&&(u.softThreshold=!1)}}})}),Kt(this,"afterGetSeriesExtremes")}translate(l,u,g,m,C,w){let y=this.linkedParent||this,S=m&&y.old?y.old.min:y.min;if(!qe(S))return NaN;let D=y.minPixelPadding,P=(y.isOrdinal||y.brokenAxis?.hasBreaks||y.logarithmic&&C)&&!!y.lin2val,T=1,A=0,L=m&&y.old?y.old.transA:y.transA,I=0;return L||(L=y.transA),g&&(T*=-1,A=y.len),y.reversed&&(T*=-1,A-=T*(y.sector||y.len)),u?(I=(l=l*T+A-D)/L+S,P&&(I=y.lin2val(I))):(P&&(l=y.val2lin(l)),I=T*(l-S)*L+A+T*D+(qe(w)?L*w:0),y.isRadial||(I=fi(I))),I}toPixels(l,u){return this.translate(this.chart?.time.parse(l)??NaN,!1,!this.horiz,void 0,!0)+(u?0:this.pos)}toValue(l,u){return this.translate(l-(u?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(l){let u=this,g=u.chart,m=u.left,C=u.top,w=l.old,y=l.value,S=l.lineWidth,D=w&&g.oldChartHeight||g.chartHeight,P=w&&g.oldChartWidth||g.chartWidth,T=u.transB,A=l.translatedValue,L=l.force,I,z,B,N,$;function q(te,se,ne){return L!=="pass"&&(te<se||te>ne)&&(L?te=Ml(te,se,ne):$=!0),te}let Z={value:y,lineWidth:S,old:w,force:L,acrossPanes:l.acrossPanes,translatedValue:A};return Kt(this,"getPlotLinePath",Z,function(te){I=B=(A=Ml(A=ot(A,u.translate(y,void 0,void 0,w)),-1e9,1e9))+T,z=N=D-A-T,qe(A)?u.horiz?(z=C,N=D-u.bottom+(u.options.isInternal?0:g.scrollablePixelsY||0),I=B=q(I,m,m+u.width)):(I=m,B=P-u.right+(g.scrollablePixelsX||0),z=N=q(z,C,C+u.height)):($=!0,L=!1),te.path=$&&!L?void 0:g.renderer.crispLine([["M",I,z],["L",B,N]],S||1)}),Z.path}getLinearTickPositions(l,u,g){let m,C,w,y=fi(Math.floor(u/l)*l),S=fi(Math.ceil(g/l)*l),D=[];if(fi(y+l)===y&&(w=20),this.single)return[u];for(m=y;m<=S&&(D.push(m),(m=fi(m+l,w))!==C);)C=m;return D}getMinorTickInterval(){let{minorTicks:l,minorTickInterval:u}=this.options;return l===!0?ot(u,"auto"):l!==!1?u:void 0}getMinorTickPositions(){let l=this.options,u=this.tickPositions,g=this.minorTickInterval,m=this.pointRangePadding||0,C=(this.min||0)-m,w=(this.max||0)+m,y=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:w-C,S=[],D;if(y&&y/g<this.len/3){let P=this.logarithmic;if(P)this.paddedTicks.forEach(function(T,A,L){A&&S.push.apply(S,P.getLogTickPositions(g,L[A-1],L[A],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")S=S.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(g),C,w,l.startOfWeek));else for(D=C+(u[0]-C)%g;D<=w&&D!==S[0];D+=g)S.push(D)}return S.length!==0&&this.trimTicks(S),S}adjustForMinRange(){let l=this.options,u=this.logarithmic,g=this.chart.time,{max:m,min:C,minRange:w}=this,y,S,D,P;this.isXAxis&&w===void 0&&!u&&(w=Gt(l.min)||Gt(l.max)||Gt(l.floor)||Gt(l.ceiling)?null:Math.min(5*(bh(this.series.map(T=>{let A=T.getColumn("x");return T.xIncrement?A.slice(0,2):A}))||0),this.dataMax-this.dataMin)),qe(m)&&qe(C)&&qe(w)&&m-C<w&&(S=this.dataMax-this.dataMin>=w,y=(w-m+C)/2,D=[C-y,g.parse(l.min)??C-y],S&&(D[2]=u?u.log2lin(this.dataMin):this.dataMin),P=[(C=df(D))+w,g.parse(l.max)??C+w],S&&(P[2]=u?u.log2lin(this.dataMax):this.dataMax),(m=Es(P))-C<w&&(D[0]=m-w,D[1]=g.parse(l.min)??m-w,C=df(D))),this.minRange=w,this.min=C,this.max=m}getClosest(){let l,u;if(this.categories)u=1;else{let g=[];this.series.forEach(function(m){let C=m.closestPointRange,w=m.getColumn("x");w.length===1?g.push(w[0]):m.sorted&&Gt(C)&&m.reserveSpace()&&(u=Gt(u)?Math.min(u,C):C)}),g.length&&(g.sort((m,C)=>m-C),l=bh([g]))}return l&&u?Math.min(l,u):l||u}nameToX(l){let u=br(this.options.categories),g=u?this.categories:this.names,m=l.options.x,C;return l.series.requireSorting=!1,Gt(m)||(m=this.uniqueNames&&g?u?g.indexOf(l.name):ot(g.keys[l.name],-1):l.series.autoIncrement()),m===-1?!u&&g&&(C=g.length):qe(m)&&(C=m),C!==void 0?(this.names[C]=l.name,this.names.keys[l.name]=C):l.x&&(C=l.x),C}updateNames(){let l=this,u=this.names;u.length>0&&(Object.keys(u.keys).forEach(function(g){delete u.keys[g]}),u.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(g=>{g.xIncrement=null,(!g.points||g.isDirtyData)&&(l.max=Math.max(l.max||0,g.dataTable.rowCount-1),g.processData(),g.generatePoints());let m=g.getColumn("x").slice();g.data.forEach((C,w)=>{let y=m[w];C?.options&&C.name!==void 0&&(y=l.nameToX(C))!==void 0&&y!==C.x&&(m[w]=C.x=y)}),g.dataTable.setColumn("x",m)}))}setAxisTranslation(){let l=this,u=l.max-l.min,g=l.linkedParent,m=!!l.categories,C=l.isXAxis,w=l.axisPointRange||0,y,S=0,D=0,P,T=l.transA;(C||m||w)&&(y=l.getClosest(),g?(S=g.minPointOffset,D=g.pointRangePadding):l.series.forEach(function(A){let L=m?1:C?ot(A.options.pointRange,y,0):l.axisPointRange||0,I=A.options.pointPlacement;if(w=Math.max(w,L),!l.single||m){let z=A.is("xrange")?!C:C;S=Math.max(S,z&&Fl(I)?0:L/2),D=Math.max(D,z&&I==="on"?0:L)}}),P=l.ordinal?.slope&&y?l.ordinal.slope/y:1,l.minPointOffset=S*=P,l.pointRangePadding=D*=P,l.pointRange=Math.min(w,l.single&&m?1:u),C&&(l.closestPointRange=y)),l.translationSlope=l.transA=T=l.staticScale||l.len/(u+D||1),l.transB=l.horiz?l.left:l.bottom,l.minPixelPadding=T*S,Kt(this,"afterSetAxisTranslation")}minFromRange(){let{max:l,min:u}=this;return qe(l)&&qe(u)&&l-u||void 0}setTickInterval(l){let{categories:u,chart:g,dataMax:m,dataMin:C,dateTime:w,isXAxis:y,logarithmic:S,options:D,softThreshold:P}=this,T=g.time,A=qe(this.threshold)?this.threshold:void 0,L=this.minRange||0,{ceiling:I,floor:z,linkedTo:B,softMax:N,softMin:$}=D,q=qe(B)&&g[this.coll]?.[B],Z=D.tickPixelInterval,te=D.maxPadding,se=D.minPadding,ne=0,Q,Ce=qe(D.tickInterval)&&D.tickInterval>=0?D.tickInterval:void 0,we,ve,Ge,We;if(w||u||q||this.getTickAmount(),Ge=ot(this.userMin,T.parse(D.min)),We=ot(this.userMax,T.parse(D.max)),q?(this.linkedParent=q,Q=q.getExtremes(),this.min=ot(Q.min,Q.dataMin),this.max=ot(Q.max,Q.dataMax),this.type!==q.type&&Dl(11,!0,g)):(P&&Gt(A)&&qe(m)&&qe(C)&&(C>=A?(we=A,se=0):m<=A&&(ve=A,te=0)),this.min=ot(Ge,we,C),this.max=ot(We,ve,m)),qe(this.max)&&qe(this.min)&&(S&&(this.positiveValuesOnly&&!l&&0>=Math.min(this.min,ot(C,this.min))&&Dl(10,!0,g),this.min=fi(S.log2lin(this.min),16),this.max=fi(S.log2lin(this.max),16)),this.range&&qe(C)&&(this.userMin=this.min=Ge=Math.max(C,this.minFromRange()||0),this.userMax=We=this.max,this.range=void 0)),Kt(this,"foundExtremes"),this.adjustForMinRange(),qe(this.min)&&qe(this.max)){if(!qe(this.userMin)&&qe($)&&$<this.min&&(this.min=Ge=$),!qe(this.userMax)&&qe(N)&&N>this.max&&(this.max=We=N),u||this.axisPointRange||this.stacking?.usePercentage||q||(ne=this.max-this.min)&&(!Gt(Ge)&&se&&(this.min-=ne*se),!Gt(We)&&te&&(this.max+=ne*te)),!qe(this.userMin)&&qe(z)&&(this.min=Math.max(this.min,z)),!qe(this.userMax)&&qe(I)&&(this.max=Math.min(this.max,I)),P&&qe(C)&&qe(m)){let Ie=A||0;!Gt(Ge)&&this.min<Ie&&C>=Ie?this.min=D.minRange?Math.min(Ie,this.max-L):Ie:!Gt(We)&&this.max>Ie&&m<=Ie&&(this.max=D.minRange?Math.max(Ie,this.min+L):Ie)}!g.polar&&this.min>this.max&&(Gt(D.min)?this.max=this.min:Gt(D.max)&&(this.min=this.max)),ne=this.max-this.min}if(this.min!==this.max&&qe(this.min)&&qe(this.max)?q&&!Ce&&Z===q.options.tickPixelInterval?this.tickInterval=Ce=q.tickInterval:this.tickInterval=ot(Ce,this.tickAmount?ne/Math.max(this.tickAmount-1,1):void 0,u?1:ne*Z/Math.max(this.len,Z)):this.tickInterval=1,y&&!l){let Ie=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Ve){Ve.forceCrop=Ve.forceCropping?.(),Ve.processData(Ie)}),Kt(this,"postProcessData",{hasExtremesChanged:Ie})}this.setAxisTranslation(),Kt(this,"initialAxisTranslation"),this.pointRange&&!Ce&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Ke=ot(D.minTickInterval,w&&!this.series.some(Ie=>!Ie.sorted)?this.closestPointRange:0);!Ce&&Ke&&this.tickInterval<Ke&&(this.tickInterval=Ke),w||S||Ce||(this.tickInterval=pu(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let l=this.options,u=l.tickPositions,g=l.tickPositioner,m=this.getMinorTickInterval(),C=!this.isPanning,w=C&&l.startOnTick,y=C&&l.endOnTick,S=[],D;if(this.tickmarkOffset=this.categories&&l.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Gt(this.min)&&!this.tickAmount&&(this.min%1==0||l.allowDecimals!==!1),u)S=u.slice();else if(qe(this.min)&&qe(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))S=[this.min,this.max],Dl(19,!1,this.chart);else if(this.dateTime)S=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,l.units),this.min,this.max,l.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)S=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let P=this.tickInterval,T=P;for(;T<=2*P&&(S=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&S.length>this.tickAmount);)this.tickInterval=pu(this,T*=1.1)}S.length>this.len&&(S=[S[0],S[S.length-1]])[0]===S[1]&&(S.length=1),g&&(this.tickPositions=S,(D=g.apply(this,[this.min,this.max]))&&(S=D))}this.tickPositions=S,this.minorTickInterval=m==="auto"&&this.tickInterval?this.tickInterval/l.minorTicksPerMajor:m,this.paddedTicks=S.slice(0),this.trimTicks(S,w,y),!this.isLinked&&qe(this.min)&&qe(this.max)&&(this.single&&S.length<2&&!this.categories&&!this.series.some(P=>P.is("heatmap")&&P.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),u||D||this.adjustTickAmount()),Kt(this,"afterSetTickPositions")}trimTicks(l,u,g){let m=l[0],C=l[l.length-1],w=!this.isOrdinal&&this.minPointOffset||0;if(Kt(this,"trimTicks"),!this.isLinked||!this.grid){if(u&&m!==-1/0)this.min=m;else for(;this.min-w>l[0];)l.shift();if(g)this.max=C;else for(;this.max+w<l[l.length-1];)l.pop();l.length===0&&Gt(m)&&!this.options.tickPositions&&l.push((C+m)/2)}}alignToOthers(){let l,u=this,g=u.chart,m=[this],C=u.options,w=g.options.chart,y=this.coll==="yAxis"&&w.alignThresholds,S=[];if(u.thresholdAlignment=void 0,(w.alignTicks!==!1&&C.alignTicks||y)&&C.startOnTick!==!1&&C.endOnTick!==!1&&!u.logarithmic){let D=T=>{let{horiz:A,options:L}=T;return[A?L.left:L.top,L.width,L.height,L.pane].join(",")},P=D(this);g[this.coll].forEach(function(T){let{series:A}=T;A.length&&A.some(L=>L.visible)&&T!==u&&D(T)===P&&(l=!0,m.push(T))})}if(l&&y){m.forEach(P=>{let T=P.getThresholdAlignment(u);qe(T)&&S.push(T)});let D=S.length>1?S.reduce((P,T)=>P+=T,0)/S.length:void 0;m.forEach(P=>{P.thresholdAlignment=D})}return l}getThresholdAlignment(l){if((!qe(this.dataMin)||this!==l&&this.series.some(u=>u.isDirty||u.isDirtyData))&&this.getSeriesExtremes(),qe(this.threshold)){let u=Ml((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(u=1-u),u}}getTickAmount(){let l=this.options,u=l.tickPixelInterval,g=l.tickAmount;Gt(l.tickInterval)||g||!(this.len<u)||this.isRadial||this.logarithmic||!l.startOnTick||!l.endOnTick||(g=2),!g&&this.alignToOthers()&&(g=Math.ceil(this.len/u)+1),g<4&&(this.finalTickAmt=g,g=5),this.tickAmount=g}adjustTickAmount(){let l=this,{finalTickAmt:u,max:g,min:m,options:C,tickPositions:w,tickAmount:y,thresholdAlignment:S}=l,D=w?.length,P=ot(l.threshold,l.softThreshold?0:null),T,A,L=l.tickInterval,I,z=()=>w.push(fi(w[w.length-1]+L)),B=()=>w.unshift(fi(w[0]-L));if(qe(S)&&(I=S<.5?Math.ceil(S*(y-1)):Math.floor(S*(y-1)),C.reversed&&(I=y-1-I)),l.hasData()&&qe(m)&&qe(g)){let N=()=>{l.transA*=(D-1)/(y-1),l.min=C.startOnTick?w[0]:Math.min(m,w[0]),l.max=C.endOnTick?w[w.length-1]:Math.max(g,w[w.length-1])};if(qe(I)&&qe(l.threshold)){for(;w[I]!==P||w.length!==y||w[0]>m||w[w.length-1]<g;){for(w.length=0,w.push(l.threshold);w.length<y;)w[I]===void 0||w[I]>l.threshold?B():z();if(L>8*l.tickInterval)break;L*=2}N()}else if(D<y){for(;w.length<y;)w.length%2||m===P?z():B();N()}if(Gt(u)){for(A=T=w.length;A--;)(u===3&&A%2==1||u<=2&&A>0&&A<T-1)&&w.splice(A,1);l.finalTickAmt=void 0}}}setScale(){let{coll:l,stacking:u}=this,g=!1,m=!1;this.series.forEach(w=>{g=g||w.isDirtyData||w.isDirty,m=m||w.xAxis?.isDirty||!1}),this.setAxisSize();let C=this.len!==this.old?.len;C||g||m||this.isLinked||this.forceRedraw||this.userMin!==this.old?.userMin||this.userMax!==this.old?.userMax||this.alignToOthers()?(u&&l==="yAxis"&&u.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),u&&l==="xAxis"&&u.buildStacks(),this.isDirty||(this.isDirty=C||this.min!==this.old?.min||this.max!==this.old?.max)):u&&u.cleanStacks(),g&&delete this.allExtremes,Kt(this,"afterSetScale")}setExtremes(l,u,g=!0,m,C){let w=this.chart;this.series.forEach(y=>{delete y.kdTree}),l=w.time.parse(l),u=w.time.parse(u),Kt(this,"setExtremes",C=Tl(C,{min:l,max:u}),y=>{this.userMin=y.min,this.userMax=y.max,this.eventArgs=y,g&&w.redraw(m)})}setAxisSize(){let l=this.chart,u=this.options,g=u.offsets||[0,0,0,0],m=this.horiz,C=this.width=Math.round(Ms(ot(u.width,l.plotWidth-g[3]+g[1]),l.plotWidth)),w=this.height=Math.round(Ms(ot(u.height,l.plotHeight-g[0]+g[2]),l.plotHeight)),y=this.top=Math.round(Ms(ot(u.top,l.plotTop+g[0]),l.plotHeight,l.plotTop)),S=this.left=Math.round(Ms(ot(u.left,l.plotLeft+g[3]),l.plotWidth,l.plotLeft));this.bottom=l.chartHeight-w-y,this.right=l.chartWidth-C-S,this.len=Math.max(m?C:w,0),this.pos=m?S:y}getExtremes(){let l=this.logarithmic;return{min:l?fi(l.lin2log(this.min)):this.min,max:l?fi(l.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(l){let u=this.logarithmic,g=u?u.lin2log(this.min):this.min,m=u?u.lin2log(this.max):this.max;return l===null||l===-1/0?l=g:l===1/0?l=m:g>l?l=g:m<l&&(l=m),this.translate(l,0,1,0,1)}autoLabelAlign(l){let u=(ot(l,0)-90*this.side+720)%360,g={align:"center"};return Kt(this,"autoLabelAlign",g,function(m){u>15&&u<165?m.align="right":u>195&&u<345&&(m.align="left")}),g.align}tickSize(l){let u=this.options,g=ot(u[l==="tick"?"tickWidth":"minorTickWidth"],l==="tick"&&this.isXAxis&&!this.categories?1:0),m=u[l==="tick"?"tickLength":"minorTickLength"],C;g&&m&&(u[l+"Position"]==="inside"&&(m=-m),C=[m,g]);let w={tickSize:C};return Kt(this,"afterTickSize",w),w.tickSize}labelMetrics(){let l=this.chart.renderer,u=this.ticks,g=u[Object.keys(u)[0]]||{};return this.chart.renderer.fontMetrics(g.label||g.movedLabel||l.box)}unsquish(){let l=this.options.labels,u=l.padding||0,g=this.horiz,m=this.tickInterval,C=this.len/((+!!this.categories+this.max-this.min)/m),w=l.rotation,y=fi(.8*this.labelMetrics().h),S=Math.max(this.max-this.min,0),D=function(I){let z=(I+2*u)/(C||1);return(z=z>1?Math.ceil(z):1)*m>S&&I!==1/0&&C!==1/0&&S&&(z=Math.ceil(S/m)),fi(z*m)},P=m,T,A=Number.MAX_VALUE,L;if(g){if(!l.staggerLines&&(qe(w)?L=[w]:C<l.autoRotationLimit&&(L=l.autoRotation)),L){let I,z;for(let B of L)(B===w||B&&B>=-90&&B<=90)&&(z=(I=D(Math.abs(y/Math.sin(xa*B))))+Math.abs(B/360))<A&&(A=z,T=B,P=I)}}else P=D(.75*y);return this.autoRotation=L,this.labelRotation=ot(T,qe(w)?w:0),l.step?m:P}getSlotWidth(l){let u=this.chart,g=this.horiz,m=this.options.labels,C=Math.max(this.tickPositions.length-!this.categories,1),w=u.margin[3];if(l&&qe(l.slotWidth))return l.slotWidth;if(g&&m.step<2&&!this.isRadial)return m.rotation?0:(this.staggerLines||1)*this.len/C;if(!g){let y=m.style.width;if(y!==void 0)return parseInt(String(y),10);if(!this.opposite&&w)return w-u.spacing[3]}return .33*u.chartWidth}renderUnsquish(){let l=this.chart,u=l.renderer,g=this.tickPositions,m=this.ticks,C=this.options.labels,w=C.style,y=this.horiz,S=this.getSlotWidth(),D=Math.max(1,Math.round(S-(y?2*(C.padding||0):C.distance||0))),P={},T=this.labelMetrics(),A=w.lineClamp,L,I=A??(Math.floor(this.len/(g.length*T.h))||1),z=0;Fl(C.rotation)||(P.rotation=C.rotation||0),g.forEach(function(B){let N=m[B];N.movedLabel&&N.replaceMovedLabel();let $=N.label?.textPxLength||0;$>z&&(z=$)}),this.maxLabelLength=z,this.autoRotation?z>D&&z>T.h?P.rotation=this.labelRotation:this.labelRotation=0:S&&(L=D),P.rotation&&(L=z>.5*l.chartHeight?.33*l.chartHeight:z,A||(I=1)),this.labelAlign=C.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(P.align=this.labelAlign),g.forEach(function(B){let N=m[B],$=N?.label,q=w.width,Z={};$&&($.attr(P),N.shortenLabel?N.shortenLabel():L&&!q&&w.whiteSpace!=="nowrap"&&(L<($.textPxLength||0)||$.element.tagName==="SPAN")?$.css(Tl(Z,{width:`${L}px`,lineClamp:I})):!$.styles.width||Z.width||q||$.css({width:"auto"}),N.rotation=P.rotation)},this),this.tickRotCorr=u.rotCorr(T.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(l){return l.hasData()})||this.options.showEmpty&&Gt(this.min)&&Gt(this.max)}addTitle(l){let u,g=this.chart.renderer,m=this.horiz,C=this.opposite,w=this.options.title,y=this.chart.styledMode;this.axisTitle||((u=w.textAlign)||(u=(m?{low:"left",middle:"center",high:"right"}:{low:C?"right":"left",middle:"center",high:C?"left":"right"})[w.align]),this.axisTitle=g.text(w.text||"",0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:u}).addClass("highcharts-axis-title"),y||this.axisTitle.css(Fo(w.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),y||w.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[l?"show":"hide"](l)}generateTick(l){let u=this.ticks;u[l]?u[l].addLabel():u[l]=new Yn(this,l)}createGroups(){let{axisParent:l,chart:u,coll:g,options:m}=this,C=u.renderer,w=(y,S,D)=>C.g(y).attr({zIndex:D}).addClass(`highcharts-${g.toLowerCase()}${S} `+(this.isRadial?`highcharts-radial-axis${S} `:"")+(m.className||"")).add(l);this.axisGroup||(this.gridGroup=w("grid","-grid",m.gridZIndex),this.axisGroup=w("axis","",m.zIndex),this.labelGroup=w("axis-labels","-labels",m.labels.zIndex))}getOffset(){let l=this,{chart:u,horiz:g,options:m,side:C,ticks:w,tickPositions:y,coll:S}=l,D=u.inverted&&!l.isZAxis?[1,0,3,2][C]:C,P=l.hasData(),T=m.title,A=m.labels,L=qe(m.crossing),I=u.axisOffset,z=u.clipOffset,B=[-1,1,1,-1][C],N,$=0,q,Z=0,te=0,se,ne;if(l.showAxis=N=P||m.showEmpty,l.staggerLines=l.horiz&&A.staggerLines||void 0,l.createGroups(),P||l.isLinked?(y.forEach(function(Q){l.generateTick(Q)}),l.renderUnsquish(),l.reserveSpaceDefault=C===0||C===2||{1:"left",3:"right"}[C]===l.labelAlign,ot(A.reserveSpace,!L&&null,l.labelAlign==="center"||null,l.reserveSpaceDefault)&&y.forEach(function(Q){te=Math.max(w[Q].getLabelSize(),te)}),l.staggerLines&&(te*=l.staggerLines),l.labelOffset=te*(l.opposite?-1:1)):is(w,function(Q,Ce){Q.destroy(),delete w[Ce]}),T?.text&&T.enabled!==!1&&(l.addTitle(N),N&&!L&&T.reserveSpace!==!1&&(l.titleOffset=$=l.axisTitle.getBBox()[g?"height":"width"],Z=Gt(q=T.offset)?0:ot(T.margin,g?5:10))),l.renderLine(),l.offset=B*ot(m.offset,I[C]?I[C]+(m.margin||0):0),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},ne=C===0?-l.labelMetrics().h:C===2?l.tickRotCorr.y:0,se=Math.abs(te)+Z,te&&(se-=ne,se+=B*(g?ot(A.y,l.tickRotCorr.y+B*A.distance):ot(A.x,B*A.distance))),l.axisTitleMargin=ot(q,se),l.getMaxLabelDimensions&&(l.maxLabelDimensions=l.getMaxLabelDimensions(w,y)),S!=="colorAxis"&&z){let Q=this.tickSize("tick");I[C]=Math.max(I[C],(l.axisTitleMargin||0)+$+B*l.offset,se,y?.length&&Q?Q[0]+B*l.offset:0);let Ce=!l.axisLine||m.offset?0:l.axisLine.strokeWidth()/2;z[D]=Math.max(z[D],Ce)}Kt(this,"afterGetOffset")}getLinePath(l){let u=this.chart,g=this.opposite,m=this.offset,C=this.horiz,w=this.left+(g?this.width:0)+m,y=u.chartHeight-this.bottom-(g?this.height:0)+m;return g&&(l*=-1),u.renderer.crispLine([["M",C?this.left:w,C?y:this.top],["L",C?u.chartWidth-this.right:w,C?y:u.chartHeight-this.bottom]],l)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(l){let u=this.horiz,g=this.left,m=this.top,C=this.len,w=this.options.title,y=u?g:m,S=this.opposite,D=this.offset,P=w.x,T=w.y,A=this.chart.renderer.fontMetrics(l),L=l?Math.max(l.getBBox(!1,0).height-A.h-1,0):0,I={low:y+(u?0:C),middle:y+C/2,high:y+(u?C:0)}[w.align],z=(u?m+this.height:g)+(u?1:-1)*(S?-1:1)*(this.axisTitleMargin||0)+[-L,L,A.f,-L][this.side],B={x:u?I+P:z+(S?this.width:0)+D+P,y:u?z+T-(S?this.height:0)+D:I+T};return Kt(this,"afterGetTitlePosition",{titlePosition:B}),B}renderMinorTick(l,u){let g=this.minorTicks;g[l]||(g[l]=new Yn(this,l,"minor")),u&&g[l].isNew&&g[l].render(null,!0),g[l].render(null,!1,1)}renderTick(l,u,g){let m=this.isLinked,C=this.ticks;(!m||l>=this.min&&l<=this.max||this.grid?.isColumn)&&(C[l]||(C[l]=new Yn(this,l)),g&&C[l].isNew&&C[l].render(u,!0,-1),C[l].render(u))}render(){let l,u,g=this,m=g.chart,C=g.logarithmic,w=m.renderer,y=g.options,S=g.isLinked,D=g.tickPositions,P=g.axisTitle,T=g.ticks,A=g.minorTicks,L=g.alternateBands,I=y.stackLabels,z=y.alternateGridColor,B=y.crossing,N=g.tickmarkOffset,$=g.axisLine,q=g.showAxis,Z=cu(w.globalAnimation);if(g.labelEdge.length=0,g.overlap=!1,[T,A,L].forEach(function(te){is(te,function(se){se.isActive=!1})}),qe(B)){let te=this.isXAxis?m.yAxis[0]:m.xAxis[0],se=[1,-1,-1,1][this.side];if(te){let ne=te.toPixels(B,!0);g.horiz&&(ne=te.len-ne),g.offset=se*ne}}if(g.hasData()||S){let te=g.chart.hasRendered&&g.old&&qe(g.old.min);g.minorTickInterval&&!g.categories&&g.getMinorTickPositions().forEach(function(se){g.renderMinorTick(se,te)}),D.length&&(D.forEach(function(se,ne){g.renderTick(se,ne,te)}),N&&(g.min===0||g.single)&&(T[-1]||(T[-1]=new Yn(g,-1,null,!0)),T[-1].render(-1))),z&&D.forEach(function(se,ne){u=D[ne+1]!==void 0?D[ne+1]+N:g.max-N,ne%2==0&&se<g.max&&u<=g.max+(m.polar?-N:N)&&(L[se]||(L[se]=new ie.PlotLineOrBand(g,{})),l=se+N,L[se].options={from:C?C.lin2log(l):l,to:C?C.lin2log(u):u,color:z,className:"highcharts-alternate-grid"},L[se].render(),L[se].isActive=!0)}),g._addedPlotLB||(g._addedPlotLB=!0,(y.plotLines||[]).concat(y.plotBands||[]).forEach(function(se){g.addPlotBandOrLine(se)}))}[T,A,L].forEach(function(te){let se=[],ne=Z.duration;is(te,function(Q,Ce){Q.isActive||(Q.render(Ce,!1,0),Q.isActive=!1,se.push(Ce))}),hf(function(){let Q=se.length;for(;Q--;)te[se[Q]]&&!te[se[Q]].isActive&&(te[se[Q]].destroy(),delete te[se[Q]])},te!==L&&m.hasRendered&&ne?ne:0)}),$&&($[$.isPlaced?"animate":"attr"]({d:this.getLinePath($.strokeWidth())}),$.isPlaced=!0,$[q?"show":"hide"](q)),P&&q&&(P[P.isNew?"attr":"animate"](g.getTitlePosition(P)),P.isNew=!1),I?.enabled&&g.stacking&&g.stacking.renderStackTotals(),g.old={len:g.len,max:g.max,min:g.min,transA:g.transA,userMax:g.userMax,userMin:g.userMin},g.isDirty=!1,Kt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(l){l.render()})),this.series.forEach(function(l){l.isDirty=!0})}getKeepProps(){return this.keepProps||Po.keepProps}destroy(l){let u=this,g=u.plotLinesAndBands,m=this.eventOptions;if(Kt(this,"destroy",{keepEvents:l}),l||vn(u),[u.ticks,u.minorTicks,u.alternateBands].forEach(function(C){gu(C)}),g){let C=g.length;for(;C--;)g[C].destroy()}for(let C in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(w){u[w]&&(u[w]=u[w].destroy())}),u.plotLinesAndBandsGroups)u.plotLinesAndBandsGroups[C]=u.plotLinesAndBandsGroups[C].destroy();is(u,function(C,w){u.getKeepProps().indexOf(w)===-1&&delete u[w]}),this.eventOptions=m}drawCrosshair(l,u){let g=this.crosshair,m=g?.snap??!0,C=this.chart,w,y,S,D=this.cross,P;if(Kt(this,"drawCrosshair",{e:l,point:u}),l||(l=this.cross?.e),g&&(Gt(u)||!m)!==!1){if(m?Gt(u)&&(y=ot(this.coll!=="colorAxis"?u.crosshairPos:null,this.isXAxis?u.plotX:this.len-u.plotY)):y=l&&(this.horiz?l.chartX-this.pos:this.len-l.chartY+this.pos),Gt(y)&&(P={value:u&&(this.isXAxis?u.x:ot(u.stackY,u.y)),translatedValue:y},C.polar&&Tl(P,{isCrosshair:!0,chartX:l?.chartX,chartY:l?.chartY,point:u}),w=this.getPlotLinePath(P)||null),!Gt(w))return void this.hideCrosshair();S=this.categories&&!this.isRadial,D||(this.cross=D=C.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(S?"category ":"thin ")+(g.className||"")).attr({zIndex:ot(g.zIndex,2)}).add(),!C.styledMode&&(D.attr({stroke:g.color||(S?Vt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":ot(g.width,1)}).css({"pointer-events":"none"}),g.dashStyle&&D.attr({dashstyle:g.dashStyle}))),D.show().attr({d:w}),S&&!g.width&&D.attr({"stroke-width":this.transA}),this.cross.e=l}else this.hideCrosshair();Kt(this,"afterDrawCrosshair",{e:l,point:u})}hideCrosshair(){this.cross&&this.cross.hide(),Kt(this,"afterHideCrosshair")}update(l,u){let g=this.chart;l=Fo(this.userOptions,l),this.destroy(!0),this.init(g,l),g.isDirtyBox=!0,ot(u,!0)&&g.redraw()}remove(l){let u=this.chart,g=this.coll,m=this.series,C=m.length;for(;C--;)m[C]&&m[C].remove(!1);To(u.axes,this),To(u[g]||[],this),u.orderItems(g),this.destroy(),u.isDirtyBox=!0,ot(l,!0)&&u.redraw()}setTitle(l,u){this.update({title:l},u)}setCategories(l,u){this.update({categories:l},u)}}Po.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:gf,getMagnitude:Gi,normalizeTickInterval:Xt,timeUnits:Ct}=ze;(function(E){function l(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function u(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new g(this))}E.compose=function(m){return m.keepProps.includes("dateTime")||(m.keepProps.push("dateTime"),m.prototype.getTimeTicks=l,gf(m,"afterSetType",u)),m};class g{constructor(C){this.axis=C}normalizeTimeTickInterval(C,w){let y=w||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=y[y.length-1],D=Ct[S[0]],P=S[1],T;for(T=0;T<y.length&&(D=Ct[(S=y[T])[0]],P=S[1],!y[T+1]||!(C<=(D*P[P.length-1]+Ct[y[T+1][0]])/2));T++);D===Ct.year&&C<5*D&&(P=[1,2,5]);let A=Xt(C/D,P,S[0]==="year"?Math.max(Gi(C/D),1):1);return{unitRange:D,count:A,unitName:S[0]}}getXDateFormat(C,w){let{axis:y}=this,S=y.chart.time;return y.closestPointRange?S.getDateFormat(y.closestPointRange,C,y.options.startOfWeek,w)||S.resolveDTLFormat(w.year).main:S.resolveDTLFormat(w.day).main}}E.Additions=g})(v||(v={}));let Ao=v,{addEvent:Ds,normalizeTickInterval:Sh,pick:ko}=ze;(function(E){function l(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new g(this))}function u(){let m=this.logarithmic;m&&(this.lin2val=function(C){return m.lin2log(C)},this.val2lin=function(C){return m.log2lin(C)})}E.compose=function(m){return m.keepProps.includes("logarithmic")||(m.keepProps.push("logarithmic"),Ds(m,"afterSetType",l),Ds(m,"afterInit",u)),m};class g{constructor(C){this.axis=C}getLogTickPositions(C,w,y,S){let D=this.axis,P=D.len,T=D.options,A=[];if(S||(this.minorAutoInterval=void 0),C>=.5)C=Math.round(C),A=D.getLinearTickPositions(C,w,y);else if(C>=.08){let L,I,z,B,N,$,q,Z=Math.floor(w);for(L=C>.3?[1,2,4]:C>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],I=Z;I<y+1&&!q;I++)for(z=0,B=L.length;z<B&&!q;z++)(N=this.log2lin(this.lin2log(I)*L[z]))>w&&(!S||$<=y)&&$!==void 0&&A.push($),$>y&&(q=!0),$=N}else{let L=this.lin2log(w),I=this.lin2log(y),z=S?D.getMinorTickInterval():T.tickInterval,B=T.tickPixelInterval/(S?5:1),N=S?P/D.tickPositions.length:P;C=Sh(C=ko(z==="auto"?null:z,this.minorAutoInterval,(I-L)*B/(N||1))),A=D.getLinearTickPositions(C,L,I).map(this.log2lin),S||(this.minorAutoInterval=C/5)}return S||(D.tickInterval=C),A}lin2log(C){return Math.pow(10,C)}log2lin(C){return Math.log(C)/Math.LN10}}E.Additions=g})(b||(b={}));let pf=b,{erase:ff,extend:Ra,isNumber:Lo}=ze;(function(E){let l;function u(D){return this.addPlotBandOrLine(D,"plotBands")}function g(D,P){let T=this.userOptions,A=new l(this,D);if(this.visible&&(A=A.render()),A){if(this._addedPlotLB||(this._addedPlotLB=!0,(T.plotLines||[]).concat(T.plotBands||[]).forEach(L=>{this.addPlotBandOrLine(L)})),P){let L=T[P]||[];L.push(D),T[P]=L}this.plotLinesAndBands.push(A)}return A}function m(D){return this.addPlotBandOrLine(D,"plotLines")}function C(D,P,T){T=T||this.options;let A=this.getPlotLinePath({value:P,force:!0,acrossPanes:T.acrossPanes}),L=[],I=this.horiz,z=!Lo(this.min)||!Lo(this.max)||D<this.min&&P<this.min||D>this.max&&P>this.max,B=this.getPlotLinePath({value:D,force:!0,acrossPanes:T.acrossPanes}),N,$=1,q;if(B&&A)for(z&&(q=B.toString()===A.toString(),$=0),N=0;N<B.length;N+=2){let Z=B[N],te=B[N+1],se=A[N],ne=A[N+1];(Z[0]==="M"||Z[0]==="L")&&(te[0]==="M"||te[0]==="L")&&(se[0]==="M"||se[0]==="L")&&(ne[0]==="M"||ne[0]==="L")&&(I&&se[1]===Z[1]?(se[1]+=$,ne[1]+=$):I||se[2]!==Z[2]||(se[2]+=$,ne[2]+=$),L.push(["M",Z[1],Z[2]],["L",te[1],te[2]],["L",ne[1],ne[2]],["L",se[1],se[2]],["Z"])),L.isFlat=q}return L}function w(D){this.removePlotBandOrLine(D)}function y(D){let P=this.plotLinesAndBands,T=this.options,A=this.userOptions;if(P){let L=P.length;for(;L--;)P[L].id===D&&P[L].destroy();[T.plotLines||[],A.plotLines||[],T.plotBands||[],A.plotBands||[]].forEach(function(I){for(L=I.length;L--;)I[L]?.id===D&&ff(I,I[L])})}}function S(D){this.removePlotBandOrLine(D)}E.compose=function(D,P){let T=P.prototype;return T.addPlotBand||(l=D,Ra(T,{addPlotBand:u,addPlotLine:m,addPlotBandOrLine:g,getPlotBandPath:C,removePlotBand:w,removePlotLine:S,removePlotBandOrLine:y})),P}})(R||(R={}));let xh=R,{addEvent:Pl,arrayMax:fu,arrayMin:Oo,defined:ki,destroyObjectProperties:Io,erase:Zn,fireEvent:Rh,merge:mu,objectEach:Ea,pick:Cu}=ze;class wn{static compose(l,u){return Pl(l,"afterInit",function(){this.labelCollectors.push(()=>{let g=[];for(let m of this.axes)for(let{label:C,options:w}of m.plotLinesAndBands)C&&!w?.label?.allowOverlap&&g.push(C);return g})}),xh.compose(wn,u)}constructor(l,u){this.axis=l,this.options=u,this.id=u.id}render(){Rh(this,"render");let{axis:l,options:u}=this,{horiz:g,logarithmic:m}=l,{color:C,events:w,zIndex:y=0}=u,{renderer:S,time:D}=l.chart,P={},T=D.parse(u.to),A=D.parse(u.from),L=D.parse(u.value),I=u.borderWidth,z=u.label,{label:B,svgElem:N}=this,$=[],q,Z=ki(A)&&ki(T),te=ki(L),se=!N,ne={class:"highcharts-plot-"+(Z?"band ":"line ")+(u.className||"")},Q=Z?"bands":"lines";if(!l.chart.styledMode&&(te?(ne.stroke=C||"#999999",ne["stroke-width"]=Cu(u.width,1),u.dashStyle&&(ne.dashstyle=u.dashStyle)):Z&&(ne.fill=C||"#e6e9ff",I&&(ne.stroke=u.borderColor,ne["stroke-width"]=I))),P.zIndex=y,Q+="-"+y,(q=l.plotLinesAndBandsGroups[Q])||(l.plotLinesAndBandsGroups[Q]=q=S.g("plot-"+Q).attr(P).add()),N||(this.svgElem=N=S.path().attr(ne).add(q)),ki(L))$=l.getPlotLinePath({value:m?.log2lin(L)??L,lineWidth:N.strokeWidth(),acrossPanes:u.acrossPanes});else{if(!(ki(A)&&ki(T)))return;$=l.getPlotBandPath(m?.log2lin(A)??A,m?.log2lin(T)??T,u)}return!this.eventsAdded&&w&&(Ea(w,(Ce,we)=>{N?.on(we,ve=>{w[we].apply(this,[ve])})}),this.eventsAdded=!0),(se||!N.d)&&$?.length?N.attr({d:$}):N&&($?(N.show(),N.animate({d:$})):N.d&&(N.hide(),B&&(this.label=B=B.destroy()))),z&&(ki(z.text)||ki(z.formatter))&&$?.length&&l.width>0&&l.height>0&&!$.isFlat?(z=mu({align:g&&Z?"center":void 0,x:g?!Z&&4:10,verticalAlign:!g&&Z?"middle":void 0,y:g?Z?16:10:Z?6:-4,rotation:g&&!Z?90:0,...Z?{inside:!0}:{}},z),this.renderLabel(z,$,Z,y)):B&&B.hide(),this}renderLabel(l,u,g,m){let C=this.axis,w=C.chart.renderer,y=l.inside,S=this.label;S||(this.label=S=w.text(this.getLabelText(l),0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,class:"highcharts-plot-"+(g?"band":"line")+"-label "+(l.className||""),zIndex:m}),C.chart.styledMode||S.css(mu({color:C.chart.options.title?.style?.color,fontSize:"0.8em",textOverflow:g&&!y?"":"ellipsis"},l.style)),S.add());let D=u.xBounds||[u[0][1],u[1][1],g?u[2][1]:u[0][1]],P=u.yBounds||[u[0][2],u[1][2],g?u[2][2]:u[0][2]],T=Oo(D),A=Oo(P),L=fu(D)-T;S.align(l,!1,{x:T,y:A,width:L,height:fu(P)-A}),S.alignAttr.y-=w.fontMetrics(S).b,(!S.alignValue||S.alignValue==="left"||ki(y))&&S.css({width:(l.style?.width||(g&&y?L:S.rotation===90?C.height-(S.alignAttr.y-C.top):(l.clip?C.width:C.chart.chartWidth)-(S.alignAttr.x-C.left)))+"px"}),S.show(!0)}getLabelText(l){return ki(l.formatter)?l.formatter.call(this):l.text}destroy(){Zn(this.axis.plotLinesAndBands,this),delete this.axis,Io(this)}}let{animObject:Bi}=Pi,{format:Al}=Ss,{composed:mf,dateFormats:Av,doc:Cf,isSafari:kv}=ie,{distribute:bi}=ha,{addEvent:Eh,clamp:yn,css:Ma,discardElement:Mh,extend:Da,fireEvent:Ho,getAlignFactor:vf,isArray:wf,isNumber:Lv,isObject:yf,isString:Qn,merge:Dh,pick:Jn,pushUnique:bf,splat:No,syncTimeout:Th}=ze;class Ta{constructor(l,u,g){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=l,this.init(l,u),this.pointer=g}bodyFormatter(l){return l.map(u=>{let g=u.series.tooltipOptions,m=u.formatPrefix||"point";return(g[m+"Formatter"]||u.tooltipFormatter).call(u,g[m+"Format"]||"")})}cleanSplit(l){this.chart.series.forEach(function(u){let g=u?.tt;g&&(!g.isActive||l?u.tt=g.destroy():g.isActive=!1)})}defaultFormatter(l){let u,g=this.points||No(this);return(u=(u=[l.headerFooterFormatter(g[0])]).concat(l.bodyFormatter(g))).push(l.headerFooterFormatter(g[0],!0)),u}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Mh(this.container)),ze.clearTimeout(this.hideTimer)}getAnchor(l,u){let g,{chart:m,pointer:C}=this,w=m.inverted,y=m.plotTop,S=m.plotLeft;if(l=No(l),l[0].series?.yAxis&&!l[0].series.yAxis.options.reversedStacks&&(l=l.slice().reverse()),this.followPointer&&u)u.chartX===void 0&&(u=C.normalize(u)),g=[u.chartX-S,u.chartY-y];else if(l[0].tooltipPos)g=l[0].tooltipPos;else{let P=0,T=0;l.forEach(function(A){let L=A.pos(!0);L&&(P+=L[0],T+=L[1])}),P/=l.length,T/=l.length,this.shared&&l.length>1&&u&&(w?P=u.chartX:T=u.chartY),g=[P-S,T-y]}let D={point:l[0],ret:g};return Ho(this,"getAnchor",D),D.ret.map(Math.round)}getClassName(l,u,g){let m=this.options,C=l.series,w=C.options;return[m.className,"highcharts-label",g&&"highcharts-tooltip-header",u?"highcharts-tooltip-box":"highcharts-tooltip",!g&&"highcharts-color-"+Jn(l.colorIndex,C.colorIndex),w?.className].filter(Qn).join(" ")}getLabel({anchorX:l,anchorY:u}={anchorX:0,anchorY:0}){let g=this,m=this.chart.styledMode,C=this.options,w=this.split&&this.allowShared,y=this.container,S=this.chart.renderer;if(this.label){let D=!this.label.hasClass("highcharts-label");(!w&&D||w&&!D)&&this.destroy()}if(!this.label){if(this.outside){let D=this.chart,P=D.options.chart.style,T=ua.getRendererType();this.container=y=ie.doc.createElement("div"),y.className="highcharts-tooltip-container "+(D.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Ma(y,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(P?.zIndex||0)+3)}),this.renderer=S=new T(y,0,0,P,void 0,void 0,S.styledMode)}if(w?this.label=S.g("tooltip"):(this.label=S.label("",l,u,C.shape||"callout",void 0,void 0,C.useHTML,void 0,"tooltip").attr({padding:C.padding,r:C.borderRadius}),m||this.label.attr({fill:C.backgroundColor,"stroke-width":C.borderWidth||0}).css(C.style).css({pointerEvents:C.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),g.outside){let D=this.label;[D.xSetter,D.ySetter].forEach((P,T)=>{D[T?"ySetter":"xSetter"]=A=>{P.call(D,g.distance),D[T?"y":"x"]=A,y&&(y.style[T?"top":"left"]=`${A}px`)}})}this.label.attr({zIndex:8}).shadow(C.shadow??!C.fixed).add()}return y&&!y.parentElement&&ie.doc.body.appendChild(y),this.label}getPlayingField(){let{body:l,documentElement:u}=Cf,{chart:g,distance:m,outside:C}=this;return{width:C?Math.max(l.scrollWidth,u.scrollWidth,l.offsetWidth,u.offsetWidth,u.clientWidth)-2*m-2:g.chartWidth,height:C?Math.max(l.scrollHeight,u.scrollHeight,l.offsetHeight,u.offsetHeight,u.clientHeight):g.chartHeight}}getPosition(l,u,g){let{distance:m,chart:C,outside:w,pointer:y}=this,{inverted:S,plotLeft:D,plotTop:P,polar:T}=C,{plotX:A=0,plotY:L=0}=g,I={},z=S&&g.h||0,{height:B,width:N}=this.getPlayingField(),$=y.getChartPosition(),q=Ie=>Ie*$.scaleX,Z=Ie=>Ie*$.scaleY,te=Ie=>{let Ve=Ie==="x";return[Ie,Ve?N:B,Ve?l:u].concat(w?[Ve?q(l):Z(u),Ve?$.left-m+q(A+D):$.top-m+Z(L+P),0,Ve?N:B]:[Ve?l:u,Ve?A+D:L+P,Ve?D:P,Ve?D+C.plotWidth:P+C.plotHeight])},se=te("y"),ne=te("x"),Q,Ce=!!g.negative;!T&&C.hoverSeries?.yAxis?.reversed&&(Ce=!Ce);let we=!this.followPointer&&Jn(g.ttBelow,!T&&!S===Ce),ve=function(Ie,Ve,Ue,It,gt,zi,nt){let et=w?Ie==="y"?Z(m):q(m):m,bt=(Ue-It)/2,ut=It<gt-m,zt=gt+m+It<Ve,_t=gt-et-Ue+bt,pt=gt+et-bt;if(we&&zt)I[Ie]=pt;else if(!we&&ut)I[Ie]=_t;else if(ut)I[Ie]=Math.min(nt-It,_t-z<0?_t:_t-z);else{if(!zt)return I[Ie]=0,!1;I[Ie]=Math.max(zi,pt+z+Ue>Ve?pt:pt+z)}},Ge=function(Ie,Ve,Ue,It,gt){if(gt<m||gt>Ve-m)return!1;gt<Ue/2?I[Ie]=1:gt>Ve-It/2?I[Ie]=Ve-It-2:I[Ie]=gt-Ue/2},We=function(Ie){[se,ne]=[ne,se],Q=Ie},Ke=()=>{ve.apply(0,se)!==!1?Ge.apply(0,ne)!==!1||Q||(We(!0),Ke()):Q?I.x=I.y=0:(We(!0),Ke())};return(S&&!T||this.len>1)&&We(),Ke(),I}getFixedPosition(l,u,g){let m=g.series,{chart:C,options:w,split:y}=this,S=w.position,D=S.relativeTo,P=w.shared||m?.yAxis?.isRadial&&(D==="pane"||!D)?"plotBox":D,T=P==="chart"?C.renderer:C[P]||C.getClipBox(m,!0);return{x:T.x+(T.width-l)*vf(S.align)+S.x,y:T.y+(T.height-u)*vf(S.verticalAlign)+(!y&&S.y||0)}}hide(l){let u=this;ze.clearTimeout(this.hideTimer),l=Jn(l,this.options.hideDelay),this.isHidden||(this.hideTimer=Th(function(){let g=u.getLabel();u.getLabel().animate({opacity:0},{duration:l&&150,complete:()=>{g.hide(),u.container&&u.container.remove()}}),u.isHidden=!0},l))}init(l,u){this.chart=l,this.options=u,this.crosshairs=[],this.isHidden=!0,this.split=u.split&&!l.inverted&&!l.polar,this.shared=u.shared||this.split,this.outside=Jn(u.outside,!!(l.scrollablePixelsX||l.scrollablePixelsY))}shouldStickOnContact(l){return!!(!this.followPointer&&this.options.stickOnContact&&(!l||this.pointer.inClass(l.target,"highcharts-tooltip")))}move(l,u,g,m){let{followPointer:C,options:w}=this,y=Bi(!C&&!this.isHidden&&!w.fixed&&w.animation),S=C||(this.len||0)>1,D={x:l,y:u};S?D.anchorX=D.anchorY=NaN:(D.anchorX=g,D.anchorY=m),y.step=()=>this.drawTracker(),this.getLabel().animate(D,y)}refresh(l,u){let{chart:g,options:m,pointer:C,shared:w}=this,y=No(l),S=y[0],D=m.format,P=m.formatter||this.defaultFormatter,T=g.styledMode,A=this.allowShared;if(!m.enabled||!S.series)return;ze.clearTimeout(this.hideTimer),this.allowShared=!(!wf(l)&&l.series&&l.series.noSharedTooltip),A=A&&!this.allowShared,this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;let L=this.getAnchor(l,u),I=L[0],z=L[1];w&&this.allowShared&&(C.applyInactiveState(y),y.forEach($=>$.setState("hover")),S.points=y),this.len=y.length;let B=Qn(D)?Al(D,S,g):P.call(S,this);S.points=void 0;let N=S.series;if(this.distance=Jn(N.tooltipOptions.distance,16),B===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(B,y);else{let $=I,q=z;if(u&&C.isDirectTouch&&($=u.chartX-g.plotLeft,q=u.chartY-g.plotTop),!(g.polar||N.options.clip===!1||y.some(Z=>C.isDirectTouch||Z.series.shouldShowTooltip($,q))))return void this.hide();{let Z=this.getLabel(A&&this.tt||{});(!m.style.width||T)&&Z.css({width:(this.outside?this.getPlayingField():g.spacingBox).width+"px"}),Z.attr({class:this.getClassName(S),text:B&&B.join?B.join(""):B}),this.outside&&Z.attr({x:yn(Z.x||0,0,this.getPlayingField().width-(Z.width||0)-1)}),T||Z.attr({stroke:m.borderColor||S.color||N.color||"#666666"}),this.updatePosition({plotX:I,plotY:z,negative:S.negative,ttBelow:S.ttBelow,series:N,h:L[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Ho(this,"refresh")}renderSplit(l,u){let g=this,{chart:m,chart:{chartWidth:C,chartHeight:w,plotHeight:y,plotLeft:S,plotTop:D,scrollablePixelsY:P=0,scrollablePixelsX:T,styledMode:A},distance:L,options:I,options:{fixed:z,position:B,positioner:N},pointer:$}=g,{scrollLeft:q=0,scrollTop:Z=0}=m.scrollablePlotArea?.scrollingContainer||{},te=g.outside&&typeof T!="number"?Cf.documentElement.getBoundingClientRect():{left:q,right:q+C},se=g.getLabel(),ne=this.renderer||m.renderer,Q=!!m.xAxis[0]?.opposite,{left:Ce,top:we}=$.getChartPosition(),ve=N||z,Ge=D+Z,We=0,Ke=y-P,Ie=function(nt,et,bt,ut=[0,0],zt=!0){let _t,pt;if(bt.isHeader)pt=Q?0:Ke,_t=yn(ut[0]-nt/2,te.left,te.right-nt-(g.outside?Ce:0));else if(z&&bt){let ti=g.getFixedPosition(nt,et,bt);_t=ti.x,pt=ti.y-Ge}else pt=ut[1]-Ge,_t=yn(_t=zt?ut[0]-nt-L:ut[0]+L,zt?_t:te.left,te.right);return{x:_t,y:pt}};Qn(l)&&(l=[!1,l]);let Ve=l.slice(0,u.length+1).reduce(function(nt,et,bt){if(et!==!1&&et!==""){let ut=u[bt-1]||{isHeader:!0,plotX:u[0].plotX,plotY:y,series:{}},zt=ut.isHeader,_t=zt?g:ut.series,pt=_t.tt=(function(cn,qi,qs){let Ln=cn,{isHeader:Vr,series:Yi}=qi,Ps=Yi.tooltipOptions||I;if(!Ln){let zr={padding:Ps.padding,r:Ps.borderRadius};A||(zr.fill=Ps.backgroundColor,zr["stroke-width"]=Ps.borderWidth??(z&&!Vr?0:1)),Ln=ne.label("",0,0,Ps[Vr?"headerShape":"shape"]||(z&&!Vr?"rect":"callout"),void 0,void 0,Ps.useHTML).addClass(g.getClassName(qi,!0,Vr)).attr(zr).add(se)}return Ln.isActive=!0,Ln.attr({text:qs}),A||Ln.css(Ps.style).attr({stroke:Ps.borderColor||qi.color||Yi.color||"#333333"}),Ln})(_t.tt,ut,et.toString()),ti=pt.getBBox(),$i=ti.width+pt.strokeWidth();zt&&(We=ti.height,Ke+=We,Q&&(Ge-=We));let{anchorX:Ki,anchorY:Xo}=(function(cn){let qi,qs,{isHeader:Ln,plotX:Vr=0,plotY:Yi=0,series:Ps}=cn;if(Ln)qi=Math.max(S+Vr,S),qs=D+y/2;else{let{xAxis:zr,yAxis:Eg}=Ps;qi=zr.pos+yn(Vr,-L,zr.len+L),Ps.shouldShowTooltip(0,Eg.pos-D+Yi,{ignoreX:!0})&&(qs=Eg.pos+Yi)}return{anchorX:qi=yn(qi,te.left-L,te.right+L),anchorY:qs}})(ut);if(typeof Xo=="number"){let cn=ti.height+1,qi=(N||Ie).call(g,$i,cn,ut,[Ki,Xo]);nt.push({align:ve?0:void 0,anchorX:Ki,anchorY:Xo,boxWidth:$i,point:ut,rank:Jn(qi.rank,+!!zt),size:cn,target:qi.y,tt:pt,x:qi.x})}else pt.isActive=!1}return nt},[]);!ve&&Ve.some(nt=>{let{outside:et}=g,bt=(et?Ce:0)+nt.anchorX;return bt<te.left&&bt+nt.boxWidth<te.right||bt<Ce-te.left+nt.boxWidth&&te.right-bt>bt})&&(Ve=Ve.map(nt=>{let{x:et,y:bt}=Ie.call(this,nt.boxWidth,nt.size,nt.point,[nt.anchorX,nt.anchorY],!1);return Da(nt,{target:bt,x:et})})),g.cleanSplit(),bi(Ve,Ke);let Ue={left:Ce,right:Ce};Ve.forEach(function(nt){let{x:et,boxWidth:bt,isHeader:ut}=nt;!ut&&(g.outside&&Ce+et<Ue.left&&(Ue.left=Ce+et),!ut&&g.outside&&Ue.left+bt>Ue.right&&(Ue.right=Ce+et))}),Ve.forEach(function(nt){let{x:et,anchorX:bt,anchorY:ut,pos:zt,point:{isHeader:_t}}=nt,pt={visibility:zt===void 0?"hidden":"inherit",x:et,y:(zt||0)+Ge+(z&&B.y||0),anchorX:bt,anchorY:ut};if(g.outside&&et<bt){let ti=Ce-Ue.left;ti>0&&(_t||(pt.x=et+ti,pt.anchorX=bt+ti),_t&&(pt.x=(Ue.right-Ue.left)/2,pt.anchorX=bt+ti))}nt.tt.attr(pt)});let{container:It,outside:gt,renderer:zi}=g;if(gt&&It&&zi){let{width:nt,height:et,x:bt,y:ut}=se.getBBox();zi.setSize(nt+bt,et+ut,!1),It.style.left=Ue.left+"px",It.style.top=we+"px"}kv&&se.attr({opacity:se.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let l=this.chart,u=this.label,g=this.shared?l.hoverPoints:l.hoverPoint;if(!u||!g)return;let m={x:0,y:0,width:0,height:0},C=this.getAnchor(g),w=u.getBBox();C[0]+=l.plotLeft-(u.translateX||0),C[1]+=l.plotTop-(u.translateY||0),m.x=Math.min(0,C[0]),m.y=Math.min(0,C[1]),m.width=C[0]<0?Math.max(Math.abs(C[0]),w.width-C[0]):Math.max(Math.abs(C[0]),w.width),m.height=C[1]<0?Math.max(Math.abs(C[1]),w.height-Math.abs(C[1])):Math.max(Math.abs(C[1]),w.height),this.tracker?this.tracker.attr(m):(this.tracker=u.renderer.rect(m).addClass("highcharts-tracker").add(u),l.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(l){return l.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(l,u){let g=l.series,m=g.tooltipOptions,C=g.xAxis,w=C?.dateTime,y={isFooter:u,point:l},S=m.xDateFormat||"",D=m[u?"footerFormat":"headerFormat"];return Ho(this,"headerFormatter",y,function(P){if(w&&!S&&Lv(l.key)&&(S=w.getXDateFormat(l.key,m.dateTimeLabelFormats)),w&&S){if(yf(S)){let T=S;Av[0]=A=>g.chart.time.dateFormat(T,A),S="%0"}(l.tooltipDateKeys||["key"]).forEach(T=>{D=D.replace(RegExp("point\\."+T+"([ \\)}])"),`(point.${T}:${S})$1`)})}g.chart.styledMode&&(D=this.styledModeFormat(D)),P.text=Al(D,l,this.chart)}),y.text||""}update(l){this.destroy(),this.init(this.chart,Dh(!0,this.options,l))}updatePosition(l){let{chart:u,container:g,distance:m,options:C,pointer:w,renderer:y}=this,{height:S=0,width:D=0}=this.getLabel(),{fixed:P,positioner:T}=C,{left:A,top:L,scaleX:I,scaleY:z}=w.getChartPosition(),B=(T||P&&this.getFixedPosition||this.getPosition).call(this,D,S,l),N=ie.doc,$=(l.plotX||0)+u.plotLeft,q=(l.plotY||0)+u.plotTop,Z;if(y&&g){if(T||P){let{scrollLeft:te=0,scrollTop:se=0}=u.scrollablePlotArea?.scrollingContainer||{};B.x+=te+A-m,B.y+=se+L-m}Z=(C.borderWidth||0)+2*m+2,y.setSize(yn(D+Z,0,N.documentElement.clientWidth)-1,S+Z,!1),(I!==1||z!==1)&&(Ma(g,{transform:`scale(${I}, ${z})`}),$*=I,q*=z),$+=A-B.x,q+=L-B.y}this.move(Math.round(B.x),Math.round(B.y||0),$,q)}}(function(E){E.compose=function(l){bf(mf,"Core.Tooltip")&&Eh(l,"afterInit",function(){let u=this.chart;u.options.tooltip&&(u.tooltip=new E(u,u.options.tooltip,this))})}})(Ta||(Ta={}));let kl=Ta,{animObject:Sf}=Pi,{defaultOptions:xf}=Ji,{format:Sr}=Ss,{addEvent:xr,crisp:Rf,erase:Ef,extend:eo,fireEvent:Rr,getNestedProperty:vu,isArray:Ll,isFunction:wu,isNumber:to,isObject:bn,merge:Fh,pick:ss,syncTimeout:Ph,removeEvent:yu,uniqueKey:Go}=ze;class Bs{animateBeforeDestroy(){let l=this,u={x:l.startXPos,opacity:0},g=l.getGraphicalProps();g.singular.forEach(function(m){l[m]=l[m].animate(m==="dataLabel"?{x:l[m].startXPos,y:l[m].startYPos,opacity:0}:u)}),g.plural.forEach(function(m){l[m].forEach(function(C){C.element&&C.animate(eo({x:l.startXPos},C.startYPos?{x:C.startXPos,y:C.startYPos}:{}))})})}applyOptions(l,u){let g=this.series,m=g.options.pointValKey||g.pointValKey;return eo(this,l=Bs.prototype.optionsToObject.call(this,l)),this.options=this.options?eo(this.options,l):l,l.group&&delete this.group,l.dataLabels&&delete this.dataLabels,m&&(this.y=Bs.prototype.getNestedProperty.call(this,m)),this.selected&&(this.state="select"),"name"in this&&u===void 0&&g.xAxis&&g.xAxis.hasNames&&(this.x=g.xAxis.nameToX(this)),this.x===void 0&&g?this.x=u??g.autoIncrement():to(l.x)&&g.options.relativeXValue?this.x=g.autoIncrement(l.x):typeof this.x=="string"&&(u??(u=g.chart.time.parse(this.x)),to(u)&&(this.x=u)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let l=this,u=l.series,g=u.chart,m=u.options.dataSorting,C=g.hoverPoints,w=Sf(l.series.chart.renderer.globalAnimation),y=()=>{for(let S in(l.graphic||l.graphics||l.dataLabel||l.dataLabels)&&(yu(l),l.destroyElements()),l)delete l[S]};l.legendItem&&g.legend.destroyItem(l),C&&(l.setState(),Ef(C,l),C.length||(g.hoverPoints=null)),l===g.hoverPoint&&l.onMouseOut(),m?.enabled?(this.animateBeforeDestroy(),Ph(y,w.duration)):y(),g.pointCount--}this.destroyed=!0}destroyElements(l){let u=this,g=u.getGraphicalProps(l);g.singular.forEach(function(m){u[m]=u[m].destroy()}),g.plural.forEach(function(m){u[m].forEach(function(C){C?.element&&C.destroy()}),delete u[m]})}firePointEvent(l,u,g){let m=this,C=this.series.options;m.manageEvent(l),l==="click"&&C.allowPointSelect&&(g=function(w){!m.destroyed&&m.select&&m.select(null,w.ctrlKey||w.metaKey||w.shiftKey)}),Rr(m,l,u,g)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone?.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(l){let u,g,m=this,C=[],w={singular:[],plural:[]};for((l=l||{graphic:1,dataLabel:1}).graphic&&C.push("graphic","connector"),l.dataLabel&&C.push("dataLabel","dataLabelPath","dataLabelUpper"),g=C.length;g--;)m[u=C[g]]&&w.singular.push(u);return["graphic","dataLabel"].forEach(function(y){let S=y+"s";l[y]&&m[S]&&w.plural.push(S)}),w}getNestedProperty(l){if(l)return l.indexOf("custom.")===0?vu(l,this.options):this[l]}getZone(){let l=this.series,u=l.zones,g=l.zoneAxis||"y",m,C=0;for(m=u[0];this[g]>=m.value;)m=u[++C];return this.nonZonedColor||(this.nonZonedColor=this.color),m?.color&&!this.options.color?this.color=m.color:this.color=this.nonZonedColor,m}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(l,u,g){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=l,this.applyOptions(u,g),this.id??(this.id=Go()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=l.options.nullInteraction),l.chart.pointCount++,Rr(this,"afterInit")}isValid(){return(to(this.x)||this.x instanceof Date)&&to(this.y)}optionsToObject(l){let u=this.series,g=u.options.keys,m=g||u.pointArrayMap||["y"],C=m.length,w={},y,S=0,D=0;if(to(l)||l===null)w[m[0]]=l;else if(Ll(l))for(!g&&l.length>C&&((y=typeof l[0])=="string"?u.xAxis?.dateTime?w.x=u.chart.time.parse(l[0]):w.name=l[0]:y==="number"&&(w.x=l[0]),S++);D<C;)g&&l[S]===void 0||(m[D].indexOf(".")>0?Bs.prototype.setNestedProperty(w,l[S],m[D]):w[m[D]]=l[S]),S++,D++;else typeof l=="object"&&(w=l,l.dataLabels&&(u.hasDataLabels=()=>!0),l.marker&&(u._hasPointMarkers=!0));return w}pos(l,u=this.plotY){if(!this.destroyed){let{plotX:g,series:m}=this,{chart:C,xAxis:w,yAxis:y}=m,S=0,D=0;if(to(g)&&to(u))return l&&(S=w?w.pos:C.plotLeft,D=y?y.pos:C.plotTop),C.inverted&&w&&y?[y.len-u+D,w.len-g+S]:[g+S,u+D]}}resolveColor(){let l=this.series,u=l.chart.options.chart,g=l.chart.styledMode,m,C,w=u.colorCount,y;delete this.nonZonedColor,l.options.colorByPoint?(g||(m=(C=l.options.colors||l.chart.options.colors)[l.colorCounter],w=C.length),y=l.colorCounter,l.colorCounter++,l.colorCounter===w&&(l.colorCounter=0)):(g||(m=l.color),y=l.colorIndex),this.colorIndex=ss(this.options.colorIndex,y),this.color=ss(this.options.color,m)}setNestedProperty(l,u,g){return g.split(".").reduce(function(m,C,w,y){let S=y.length-1===w;return m[C]=S?u:bn(m[C],!0)?m[C]:{},m[C]},l),l}shouldDraw(){return!this.isNull}tooltipFormatter(l){let{chart:u,pointArrayMap:g=["y"],tooltipOptions:m}=this.series,{valueDecimals:C="",valuePrefix:w="",valueSuffix:y=""}=m;return u.styledMode&&(l=u.tooltip?.styledModeFormat(l)||l),g.forEach(S=>{S="{point."+S,(w||y)&&(l=l.replace(RegExp(S+"}","g"),w+S+"}"+y)),l=l.replace(RegExp(S+"}","g"),S+":,."+C+"f}")}),Sr(l,this,u)}update(l,u,g,m){let C,w=this,y=w.series,S=w.graphic,D=y.chart,P=y.options;function T(){w.applyOptions(l);let A=S&&w.hasMockGraphic,L=w.y===null?!A:A;S&&L&&(w.graphic=S.destroy(),delete w.hasMockGraphic),bn(l,!0)&&(S?.element&&l&&l.marker&&l.marker.symbol!==void 0&&(w.graphic=S.destroy()),l?.dataLabels&&w.dataLabel&&(w.dataLabel=w.dataLabel.destroy())),C=w.index;let I={};for(let z of y.dataColumnKeys())I[z]=w[z];y.dataTable.setRow(I,C),P.data[C]=bn(P.data[C],!0)||bn(l,!0)?w.options:ss(l,P.data[C]),y.isDirty=y.isDirtyData=!0,!y.fixedBox&&y.hasCartesianSeries&&(D.isDirtyBox=!0),P.legendType==="point"&&(D.isDirtyLegend=!0),u&&D.redraw(g)}u=ss(u,!0),m===!1?T():w.firePointEvent("update",{options:l},T)}remove(l,u){this.series.removePoint(this.series.data.indexOf(this),l,u)}select(l,u){let g=this,m=g.series,C=m.chart;l=ss(l,!g.selected),this.selectedStaging=l,g.firePointEvent(l?"select":"unselect",{accumulate:u},function(){g.selected=g.options.selected=l,m.options.data[m.data.indexOf(g)]=g.options,g.setState(l&&"select"),u||C.getSelectedPoints().forEach(function(w){let y=w.series;w.selected&&w!==g&&(w.selected=w.options.selected=!1,y.options.data[y.data.indexOf(w)]=w.options,w.setState(C.hoverPoints&&y.options.inactiveOtherPoints?"inactive":""),w.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(l){let{inverted:u,pointer:g}=this.series.chart;g&&(l=l?g.normalize(l):g.getChartCoordinatesFromPoint(this,u),g.runPointActions(l,this))}onMouseOut(){let l=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(l.hoverPoints||[]).forEach(function(u){u.setState()}),l.hoverPoints=l.hoverPoint=null}manageEvent(l){let u=Fh(this.series.options.point,this.options),g=u.events?.[l];wu(g)&&(!this.hcEvents?.[l]||this.hcEvents?.[l]?.map(m=>m.fn).indexOf(g)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=xr(this,l,g),this.hcEvents&&(this.hcEvents[l].userEvent=!0)):this.importedUserEvent&&!g&&this.hcEvents?.[l]&&this.hcEvents?.[l].userEvent&&(yu(this,l),delete this.hcEvents[l],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(l,u){let g=this.series,m=this.state,C=g.options.states[l||"normal"]||{},w=xf.plotOptions[g.type].marker&&g.options.marker,y=w&&w.enabled===!1,S=w?.states?.[l||"normal"]||{},D=S.enabled===!1,P=this.marker||{},T=g.chart,A=w&&g.markerAttribs,L=g.halo,I,z,B,N=g.stateMarkerGraphic,$;if((l=l||"")===this.state&&!u||this.selected&&l!=="select"||C.enabled===!1||l&&(D||y&&S.enabled===!1)||l&&P.states&&P.states[l]&&P.states[l].enabled===!1)return;if(this.state=l,A&&(I=g.markerAttribs(this,l)),this.graphic&&!this.hasMockGraphic){if(m&&this.graphic.removeClass("highcharts-point-"+m),l&&this.graphic.addClass("highcharts-point-"+l),!T.styledMode){z=g.pointAttribs(this,l),B=ss(T.options.chart.animation,C.animation);let se=z.opacity;g.options.inactiveOtherPoints&&to(se)&&(this.dataLabels||[]).forEach(function(ne){ne&&!ne.hasClass("highcharts-data-label-hidden")&&(ne.animate({opacity:se},B),ne.connector&&ne.connector.animate({opacity:se},B))}),this.graphic.animate(z,B)}I&&this.graphic.animate(I,ss(T.options.chart.animation,S.animation,w.animation)),N&&N.hide()}else l&&S&&($=P.symbol||g.symbol,N&&N.currentSymbol!==$&&(N=N.destroy()),I&&(N?N[u?"animate":"attr"]({x:I.x,y:I.y}):$&&(g.stateMarkerGraphic=N=T.renderer.symbol($,I.x,I.y,I.width,I.height,Fh(w,S)).add(g.markerGroup),N.currentSymbol=$)),!T.styledMode&&N&&this.state!=="inactive"&&N.attr(g.pointAttribs(this,l))),N&&(N[l&&this.isInside?"show":"hide"](),N.element.point=this,N.addClass(this.getClassName(),!0));let q=C.halo,Z=this.graphic||N,te=Z?.visibility||"inherit";q?.size&&Z&&te!=="hidden"&&!this.isCluster?(L||(g.halo=L=T.renderer.path().add(Z.parentGroup)),L.show()[u?"animate":"attr"]({d:this.haloPath(q.size)}),L.attr({class:"highcharts-halo highcharts-color-"+ss(this.colorIndex,g.colorIndex)+(this.className?" "+this.className:""),visibility:te,zIndex:-1}),L.point=this,T.styledMode||L.attr(eo({fill:this.color||g.color,"fill-opacity":q.opacity},$t.filterUserAttributes(q.attributes||{})))):L?.point?.haloPath&&!L.point.destroyed&&L.animate({d:L.point.haloPath(0)},null,L.hide),Rr(this,"afterSetState",{state:l})}haloPath(l){let u=this.pos();return u?this.series.chart.renderer.symbols.circle(Rf(u[0],1)-l,u[1]-l,2*l,2*l):[]}}let Vs=Bs,{parse:Ah}=Vt,{charts:Ol,composed:Il,isTouchDevice:Hl}=ie,{addEvent:Ts,attr:Mf,css:Bo,extend:Fa,find:kh,fireEvent:Sn,isNumber:Pa,isObject:Wi,objectEach:zs,offset:Vo,pick:_s,pushUnique:Df,splat:io}=ze;class Ft{applyInactiveState(l=[]){let u=[];for(let g of(l.forEach(m=>{let C=m.series;u.push(C),C.linkedParent&&u.push(C.linkedParent),C.linkedSeries&&u.push.apply(u,C.linkedSeries),C.navigatorSeries&&u.push(C.navigatorSeries),C.boosted&&C.markerGroup&&u.push.apply(u,this.chart.series.filter(w=>w.markerGroup===C.markerGroup))}),this.chart.series)){let m=g.options;m.states?.inactive?.enabled!==!1&&(u.indexOf(g)===-1?g.setState("inactive",!0):m.inactiveOtherPoints&&g.setAllPointsToState("inactive"))}}destroy(){let l=this;this.eventsToUnbind.forEach(u=>u()),this.eventsToUnbind=[],!ie.chartCount&&(Ft.unbindDocumentMouseUp.forEach(u=>u.unbind()),Ft.unbindDocumentMouseUp.length=0,Ft.unbindDocumentTouchEnd&&(Ft.unbindDocumentTouchEnd=Ft.unbindDocumentTouchEnd())),clearInterval(l.tooltipTimeout),zs(l,function(u,g){l[g]=void 0})}getSelectionMarkerAttrs(l,u){let g={args:{chartX:l,chartY:u},attrs:{},shapeType:"rect"};return Sn(this,"getSelectionMarkerAttrs",g,m=>{let C,{chart:w,zoomHor:y,zoomVert:S}=this,{mouseDownX:D=0,mouseDownY:P=0}=w,T=m.attrs;T.x=w.plotLeft,T.y=w.plotTop,T.width=y?1:w.plotWidth,T.height=S?1:w.plotHeight,y&&(T.width=Math.max(1,Math.abs(C=l-D)),T.x=(C>0?0:C)+D),S&&(T.height=Math.max(1,Math.abs(C=u-P)),T.y=(C>0?0:C)+P)}),g}drag(l){let{chart:u}=this,{mouseDownX:g=0,mouseDownY:m=0}=u,{panning:C,panKey:w,selectionMarkerFill:y}=u.options.chart,S=u.plotLeft,D=u.plotTop,P=u.plotWidth,T=u.plotHeight,A=Wi(C)?C.enabled:C,L=w&&l[`${w}Key`],I=l.chartX,z=l.chartY,B,N=this.selectionMarker;if((!N||!N.touch)&&(I<S?I=S:I>S+P&&(I=S+P),z<D?z=D:z>D+T&&(z=D+T),this.hasDragged=Math.sqrt(Math.pow(g-I,2)+Math.pow(m-z,2)),this.hasDragged>10)){B=u.isInsidePlot(g-S,m-D,{visiblePlotOnly:!0});let{shapeType:$,attrs:q}=this.getSelectionMarkerAttrs(I,z);this.hasZoom&&B&&!L&&!N&&(this.selectionMarker=N=u.renderer[$](),N.attr({class:"highcharts-selection-marker",zIndex:7}).add(),u.styledMode||N.attr({fill:y||Ah("#334eff").setOpacity(.25).get()})),N&&N.attr(q),B&&!N&&A&&u.pan(l,C)}}dragStart(l){let u=this.chart;u.mouseIsDown=l.type,u.cancelClick=!1,u.mouseDownX=l.chartX,u.mouseDownY=l.chartY}getSelectionBox(l){let u={args:{marker:l},result:l.getBBox()};return Sn(this,"getSelectionBox",u),u.result}drop(l){let u,{chart:g,selectionMarker:m}=this;for(let C of g.axes)C.isPanning&&(C.isPanning=!1,(C.options.startOnTick||C.options.endOnTick||C.series.some(w=>w.boosted))&&(C.forceRedraw=!0,C.setExtremes(C.userMin,C.userMax,!1),u=!0));if(u&&g.redraw(),m&&l){if(this.hasDragged){let C=this.getSelectionBox(m);g.transform({axes:g.axes.filter(w=>w.zoomEnabled&&(w.coll==="xAxis"&&this.zoomX||w.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:l,xAxis:[],yAxis:[],...C},from:C})}Pa(g.index)&&(this.selectionMarker=m.destroy())}g&&Pa(g.index)&&(Bo(g.container,{cursor:g._cursor}),g.cancelClick=this.hasDragged>10,g.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(l,u,g){let m;return l.forEach(function(C){let w=!(C.noSharedTooltip&&u)&&0>C.options.findNearestPointBy.indexOf("y"),y=C.searchPoint(g,w);Wi(y,!0)&&y.series&&(!Wi(m,!0)||(function(S,D){let P=S.distX-D.distX,T=S.dist-D.dist,A=D.series.group?.zIndex-S.series.group?.zIndex;return P!==0&&u?P:T!==0?T:A!==0?A:S.series.index>D.series.index?-1:1})(m,y)>0)&&(m=y)}),m}getChartCoordinatesFromPoint(l,u){let{xAxis:g,yAxis:m}=l.series,C=l.shapeArgs;if(g&&m){let w=l.clientX??l.plotX??0,y=l.plotY||0;return l.isNode&&C&&Pa(C.x)&&Pa(C.y)&&(w=C.x,y=C.y),u?{chartX:m.len+m.pos-y,chartY:g.len+g.pos-w}:{chartX:w+g.pos,chartY:y+m.pos}}if(C?.x&&C.y)return{chartX:C.x,chartY:C.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:l}=this.chart,u=Vo(l);this.chartPosition={left:u.left,top:u.top,scaleX:1,scaleY:1};let{offsetHeight:g,offsetWidth:m}=l;return m>2&&g>2&&(this.chartPosition.scaleX=u.width/m,this.chartPosition.scaleY=u.height/g),this.chartPosition}getCoordinates(l){let u={xAxis:[],yAxis:[]};for(let g of this.chart.axes)u[g.isXAxis?"xAxis":"yAxis"].push({axis:g,value:g.toValue(l[g.horiz?"chartX":"chartY"])});return u}getHoverData(l,u,g,m,C,w){let y=[],S=function(L){return L.visible&&!(!C&&L.directTouch)&&_s(L.options.enableMouseTracking,!0)},D=u,P,T={chartX:w?w.chartX:void 0,chartY:w?w.chartY:void 0,shared:C};Sn(this,"beforeGetHoverData",T),P=D&&!D.stickyTracking?[D]:g.filter(L=>L.stickyTracking&&(T.filter||S)(L));let A=m&&l||!w?l:this.findNearestKDPoint(P,C,w);return D=A?.series,A&&(C&&!D.noSharedTooltip?(P=g.filter(function(L){return T.filter?T.filter(L):S(L)&&!L.noSharedTooltip})).forEach(function(L){let I=L.options?.nullInteraction,z=kh(L.points,function(B){return B.x===A.x&&(!B.isNull||!!I)});Wi(z)&&(L.boosted&&L.boost&&(z=L.boost.getPoint(z)),y.push(z))}):y.push(A)),Sn(this,"afterGetHoverData",T={hoverPoint:A}),{hoverPoint:T.hoverPoint,hoverSeries:D,hoverPoints:y}}getPointFromEvent(l){let u=l.target,g;for(;u&&!g;)g=u.point,u=u.parentNode;return g}onTrackerMouseOut(l){let u=this.chart,g=l.relatedTarget,m=u.hoverSeries;this.isDirectTouch=!1,!m||!g||m.stickyTracking||this.inClass(g,"highcharts-tooltip")||this.inClass(g,"highcharts-series-"+m.index)&&this.inClass(g,"highcharts-tracker")||m.onMouseOut()}inClass(l,u){let g=l,m;for(;g;){if(m=Mf(g,"class")){if(m.indexOf(u)!==-1)return!0;if(m.indexOf("highcharts-container")!==-1)return!1}g=g.parentElement}}constructor(l,u){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=u,this.chart=l,this.runChartClick=!!u.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Sn(this,"afterInit")}normalize(l,u){let g=l.touches,m=g?g.length?g.item(0):_s(g.changedTouches,l.changedTouches)[0]:l;u||(u=this.getChartPosition());let C=m.pageX-u.left,w=m.pageY-u.top;return Fa(l,{chartX:Math.round(C/=u.scaleX),chartY:Math.round(w/=u.scaleY)})}onContainerClick(l){let u=this.chart,g=u.hoverPoint,m=this.normalize(l),C=u.plotLeft,w=u.plotTop;!u.cancelClick&&(g&&this.inClass(m.target,"highcharts-tracker")?(Sn(g.series,"click",Fa(m,{point:g})),u.hoverPoint&&g.firePointEvent("click",m)):(Fa(m,this.getCoordinates(m)),u.isInsidePlot(m.chartX-C,m.chartY-w,{visiblePlotOnly:!0})&&Sn(u,"click",m)))}onContainerMouseDown(l){let u=(1&(l.buttons||l.button))==1;l=this.normalize(l),ie.isFirefox&&l.button!==0&&this.onContainerMouseMove(l),(l.button===void 0||u)&&(this.zoomOption(l),u&&l.preventDefault?.(),this.dragStart(l))}onContainerMouseLeave(l){let{pointer:u}=Ol[_s(Ft.hoverChartIndex,-1)]||{};l=this.normalize(l),this.onContainerMouseMove(l),u&&!this.inClass(l.relatedTarget,"highcharts-tooltip")&&(u.reset(),u.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(l){let u=this.chart,g=u.tooltip,m=this.normalize(l);this.setHoverChartIndex(l),(u.mouseIsDown==="mousedown"||this.touchSelect(m))&&this.drag(m),!u.exporting?.openMenu&&(this.inClass(m.target,"highcharts-tracker")||u.isInsidePlot(m.chartX-u.plotLeft,m.chartY-u.plotTop,{visiblePlotOnly:!0}))&&!g?.shouldStickOnContact(m)&&(this.inClass(m.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(m))}onDocumentTouchEnd(l){this.onDocumentMouseUp(l)}onContainerTouchMove(l){this.touchSelect(l)?this.onContainerMouseMove(l):this.touch(l)}onContainerTouchStart(l){this.touchSelect(l)?this.onContainerMouseDown(l):(this.zoomOption(l),this.touch(l,!0))}onDocumentMouseMove(l){let u=this.chart,g=u.tooltip,m=this.chartPosition,C=this.normalize(l,m);!m||u.isInsidePlot(C.chartX-u.plotLeft,C.chartY-u.plotTop,{visiblePlotOnly:!0})||g?.shouldStickOnContact(C)||C.target!==u.container.ownerDocument&&this.inClass(C.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(l){l?.touches&&this.hasPinchMoved&&l?.preventDefault?.(),Ol[_s(Ft.hoverChartIndex,-1)]?.pointer?.drop(l)}pinch(l){let u=this,{chart:g,hasZoom:m,lastTouches:C}=u,w=[].map.call(l.touches||[],T=>u.normalize(T)),y=w.length,S=y===1&&(u.inClass(l.target,"highcharts-tracker")&&g.runTrackerClick||u.runChartClick),D=g.tooltip,P=y===1&&_s(D?.options.followTouchMove,!0);y>1?u.initiated=!0:P&&(u.initiated=!1),m&&u.initiated&&!S&&l.cancelable!==!1&&l.preventDefault(),l.type==="touchstart"?(u.pinchDown=w,u.res=!0,g.mouseDownX=l.chartX):P?this.runPointActions(u.normalize(l)):C&&(Sn(g,"touchpan",{originalEvent:l,touches:w},()=>{let T=A=>{let L=A[0],I=A[1]||L;return{x:L.chartX,y:L.chartY,width:I.chartX-L.chartX,height:I.chartY-L.chartY}};g.transform({axes:g.axes.filter(A=>A.zoomEnabled&&(this.zoomHor&&A.horiz||this.zoomVert&&!A.horiz)),to:T(w),from:T(C),trigger:l.type})}),u.res&&(u.res=!1,this.reset(!1,0))),u.lastTouches=w}reset(l,u){let g=this.chart,m=g.hoverSeries,C=g.hoverPoint,w=g.hoverPoints,y=g.tooltip,S=y?.shared?w:C;l&&S&&io(S).forEach(function(D){D.series.isCartesian&&D.plotX===void 0&&(l=!1)}),l?y&&S&&io(S).length&&(y.refresh(S),y.shared&&w?w.forEach(function(D){D.setState(D.state,!0),D.series.isCartesian&&(D.series.xAxis.crosshair&&D.series.xAxis.drawCrosshair(null,D),D.series.yAxis.crosshair&&D.series.yAxis.drawCrosshair(null,D))}):C&&(C.setState(C.state,!0),g.axes.forEach(function(D){D.crosshair&&C.series[D.coll]===D&&D.drawCrosshair(null,C)}))):(C&&C.onMouseOut(),w&&w.forEach(function(D){D.setState()}),m&&m.onMouseOut(),y&&y.hide(u),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),g.axes.forEach(function(D){D.hideCrosshair()}),g.hoverPoints=g.hoverPoint=void 0)}runPointActions(l,u,g){let m=this.chart,C=m.series,w=m.tooltip?.options.enabled?m.tooltip:void 0,y=!!w&&w.shared,S=u||m.hoverPoint,D=S?.series||m.hoverSeries,P=(!l||l.type!=="touchmove")&&(!!u||D?.directTouch&&this.isDirectTouch),T=this.getHoverData(S,D,C,P,y,l);S=T.hoverPoint,D=T.hoverSeries;let A=T.hoverPoints,L=D?.tooltipOptions.followPointer&&!D.tooltipOptions.split,I=y&&D&&!D.noSharedTooltip;if(S&&(g||S!==m.hoverPoint||w?.isHidden)){if((m.hoverPoints||[]).forEach(function(z){A.indexOf(z)===-1&&z.setState()}),m.hoverSeries!==D&&D.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(z){z.setState("hover")}),m.hoverPoint&&m.hoverPoint.firePointEvent("mouseOut"),!S.series)return;m.hoverPoints=A,m.hoverPoint=S,S.firePointEvent("mouseOver",void 0,()=>{w&&S&&w.refresh(I?A:S,l)})}else if(L&&w&&!w.isHidden){let z=w.getAnchor([{}],l);m.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&w.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=Ts(m.container.ownerDocument,"mousemove",z=>Ol[Ft.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(z)),this.eventsToUnbind.push(this.unDocMouseMove)),m.axes.forEach(function(z){let B,N=z.crosshair?.snap??!0;N&&((B=m.hoverPoint)&&B.series[z.coll]===z||(B=kh(A,$=>$.series?.[z.coll]===z))),B||!N?z.drawCrosshair(l,B):z.hideCrosshair()})}setDOMEvents(){let l=this.chart.container,u=l.ownerDocument;l.onmousedown=this.onContainerMouseDown.bind(this),l.onmousemove=this.onContainerMouseMove.bind(this),l.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Ts(l,"mouseenter",this.onContainerMouseEnter.bind(this)),Ts(l,"mouseleave",this.onContainerMouseLeave.bind(this))),Ft.unbindDocumentMouseUp.some(m=>m.doc===u)||Ft.unbindDocumentMouseUp.push({doc:u,unbind:Ts(u,"mouseup",this.onDocumentMouseUp.bind(this))});let g=this.chart.renderTo.parentElement;for(;g&&g.tagName!=="BODY";)this.eventsToUnbind.push(Ts(g,"scroll",()=>{delete this.chartPosition})),g=g.parentElement;this.eventsToUnbind.push(Ts(l,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Ts(l,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Ft.unbindDocumentTouchEnd||(Ft.unbindDocumentTouchEnd=Ts(u,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Ts(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Hl)return;let l=this.pointerCaptureEventsToUnbind,u=this.chart,g=u.container,m=_s(u.options.tooltip?.followTouchMove,!0)&&u.series.some(C=>C.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&m?(l.push(Ts(g,"pointerdown",C=>{C.target?.hasPointerCapture(C.pointerId)&&C.target?.releasePointerCapture(C.pointerId)}),Ts(g,"pointermove",C=>{u.pointer?.getPointFromEvent(C)?.onMouseOver(C)})),u.styledMode||Bo(g,{"touch-action":"none"}),g.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!m&&(l.forEach(C=>C()),l.length=0,u.styledMode||Bo(g,{"touch-action":_s(u.options.chart.style?.["touch-action"],"manipulation")}),g.className=g.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(l){let u=this.chart,g=ie.charts[_s(Ft.hoverChartIndex,-1)];if(g&&g!==u){let m={relatedTarget:u.container};l&&!l?.relatedTarget&&Object.assign({},l,m),g.pointer?.onContainerMouseLeave(l||m)}g?.mouseIsDown||(Ft.hoverChartIndex=u.index)}touch(l,u){let g,{chart:m,pinchDown:C=[]}=this;this.setHoverChartIndex(),(l=this.normalize(l)).touches.length===1?m.isInsidePlot(l.chartX-m.plotLeft,l.chartY-m.plotTop,{visiblePlotOnly:!0})&&!m.exporting?.openMenu?(u&&this.runPointActions(l),l.type==="touchmove"&&(this.hasPinchMoved=g=!!C[0]&&Math.pow(C[0].chartX-l.chartX,2)+Math.pow(C[0].chartY-l.chartY,2)>=16),_s(g,!0)&&this.pinch(l)):u&&this.reset():l.touches.length===2&&this.pinch(l)}touchSelect(l){return!!(this.chart.zooming.singleTouch&&l.touches&&l.touches.length===1)}zoomOption(l){let u=this.chart,g=u.inverted,m=u.zooming.type||"",C,w;/touch/.test(l.type)&&(m=_s(u.zooming.pinchType,m)),this.zoomX=C=/x/.test(m),this.zoomY=w=/y/.test(m),this.zoomHor=C&&!g||w&&g,this.zoomVert=w&&!g||C&&g,this.hasZoom=C||w}}Ft.unbindDocumentMouseUp=[],(function(E){E.compose=function(l){Df(Il,"Core.Pointer")&&Ts(l,"beforeRender",function(){this.pointer=new E(this,this.options)})}})(Ft||(Ft={}));let ri=Ft;(function(E){E.setLength=function(l,u,g){return Array.isArray(l)?(l.length=u,l):l[g?"subarray":"slice"](0,u)},E.splice=function(l,u,g,m,C=[]){if(Array.isArray(l))return Array.isArray(C)||(C=Array.from(C)),{removed:l.splice(u,g,...C),array:l};let w=Object.getPrototypeOf(l).constructor,y=l[m?"subarray":"slice"](u,u+g),S=new w(l.length-g+C.length);return S.set(l.subarray(0,u),0),S.set(C,u),S.set(l.subarray(u+g),u+C.length),{removed:y,array:S}}})(F||(F={}));let{setLength:bu,splice:xn}=F,{fireEvent:lt,objectEach:Dt,uniqueKey:ii}=ze,Er=class{constructor(E={}){this.autoId=!E.id,this.columns={},this.id=E.id||ii(),this.modified=this,this.rowCount=0,this.versionTag=ii();let l=0;Dt(E.columns||{},(u,g)=>{this.columns[g]=u.slice(),l=Math.max(l,u.length)}),this.applyRowCount(l)}applyRowCount(E){this.rowCount=E,Dt(this.columns,(l,u)=>{l.length!==E&&(this.columns[u]=bu(l,E))})}deleteRows(E,l=1){if(l>0&&E<this.rowCount){let u=0;Dt(this.columns,(g,m)=>{this.columns[m]=xn(g,E,l).array,u=g.length}),this.rowCount=u}lt(this,"afterDeleteRows",{rowIndex:E,rowCount:l}),this.versionTag=ii()}getColumn(E,l){return this.columns[E]}getColumns(E,l){return(E||Object.keys(this.columns)).reduce((u,g)=>(u[g]=this.columns[g],u),{})}getRow(E,l){return(l||Object.keys(this.columns)).map(u=>this.columns[u]?.[E])}setColumn(E,l=[],u=0,g){this.setColumns({[E]:l},u,g)}setColumns(E,l,u){let g=this.rowCount;Dt(E,(m,C)=>{this.columns[C]=m.slice(),g=m.length}),this.applyRowCount(g),u?.silent||(lt(this,"afterSetColumns"),this.versionTag=ii())}setRow(E,l=this.rowCount,u,g){let{columns:m}=this,C=u?this.rowCount+1:l+1;Dt(E,(w,y)=>{let S=m[y]||g?.addColumns!==!1&&Array(C);S&&(u?S=xn(S,l,0,!0,[w]).array:S[l]=w,m[y]=S)}),C>this.rowCount&&this.applyRowCount(C),g?.silent||(lt(this,"afterSetRows"),this.versionTag=ii())}},{extend:Aa,merge:Mr,pick:Nl}=ze;(function(E){function l(u,g,m){let C=this.legendItem=this.legendItem||{},{chart:w,options:y}=this,{baseline:S=0,symbolWidth:D,symbolHeight:P}=u,T=this.symbol||"circle",A=P/2,L=w.renderer,I=C.group,z=S-Math.round((u.fontMetrics?.b||P)*(m?.4:.3)),B={},N,$=y.marker,q=0;if(w.styledMode||(B["stroke-width"]=Math.min(y.lineWidth||0,24),y.dashStyle?B.dashstyle=y.dashStyle:y.linecap!=="square"&&(B["stroke-linecap"]="round")),C.line=L.path().addClass("highcharts-graph").attr(B).add(I),m&&(C.area=L.path().addClass("highcharts-area").add(I)),B["stroke-linecap"]&&(q=Math.min(C.line.strokeWidth(),D)/2),D){let Z=[["M",q,z],["L",D-q,z]];C.line.attr({d:Z}),C.area?.attr({d:[...Z,["L",D-q,S],["L",q,S]]})}if($&&$.enabled!==!1&&D){let Z=Math.min(Nl($.radius,A),A);T.indexOf("url")===0&&($=Mr($,{width:P,height:P}),Z=0),C.symbol=N=L.symbol(T,D/2-Z,z-Z,2*Z,2*Z,Aa({context:"legend"},$)).addClass("highcharts-point").add(I),N.isMarker=!0}}E.areaMarker=function(u,g){l.call(this,u,g,!0)},E.lineMarker=l,E.rectangle=function(u,g){let m=g.legendItem||{},C=u.options,w=u.symbolHeight,y=C.squareSymbol,S=y?w:u.symbolWidth;m.symbol=this.chart.renderer.rect(y?(u.symbolWidth-w)/2:0,u.baseline-w+1,S,w,Nl(u.options.symbolRadius,w/2)).addClass("highcharts-point").attr({zIndex:3}).add(m.group)}})(k||(k={}));let ka=k,{defaultOptions:Dr}=Ji,{extend:Ov,extendClass:ai,merge:Lh}=ze;(function(E){function l(u,g){let m=Dr.plotOptions||{},C=g.defaultOptions,w=g.prototype;return w.type=u,w.pointClass||(w.pointClass=Vs),!E.seriesTypes[u]&&(C&&(m[u]=C),E.seriesTypes[u]=g,!0)}E.seriesTypes=ie.seriesTypes,E.registerSeriesType=l,E.seriesType=function(u,g,m,C,w){let y=Dr.plotOptions||{};if(g=g||"",y[u]=Lh(y[g],m),delete E.seriesTypes[u],l(u,ai(E.seriesTypes[g]||ns,C)),E.seriesTypes[u].prototype.type=u,w){class S extends Vs{}Ov(S.prototype,w),E.seriesTypes[u].prototype.pointClass=S}return E.seriesTypes[u]}})(O||(O={}));let Zt=O,{animObject:Oh,setAnimation:Tf}=Pi,{defaultOptions:Su}=Ji,{registerEventOptions:Ih}=El,{svg:Hh,win:Nh}=ie,{seriesTypes:Si}=Zt,{format:mi}=Ss,{arrayMax:La,arrayMin:Oa,clamp:Gl,correctFloat:xu,crisp:so,defined:ni,destroyObjectProperties:Gh,diffObjects:Bh,erase:Vh,error:Bl,extend:Tr,find:Ff,fireEvent:Qt,getClosestDistance:Pf,getNestedProperty:Ru,insertItem:zh,isArray:Af,isNumber:xi,isString:kf,merge:Ia,objectEach:Vl,pick:Jt,removeEvent:Lf,syncTimeout:_h}=ze;class Ws{constructor(){this.zoneAxis="y"}init(l,u){let g;Qt(this,"init",{options:u}),this.dataTable??(this.dataTable=new Er);let m=l.series;this.eventsToUnbind=[],this.chart=l,this.options=this.setOptions(u);let C=this.options,w=C.visible!==!1;this.linkedSeries=[],this.bindAxes(),Tr(this,{name:C.name,state:"",visible:w,selected:C.selected===!0}),Ih(this,C),(C.events?.click||C.point?.events?.click||C.allowPointSelect)&&(l.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(l.hasCartesianSeries=!0),m.length&&(g=m[m.length-1]),this._i=Jt(g?._i,-1)+1,this.opacity=this.options.opacity,l.orderItems("series",zh(this,m)),C.dataSorting?.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(C.data,!1),Qt(this,"afterInit")}is(l){return Si[l]&&this instanceof Si[l]}bindAxes(){let l,u=this,g=u.options,m=u.chart;Qt(this,"bindAxes",null,function(){(u.axisTypes||[]).forEach(function(C){(m[C]||[]).forEach(function(w){l=w.options,(Jt(g[C],0)===w.index||g[C]!==void 0&&g[C]===l.id)&&(zh(u,w.series),u[C]=w,w.isDirty=!0)}),u[C]||u.optionalAxis===C||Bl(18,!0,m)})}),Qt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(l,u){let g=l.marker,m=u.marker||{};return g&&(m.enabled&&!g.enabled||m.symbol!==g.symbol||m.height!==g.height||m.width!==g.width)}autoIncrement(l){let u,g=this.options,{pointIntervalUnit:m,relativeXValue:C}=this.options,w=this.chart.time,y=this.xIncrement??w.parse(g.pointStart)??0;if(this.pointInterval=u=Jt(this.pointInterval,g.pointInterval,1),C&&xi(l)&&(u*=l),m){let S=w.toParts(y);m==="day"?S[2]+=u:m==="month"?S[1]+=u:m==="year"&&(S[0]+=u),u=w.makeTime.apply(w,S)-y}return C&&xi(l)?y+u:(this.xIncrement=y+u,y)}setDataSortingOptions(){let l=this.options;Tr(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),ni(l.pointRange)||(l.pointRange=1)}setOptions(l){let u,g=this.chart,m=g.options.plotOptions,C=g.userOptions||{},w=Ia(l),y=g.styledMode,S={plotOptions:m,userOptions:w};Qt(this,"setOptions",S);let D=S.plotOptions[this.type],P=C.plotOptions||{},T=P.series||{},A=Su.plotOptions[this.type]||{},L=P[this.type]||{};D.dataLabels=this.mergeArrays(A.dataLabels,D.dataLabels),this.userOptions=S.userOptions;let I=Ia(D,m.series,L,w);this.tooltipOptions=Ia(Su.tooltip,Su.plotOptions.series?.tooltip,A?.tooltip,g.userOptions.tooltip,P.series?.tooltip,L.tooltip,w.tooltip),this.stickyTracking=Jt(w.stickyTracking,L.stickyTracking,T.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||I.stickyTracking),D.marker===null&&delete I.marker,this.zoneAxis=I.zoneAxis||"y";let z=this.zones=(I.zones||[]).map(B=>({...B}));return(I.negativeColor||I.negativeFillColor)&&!I.zones&&(u={value:I[this.zoneAxis+"Threshold"]||I.threshold||0,className:"highcharts-negative"},y||(u.color=I.negativeColor,u.fillColor=I.negativeFillColor),z.push(u)),z.length&&ni(z[z.length-1].value)&&z.push(y?{}:{color:this.color,fillColor:this.fillColor}),Qt(this,"afterSetOptions",{options:I}),I}getName(){return this.options.name??mi(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(l,u,g){let m,C,w=this.chart,y=`${l}Index`,S=`${l}Counter`,D=g?.length||w.options.chart.colorCount;!u&&(ni(C=Jt(l==="color"?this.options.colorIndex:void 0,this[y]))?m=C:(w.series.length||(w[S]=0),m=w[S]%D,w[S]+=1),g&&(u=g[m])),m!==void 0&&(this[y]=m),this[l]=u}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Su.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let l=this.options.marker;this.getCyclic("symbol",l.symbol,this.chart.options.symbols)}getColumn(l,u){return(u?this.dataTable.modified:this.dataTable).getColumn(l,!0)||[]}findPointIndex(l,u){let g,m,C,{id:w,x:y}=l,S=this.points,D=this.options.dataSorting,P=this.cropStart||0;if(w){let T=this.chart.get(w);T instanceof Vs&&(g=T)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let T=A=>!A.touched&&A.index===l.index;if(D?.matchByName?T=A=>!A.touched&&A.name===l.name:this.options.relativeXValue&&(T=A=>!A.touched&&A.options.x===l.x),!(g=Ff(S,T)))return}return g&&(C=g?.index)!==void 0&&(m=!0),C===void 0&&xi(y)&&(C=this.getColumn("x").indexOf(y,u)),C!==-1&&C!==void 0&&this.cropped&&(C=C>=P?C-P:C),!m&&xi(C)&&S[C]?.touched&&(C=void 0),C}updateData(l,u){let{options:g,requireSorting:m}=this,C=g.dataSorting,w=this.points,y=[],S=l.length===w.length,D,P,T,A,L=!0;if(this.xIncrement=null,l.forEach((z,B)=>{let N,$=ni(z)&&this.pointClass.prototype.optionsToObject.call({series:this},z)||{},{id:q,x:Z}=$;q||xi(Z)?((N=this.findPointIndex($,A))===-1||N===void 0?y.push(z):w[N]&&z!==g.data?.[N]?(w[N].update(z,!1,void 0,!1),w[N].touched=!0,m&&(A=N+1)):w[N]&&(w[N].touched=!0),(!S||B!==N||C?.enabled||this.hasDerivedData)&&(D=!0)):y.push(z)},this),D)for(P=w.length;P--;)(T=w[P])&&!T.touched&&T.remove?.(!1,u);else S&&!C?.enabled?(l.forEach((z,B)=>{z===w[B].y||w[B].destroyed||w[B].update(z,!1,void 0,!1)}),y.length=0):L=!1;if(w.forEach(z=>{z&&(z.touched=!1)}),!L)return!1;y.forEach(z=>{this.addPoint(z,!1,void 0,void 0,!1)},this);let I=this.getColumn("x");return this.xIncrement===null&&I.length&&(this.xIncrement=La(I),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(l,u=!0,g,m){let C=this.points,w=C?.length||0,y=this.options,S=this.chart,D=y.dataSorting,P=this.xAxis,T=y.turboThreshold,A=this.dataTable,L=this.dataColumnKeys(),I=this.pointValKey||"y",z=(this.pointArrayMap||[]).length,B=y.keys,N,$,q=0,Z=1,te;S.options.chart.allowMutatingData||(y.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,te=Ia(!0,l));let se=(l=te||l||[]).length;if(D?.enabled&&(l=this.sortData(l)),S.options.chart.allowMutatingData&&m!==!1&&se&&w&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&($=this.updateData(l,g)),!$){this.xIncrement=null,this.colorCounter=0;let ne=T&&!y.relativeXValue&&se>T;if(ne){let Q=this.getFirstValidPoint(l),Ce=this.getFirstValidPoint(l,se-1,-1),we=ve=>!!(Af(ve)&&(B||xi(ve[0])));if(xi(Q)&&xi(Ce)){let ve=[],Ge=[];for(let We of l)ve.push(this.autoIncrement()),Ge.push(We);A.setColumns({x:ve,[I]:Ge})}else if(we(Q)&&we(Ce))if(z){let ve=+(Q.length===z),Ge=Array(L.length).fill(0).map(()=>[]);for(let We of l){ve&&Ge[0].push(this.autoIncrement());for(let Ke=ve;Ke<=z;Ke++)Ge[Ke]?.push(We[Ke-ve])}A.setColumns(L.reduce((We,Ke,Ie)=>(We[Ke]=Ge[Ie],We),{}))}else{B&&(q=B.indexOf("x"),Z=B.indexOf("y"),q=q>=0?q:0,Z=Z>=0?Z:1),Q.length===1&&(Z=0);let ve=[],Ge=[];if(q===Z)for(let We of l)ve.push(this.autoIncrement()),Ge.push(We[Z]);else for(let We of l)ve.push(We[q]),Ge.push(We[Z]);A.setColumns({x:ve,[I]:Ge})}else ne=!1}if(!ne){let Q=L.reduce((Ce,we)=>(Ce[we]=[],Ce),{});for(N=0;N<se;N++){let Ce=this.pointClass.prototype.applyOptions.apply({series:this},[l[N]]);for(let we of L)Q[we][N]=Ce[we]}A.setColumns(Q)}for(kf(this.getColumn("y")[0])&&Bl(14,!0,S),this.data=[],this.options.data=this.userOptions.data=l,N=w;N--;)C[N]?.destroy();P&&(P.minRange=P.userMinRange),this.isDirty=S.isDirtyBox=!0,this.isDirtyData=!!C,g=!1}y.legendType==="point"&&(this.processData(),this.generatePoints()),u&&S.redraw(g)}sortData(l){let u=this,g=u.options.dataSorting.sortKey||"y",m=function(C,w){return ni(w)&&C.pointClass.prototype.optionsToObject.call({series:C},w)||{}};return l.forEach(function(C,w){l[w]=m(u,C),l[w].index=w},this),l.concat().sort((C,w)=>{let y=Ru(g,C),S=Ru(g,w);return S<y?-1:+(S>y)}).forEach(function(C,w){C.x=w},this),u.linkedSeries&&u.linkedSeries.forEach(function(C){let w=C.options,y=w.data;!w.dataSorting?.enabled&&y&&(y.forEach(function(S,D){y[D]=m(C,S),l[D]&&(y[D].x=l[D].x,y[D].index=D)}),C.setData(y,!1))}),l}getProcessedData(l){let u=this,{dataTable:g,isCartesian:m,options:C,xAxis:w}=u,y=C.cropThreshold,S=l||u.getExtremesFromAll,D=w?.logarithmic,P=g.rowCount,T,A,L=0,I,z,B,N=u.getColumn("x"),$=g,q=!1;return w&&(z=(I=w.getExtremes()).min,B=I.max,q=!!(w.categories&&!w.names.length),m&&u.sorted&&!S&&(!y||P>y||u.forceCrop)&&(N[P-1]<z||N[0]>B?$=new Er:u.getColumn(u.pointValKey||"y").length&&(N[0]<z||N[P-1]>B)&&($=(T=this.cropData(g,z,B)).modified,L=T.start,A=!0))),N=$.getColumn("x")||[],{modified:$,cropped:A,cropStart:L,closestPointRange:Pf([D?N.map(D.log2lin):N],()=>u.requireSorting&&!q&&Bl(15,!1,u.chart))}}processData(l){let u=this.xAxis,g=this.dataTable;if(this.isCartesian&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!l)return!1;let m=this.getProcessedData();g.modified=m.modified,this.cropped=m.cropped,this.cropStart=m.cropStart,this.closestPointRange=this.basePointRange=m.closestPointRange,Qt(this,"afterProcessData")}cropData(l,u,g){let m=l.getColumn("x",!0)||[],C=m.length,w={},y,S,D=0,P=C;for(y=0;y<C;y++)if(m[y]>=u){D=Math.max(0,y-1);break}for(S=y;S<C;S++)if(m[S]>g){P=S+1;break}for(let T of this.dataColumnKeys()){let A=l.getColumn(T,!0);A&&(w[T]=A.slice(D,P))}return{modified:new Er({columns:w}),start:D,end:P}}generatePoints(){let l=this.options,u=this.processedData||l.data,g=this.dataTable.modified,m=this.getColumn("x",!0),C=this.pointClass,w=g.rowCount,y=this.cropStart||0,S=this.hasGroupedData,D=l.keys,P=[],T=l.dataGrouping?.groupAll?y:0,A=this.xAxis?.categories,L=this.pointArrayMap||["y"],I=this.dataColumnKeys(),z,B,N,$,q=this.data,Z;if(!q&&!S){let te=[];te.length=u?.length||0,q=this.data=te}for(D&&S&&(this.options.keys=!1),$=0;$<w;$++)B=y+$,S?((N=new C(this,g.getRow($,I)||[])).dataGroup=this.groupMap[T+$],N.dataGroup?.options&&(N.options=N.dataGroup.options,Tr(N,N.dataGroup.options),delete N.dataLabels)):(N=q[B],Z=u?u[B]:g.getRow($,L),N||Z===void 0||(q[B]=N=new C(this,Z,m[$]))),N&&(N.index=S?T+$:B,P[$]=N,N.category=A?.[N.x]??N.x,N.key=N.name??N.category);if(this.options.keys=D,q&&(w!==(z=q.length)||S))for($=0;$<z;$++)$!==y||S||($+=w),q[$]&&(q[$].destroyElements(),q[$].plotX=void 0);this.data=q,this.points=P,Qt(this,"afterGeneratePoints")}getXExtremes(l){return{min:Oa(l),max:La(l)}}getExtremes(l,u){let{xAxis:g,yAxis:m}=this,C=u||this.getExtremesFromAll||this.options.getExtremesFromAll,w=C&&this.cropped?this.dataTable:this.dataTable.modified,y=w.rowCount,S=l||this.stackedYData,D=S?[S]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(te=>w.getColumn(te,!0)||[])||[],P=this.getColumn("x",!0),T=[],A=this.requireSorting&&!this.is("column")?1:0,L=!!m&&m.positiveValuesOnly,I=C||this.cropped||!g,z,B,N,$=0,q=0;for(g&&($=(z=g.getExtremes()).min,q=z.max),N=0;N<y;N++)if(B=P[N],I||(P[N+A]||B)>=$&&(P[N-A]||B)<=q)for(let te of D){let se=te[N];xi(se)&&(se>0||!L)&&T.push(se)}let Z={activeYData:T,dataMin:Oa(T),dataMax:La(T)};return Qt(this,"afterGetExtremes",{dataExtremes:Z}),Z}applyExtremes(){let l=this.getExtremes();return this.dataMin=l.dataMin,this.dataMax=l.dataMax,l}getFirstValidPoint(l,u=0,g=1){let m=l.length,C=u;for(;C>=0&&C<m;){if(ni(l[C]))return l[C];C+=g}}translate(){this.generatePoints();let l=this.options,u=l.stacking,g=this.xAxis,m=this.enabledDataSorting,C=this.yAxis,w=this.points,y=w.length,S=this.pointPlacementToXValue(),D=!!S,P=l.threshold,T=l.startFromThreshold?P:0,A=l?.nullInteraction&&C.len,L,I,z,B,N=Number.MAX_VALUE;function $(q){return Gl(q,-1e9,1e9)}for(L=0;L<y;L++){let q,Z=w[L],te=Z.x,se,ne,Q=Z.y,Ce=Z.low,we=u&&C.stacking?.stacks[(this.negStacks&&Q<(T?0:P)?"-":"")+this.stackKey];Z.plotX=xi(I=g.translate(te,!1,!1,!1,!0,S))?xu($(I)):void 0,u&&this.visible&&we&&we[te]&&(B=this.getStackIndicator(B,te,this.index),!Z.isNull&&B.key&&(ne=(se=we[te]).points[B.key]),se&&Af(ne)&&(Ce=ne[0],Q=ne[1],Ce===T&&B.key===we[te].base&&(Ce=Jt(xi(P)?P:C.min)),C.positiveValuesOnly&&ni(Ce)&&Ce<=0&&(Ce=void 0),Z.total=Z.stackTotal=Jt(se.total),Z.percentage=ni(Z.y)&&se.total?Z.y/se.total*100:void 0,Z.stackY=Q,this.irregularWidths||se.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),Z.yBottom=ni(Ce)?$(C.translate(Ce,!1,!0,!1,!0)):void 0,this.dataModify&&(Q=this.dataModify.modifyValue(Q,L)),xi(Q)&&Z.plotX!==void 0?q=xi(q=C.translate(Q,!1,!0,!1,!0))?$(q):void 0:!xi(Q)&&A&&(q=A),Z.plotY=q,Z.isInside=this.isPointInside(Z),Z.clientX=D?xu(g.translate(te,!1,!1,!1,!0,S)):I,Z.negative=(Z.y||0)<(P||0),Z.isNull||Z.visible===!1||(z!==void 0&&(N=Math.min(N,Math.abs(I-z))),z=I),Z.zone=this.zones.length?Z.getZone():void 0,!Z.graphic&&this.group&&m&&(Z.isNew=!0)}this.closestPointRangePx=N,Qt(this,"afterTranslate")}getValidPoints(l,u,g){let m=this.chart;return(l||this.points||[]).filter(function(C){let{plotX:w,plotY:y}=C;return(!!g||!C.isNull&&!!xi(y))&&(!u||!!m.isInsidePlot(w,y,{inverted:m.inverted}))&&C.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:l,group:u,markerGroup:g}=this,m=l.sharedClips,C=l.renderer,w=l.getClipBox(this),y=this.getSharedClipKey(),S=m[y];S?S.animate(w):m[y]=S=C.clipRect(w),u&&u.clip(this.options.clip===!1?void 0:S),g&&g.clip()}animate(l){let{chart:u,group:g,markerGroup:m}=this,C=u.inverted,w=Oh(this.options.animation),y=[this.getSharedClipKey(),w.duration,w.easing,w.defer].join(","),S=u.sharedClips[y],D=u.sharedClips[y+"m"];if(l&&g){let P=u.getClipBox(this);if(S)S.attr("height",P.height);else{P.width=0,C&&(P.x=u.plotHeight),S=u.renderer.clipRect(P),u.sharedClips[y]=S;let T={x:-99,y:-99,width:C?u.plotWidth+199:99,height:C?99:u.plotHeight+199};D=u.renderer.clipRect(T),u.sharedClips[y+"m"]=D}g.clip(S),m?.clip(D)}else if(S&&!S.hasClass("highcharts-animating")){let P=u.getClipBox(this),T=w.step;(m?.element.childNodes.length||u.series.length>1)&&(w.step=function(A,L){T&&T.apply(L,arguments),L.prop==="width"&&D?.element&&D.attr(C?"height":"width",A+99)}),S.addClass("highcharts-animating").animate(P,w)}}afterAnimate(){this.setClip(),Vl(this.chart.sharedClips,(l,u,g)=>{l&&!this.chart.container.querySelector(`[clip-path="url(#${l.id})"]`)&&(l.destroy(),delete g[u])}),this.finishedAnimating=!0,Qt(this,"afterAnimate")}drawPoints(l=this.points){let u,g,m,C,w,y,S,D=this.chart,P=D.styledMode,{colorAxis:T,options:A}=this,L=A.marker,I=A.nullInteraction,z=this[this.specialGroup||"markerGroup"],B=this.xAxis,N=Jt(L.enabled,!B||!!B.isRadial||null,this.closestPointRangePx>=L.enabledThreshold*L.radius);if(L.enabled!==!1||this._hasPointMarkers)for(u=0;u<l.length;u++){C=(m=(g=l[u]).graphic)?"animate":"attr",w=g.marker||{},y=!!g.marker;let $=g.isNull;if((N&&!ni(w.enabled)||w.enabled)&&(!$||I)&&g.visible!==!1){let q=Jt(w.symbol,this.symbol,"rect");S=this.markerAttribs(g,g.selected&&"select"),this.enabledDataSorting&&(g.startXPos=B.reversed?-(S.width||0):B.width);let Z=g.isInside!==!1;if(!m&&Z&&((S.width||0)>0||g.hasImage)&&(g.graphic=m=D.renderer.symbol(q,S.x,S.y,S.width,S.height,y?w:L).add(z),this.enabledDataSorting&&D.hasRendered&&(m.attr({x:g.startXPos}),C="animate")),m&&C==="animate"&&m[Z?"show":"hide"](Z).animate(S),m){let te=this.pointAttribs(g,P||!g.selected?void 0:"select");P?T&&m.css({fill:te.fill}):m[C](te)}m&&m.addClass(g.getClassName(),!0)}else m&&(g.graphic=m.destroy())}}markerAttribs(l,u){let g=this.options,m=g.marker,C=l.marker||{},w=C.symbol||m.symbol,y={},S,D,P=Jt(C.radius,m?.radius);u&&(S=m.states[u],D=C.states&&C.states[u],P=Jt(D?.radius,S?.radius,P&&P+(S?.radiusPlus||0))),l.hasImage=w&&w.indexOf("url")===0,l.hasImage&&(P=0);let T=l.pos();return xi(P)&&T&&(g.crisp&&(T[0]=so(T[0],l.hasImage?0:w==="rect"?m?.lineWidth||0:1)),y.x=T[0]-P,y.y=T[1]-P),P&&(y.width=y.height=2*P),y}pointAttribs(l,u){let g=this.options,m=g.marker,C=l?.options,w=C?.marker||{},y=C?.color,S=l?.color,D=l?.zone?.color,P,T,A=this.color,L,I,z=Jt(w.lineWidth,m.lineWidth),B=l?.isNull&&g.nullInteraction?0:1;return A=y||D||S||A,L=w.fillColor||m.fillColor||A,I=w.lineColor||m.lineColor||A,u=u||"normal",P=m.states[u]||{},z=Jt((T=w.states&&w.states[u]||{}).lineWidth,P.lineWidth,z+Jt(T.lineWidthPlus,P.lineWidthPlus,0)),L=T.fillColor||P.fillColor||L,I=T.lineColor||P.lineColor||I,{stroke:I,"stroke-width":z,fill:L,opacity:B=Jt(T.opacity,P.opacity,B)}}destroy(l){let u,g,m=this,C=m.chart,w=/AppleWebKit\/533/.test(Nh.navigator.userAgent),y=m.data||[];for(Qt(m,"destroy",{keepEventsForUpdate:l}),this.removeEvents(l),(m.axisTypes||[]).forEach(function(S){g=m[S],g?.series&&(Vh(g.series,m),g.isDirty=g.forceRedraw=!0)}),m.legendItem&&m.chart.legend.destroyItem(m),u=y.length;u--;)y[u]?.destroy?.();for(let S of m.zones)Gh(S,void 0,!0);ze.clearTimeout(m.animationTimeout),Vl(m,function(S,D){S instanceof Cn&&!S.survive&&S[w&&D==="group"?"hide":"destroy"]()}),C.hoverSeries===m&&(C.hoverSeries=void 0),Vh(C.series,m),C.orderItems("series"),Vl(m,function(S,D){l&&D==="hcEvents"||delete m[D]})}applyZones(){let{area:l,chart:u,graph:g,zones:m,points:C,xAxis:w,yAxis:y,zoneAxis:S}=this,{inverted:D,renderer:P}=u,T=this[`${S}Axis`],{isXAxis:A,len:L=0,minPointOffset:I=0}=T||{},z=(g?.strokeWidth()||0)/2+1,B=(N,$=0,q=0)=>{D&&(q=L-q);let{translated:Z=0,lineClip:te}=N,se=q-Z;te?.push(["L",$,Math.abs(se)<z?q-z*(se<=0?-1:1):Z])};if(m.length&&(g||l)&&T&&xi(T.min)){let N=T.getExtremes().max+I,$=te=>{te.forEach((se,ne)=>{(se[0]==="M"||se[0]==="L")&&(te[ne]=[se[0],A?L-se[1]:se[1],A?se[2]:L-se[2]])})};if(m.forEach(te=>{te.lineClip=[],te.translated=Gl(T.toPixels(Jt(te.value,N),!0)||0,0,L)}),g&&!this.showLine&&g.hide(),l&&l.hide(),S==="y"&&C.length<w.len)for(let te of C){let{plotX:se,plotY:ne,zone:Q}=te,Ce=Q&&m[m.indexOf(Q)-1];Q&&B(Q,se,ne),Ce&&B(Ce,se,ne)}let q=[],Z=T.toPixels(T.getExtremes().min-I,!0);m.forEach(te=>{let se=te.lineClip||[],ne=Math.round(te.translated||0);w.reversed&&se.reverse();let{clip:Q,simpleClip:Ce}=te,we=0,ve=0,Ge=w.len,We=y.len;A?(we=ne,Ge=Z):(ve=ne,We=Z);let Ke=[["M",we,ve],["L",Ge,ve],["L",Ge,We],["L",we,We],["Z"]],Ie=[Ke[0],...se,Ke[1],Ke[2],...q,Ke[3],Ke[4]];q=se.reverse(),Z=ne,D&&($(Ie),l&&$(Ke)),Q?(Q.animate({d:Ie}),Ce?.animate({d:Ke})):(Q=te.clip=P.path(Ie),l&&(Ce=te.simpleClip=P.path(Ke))),g&&te.graph?.clip(Q),l&&te.area?.clip(Ce)})}else this.visible&&(g&&g.show(),l&&l.show())}plotGroup(l,u,g,m,C){let w=this[l],y=!w,S={visibility:g,zIndex:m||.1};return ni(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(S.opacity=this.opacity),w||(this[l]=w=this.chart.renderer.g().add(C)),w.addClass("highcharts-"+u+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(ni(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(w.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),w.attr(S)[y?"attr":"animate"](this.getPlotBox(u)),w}getPlotBox(l){let u=this.xAxis,g=this.yAxis,m=this.chart,C=m.inverted&&!m.polar&&u&&this.invertible&&l==="series";m.inverted&&(u=g,g=this.xAxis);let w={scale:1,translateX:u?u.left:m.plotLeft,translateY:g?g.top:m.plotTop,name:l};Qt(this,"getPlotBox",w);let{scale:y,translateX:S,translateY:D}=w;return{translateX:S,translateY:D,rotation:90*!!C,rotationOriginX:C?y*(u.len-g.len)/2:0,rotationOriginY:C?y*(u.len+g.len)/2:0,scaleX:C?-y:y,scaleY:y}}removeEvents(l){let{eventsToUnbind:u}=this;l||Lf(this),u.length&&(u.forEach(g=>{g()}),u.length=0)}render(){let l=this,{chart:u,options:g,hasRendered:m}=l,C=Oh(g.animation),w=l.visible?"inherit":"hidden",y=g.zIndex,S=u.seriesGroup,D=l.finishedAnimating?0:C.duration;Qt(this,"render"),l.plotGroup("group","series",w,y,S),l.markerGroup=l.plotGroup("markerGroup","markers",w,y,S),g.clip!==!1&&l.setClip(),D&&l.animate?.(!0),l.drawGraph&&(l.drawGraph(),l.applyZones()),l.visible&&l.drawPoints(),l.drawDataLabels?.(),l.redrawPoints?.(),g.enableMouseTracking&&l.drawTracker?.(),D&&l.animate?.(),m||(D&&C.defer&&(D+=C.defer),l.animationTimeout=_h(()=>{l.afterAnimate()},D||0)),l.isDirty=!1,l.hasRendered=!0,Qt(l,"afterRender")}redraw(){let l=this.isDirty||this.isDirtyData;this.translate(),this.render(),l&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(l,u){let{xAxis:g,yAxis:m}=this,C=this.chart.inverted;return this.searchKDTree({clientX:C?g.len-l.chartY+g.pos:l.chartX-g.pos,plotY:C?m.len-l.chartX+m.pos:l.chartY-m.pos},u,l)}buildKDTree(l){this.buildingKdTree=!0;let u=this,g=u.options,m=g.findNearestPointBy.indexOf("y")>-1?2:1;delete u.kdTree,_h(function(){u.kdTree=(function C(w,y,S){let D,P,T=w?.length;if(T)return D=u.kdAxisArray[y%S],w.sort((A,L)=>(A[D]||0)-(L[D]||0)),{point:w[P=Math.floor(T/2)],left:C(w.slice(0,P),y+1,S),right:C(w.slice(P+1),y+1,S)}})(u.getValidPoints(void 0,!u.directTouch,g?.nullInteraction),m,m),u.buildingKdTree=!1},g.kdNow||l?.type==="touchstart"?0:1)}searchKDTree(l,u,g,m,C){let w=this,[y,S]=this.kdAxisArray,D=u?"distX":"dist",P=(w.options.findNearestPointBy||"").indexOf("y")>-1?2:1,T=!!w.isBubble,A=m||((I,z,B)=>{let N=I[B]||0,$=z[B]||0;return[N===$&&I.index>z.index||N<$?I:z,!1]}),L=C||((I,z)=>I<z);if(this.kdTree||this.buildingKdTree||this.buildKDTree(g),this.kdTree)return(function I(z,B,N,$){let q=B.point,Z=w.kdAxisArray[N%$],te=q,se=!1;(function(we,ve){let Ge=we[y],We=ve[y],Ke=ni(Ge)&&ni(We)?Ge-We:null,Ie=we[S],Ve=ve[S],Ue=ni(Ie)&&ni(Ve)?Ie-Ve:0,It=T&&ve.marker?.radius||0;ve.dist=Math.sqrt((Ke&&Ke*Ke||0)+Ue*Ue)-It,ve.distX=ni(Ke)?Math.abs(Ke)-It:Number.MAX_VALUE})(z,q);let ne=(z[Z]||0)-(q[Z]||0)+(T&&q.marker?.radius||0),Q=ne<0?"left":"right",Ce=ne<0?"right":"left";return B[Q]&&([te,se]=A(q,I(z,B[Q],N+1,$),D)),B[Ce]&&L(Math.sqrt(ne*ne),te[D],se)&&(te=A(te,I(z,B[Ce],N+1,$),D)[0]),te})(l,this.kdTree,P,P)}pointPlacementToXValue(){let{options:l,xAxis:u}=this,g=l.pointPlacement;return g==="between"&&(g=u.reversed?-.5:.5),xi(g)?g*(l.pointRange||u.pointRange):0}isPointInside(l){let{chart:u,xAxis:g,yAxis:m}=this,{plotX:C=-1,plotY:w=-1}=l;return w>=0&&w<=(m?m.len:u.plotHeight)&&C>=0&&C<=(g?g.len:u.plotWidth)}drawTracker(){let l=this,u=l.options,g=u.trackByArea,m=[].concat((g?l.areaPath:l.graphPath)||[]),C=l.chart,w=C.pointer,y=C.renderer,S=C.options.tooltip?.snap||0,D=()=>{u.enableMouseTracking&&C.hoverSeries!==l&&l.onMouseOver()},P="rgba(192,192,192,"+(Hh?1e-4:.002)+")",T=l.tracker;T?T.attr({d:m}):l.graph&&(l.tracker=T=y.path(m).attr({visibility:l.visible?"inherit":"hidden",zIndex:2}).addClass(g?"highcharts-tracker-area":"highcharts-tracker-line").add(l.group),C.styledMode||T.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:P,fill:g?P:"none","stroke-width":l.graph.strokeWidth()+(g?0:2*S)}),[l.tracker,l.markerGroup,l.dataLabelsGroup].forEach(A=>{A&&(A.addClass("highcharts-tracker").on("mouseover",D).on("mouseout",L=>{w?.onTrackerMouseOut(L)}),u.cursor&&!C.styledMode&&A.css({cursor:u.cursor}),A.on("touchstart",D))})),Qt(this,"afterDrawTracker")}addPoint(l,u,g,m,C){let w,y,S=this.options,{chart:D,data:P,dataTable:T,xAxis:A}=this,L=A?.hasNames&&A.names,I=S.data,z=this.getColumn("x");u=Jt(u,!0);let B={series:this};this.pointClass.prototype.applyOptions.apply(B,[l]);let N=B.x;if(y=z.length,this.requireSorting&&N<z[y-1])for(w=!0;y&&z[y-1]>N;)y--;T.setRow(B,y,!0,{addColumns:!1}),L&&B.name&&(L[N]=B.name),I?.splice(y,0,l),(w||this.processedData)&&(this.data.splice(y,0,null),this.processData()),S.legendType==="point"&&this.generatePoints(),g&&(P[0]&&P[0].remove?P[0].remove(!1):([P,I].filter(ni).forEach($=>{$.shift()}),T.deleteRows(0))),C!==!1&&Qt(this,"addPoint",{point:B}),this.isDirty=!0,this.isDirtyData=!0,u&&D.redraw(m)}removePoint(l,u,g){let m=this,{chart:C,data:w,points:y,dataTable:S}=m,D=w[l],P=function(){[y?.length===w.length?y:void 0,w,m.options.data].filter(ni).forEach(T=>{T.splice(l,1)}),S.deleteRows(l),D?.destroy(),m.isDirty=!0,m.isDirtyData=!0,u&&C.redraw()};Tf(g,C),u=Jt(u,!0),D?D.firePointEvent("remove",null,P):P()}remove(l,u,g,m){let C=this,w=C.chart;function y(){C.destroy(m),w.isDirtyLegend=w.isDirtyBox=!0,w.linkSeries(m),Jt(l,!0)&&w.redraw(u)}g!==!1?Qt(C,"remove",null,y):y()}update(l,u){Qt(this,"update",{options:l=Bh(l,this.userOptions)});let g=this,m=g.chart,C=g.userOptions,w=g.initialType||g.type,y=m.options.plotOptions,S=Si[w].prototype,D=g.finishedAnimating&&{animation:!1},P={},T,A,L=Ws.keepProps.slice(),I=l.type||C.type||m.options.chart.type,z=!(this.hasDerivedData||I&&I!==this.type||l.keys!==void 0||l.pointStart!==void 0||l.pointInterval!==void 0||l.relativeXValue!==void 0||l.joinBy||l.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(N=>g.hasOptionChanged(N)));I=I||w,z?(L.push.apply(L,Ws.keepPropsForPoints),l.visible!==!1&&L.push("area","graph"),g.parallelArrays.forEach(function(N){L.push(N+"Data")}),l.data&&(l.dataSorting&&Tr(g.options.dataSorting,l.dataSorting),this.setData(l.data,!1))):this.dataTable.modified=this.dataTable,l=Ia(C,{index:C.index===void 0?g.index:C.index,pointStart:y?.series?.pointStart??C.pointStart??g.getColumn("x")[0]},!z&&{data:g.options.data},l,D),z&&l.data&&(l.data=g.options.data),(L=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(L)).forEach(function(N){L[N]=g[N],delete g[N]});let B=!1;if(Si[I]){if(B=I!==g.type,g.remove(!1,!1,!1,!0),B)if(m.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(g,Si[I].prototype);else{let N=Object.hasOwnProperty.call(g,"hcEvents")&&g.hcEvents;for(A in S)g[A]=void 0;Tr(g,Si[I].prototype),N?g.hcEvents=N:delete g.hcEvents}}else Bl(17,!0,m,{missingModuleFor:I});if(L.forEach(function(N){g[N]=L[N]}),g.init(m,l),z&&this.points)for(let N of((T=g.options).visible===!1?(P.graphic=1,P.dataLabel=1):(this.hasMarkerChanged(T,C)&&(P.graphic=1),g.hasDataLabels?.()||(P.dataLabel=1)),this.points))N?.series&&(N.resolveColor(),Object.keys(P).length&&N.destroyElements(P),T.showInLegend===!1&&N.legendItem&&m.legend.destroyItem(N));g.initialType=w,m.linkSeries(),m.setSortedData(),B&&g.linkedSeries.length&&(g.isDirtyData=!0),Qt(this,"afterUpdate"),Jt(u,!0)&&m.redraw(!!z&&void 0)}setName(l){this.name=this.options.name=this.userOptions.name=l,this.chart.isDirtyLegend=!0}hasOptionChanged(l){let u=this.chart,g=this.options[l],m=u.options.plotOptions,C=this.userOptions[l],w=Jt(m?.[this.type]?.[l],m?.series?.[l]);return C&&!ni(w)?g!==C:g!==Jt(w,g)}onMouseOver(){let l=this.chart,u=l.hoverSeries;l.pointer?.setHoverChartIndex(),u&&u!==this&&u.onMouseOut(),this.options.events.mouseOver&&Qt(this,"mouseOver"),this.setState("hover"),l.hoverSeries=this}onMouseOut(){let l=this.options,u=this.chart,g=u.tooltip,m=u.hoverPoint;u.hoverSeries=null,m&&m.onMouseOut(),this&&l.events.mouseOut&&Qt(this,"mouseOut"),g&&!this.stickyTracking&&(!g.shared||this.noSharedTooltip)&&g.hide(),u.series.forEach(function(C){C.setState("",!0)})}setState(l,u){let g=this,m=g.options,C=g.graph,w=m.inactiveOtherPoints,y=m.states,S=Jt(y[l||"normal"]&&y[l||"normal"].animation,g.chart.options.chart.animation),D=m.lineWidth,P=m.opacity;if(l=l||"",g.state!==l&&([g.group,g.markerGroup,g.dataLabelsGroup].forEach(function(T){T&&(g.state&&T.removeClass("highcharts-series-"+g.state),l&&T.addClass("highcharts-series-"+l))}),g.state=l,!g.chart.styledMode)){if(y[l]&&y[l].enabled===!1)return;if(l&&(D=y[l].lineWidth||D+(y[l].lineWidthPlus||0),P=Jt(y[l].opacity,P)),C&&!C.dashstyle&&xi(D))for(let T of[C,...this.zones.map(A=>A.graph)])T?.animate({"stroke-width":D},S);w||[g.group,g.markerGroup,g.dataLabelsGroup,g.labelBySeries].forEach(function(T){T&&T.animate({opacity:P},S)})}u&&w&&g.points&&g.setAllPointsToState(l||void 0)}setAllPointsToState(l){this.points.forEach(function(u){u.setState&&u.setState(l)})}setVisible(l,u){let g=this,m=g.chart,C=m.options.chart.ignoreHiddenSeries,w=g.visible;g.visible=l=g.options.visible=g.userOptions.visible=l===void 0?!w:l;let y=l?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(S=>{g[S]?.[y]()}),(m.hoverSeries===g||m.hoverPoint?.series===g)&&g.onMouseOut(),g.legendItem&&m.legend.colorizeItem(g,l),g.isDirty=!0,g.options.stacking&&m.series.forEach(S=>{S.options.stacking&&S.visible&&(S.isDirty=!0)}),g.linkedSeries.forEach(S=>{S.setVisible(l,!1)}),C&&(m.isDirtyBox=!0),Qt(g,y),u!==!1&&m.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(l){this.selected=l=this.options.selected=l===void 0?!this.selected:l,this.checkbox&&(this.checkbox.checked=l),Qt(this,l?"select":"unselect")}shouldShowTooltip(l,u,g={}){return g.series=this,g.visiblePlotOnly=!0,this.chart.isInsidePlot(l,u,g)}drawLegendSymbol(l,u){ka[this.options.legendSymbol||"rectangle"]?.call(this,l,u)}}Ws.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:E}=this.series.chart;return typeof this.y!="number"?"":E(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ws.types=Zt.seriesTypes,Ws.registerType=Zt.registerSeriesType,Ws.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Ws.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Tr(Ws.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Vs,requireSorting:!0,sorted:!0}),Zt.series=Ws;let ns=Ws,{animObject:Iv,setAnimation:Of}=Pi,{registerEventOptions:Fr}=El,{composed:If,marginNames:zl}=ie,{distribute:Eu}=ha,{format:Hf}=Ss,{addEvent:Ha,createElement:Hv,css:Nf,defined:Mu,discardElement:Gf,find:Bf,fireEvent:Rn,isNumber:Du,merge:zo,pick:Us,pushUnique:Wh,relativeLength:Vf,stableSort:zf,syncTimeout:Nv}=ze;class _l{constructor(l,u){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=l,this.setOptions(u),u.enabled&&(this.render(),Fr(this,u),Ha(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Ha(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(l){let u=Us(l.padding,8);this.options=l,this.chart.styledMode||(this.itemStyle=l.itemStyle,this.itemHiddenStyle=zo(this.itemStyle,l.itemHiddenStyle)),this.itemMarginTop=l.itemMarginTop,this.itemMarginBottom=l.itemMarginBottom,this.padding=u,this.initialItemY=u-5,this.symbolWidth=Us(l.symbolWidth,16),this.pages=[],this.proximate=l.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(l,u){let g=this.chart;this.setOptions(zo(!0,this.options,l)),"events"in this.options&&Fr(this,this.options),this.destroy(),g.isDirtyLegend=g.isDirtyBox=!0,Us(u,!0)&&g.redraw(),Rn(this,"afterUpdate",{redraw:u})}colorizeItem(l,u){let g=l.color,{area:m,group:C,label:w,line:y,symbol:S}=l.legendItem||{};if((l instanceof ns||l instanceof Vs)&&(l.color=l.options?.legendSymbolColor||g),C?.[u?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:D={}}=this,P=D.color,{fillColor:T,fillOpacity:A,lineColor:L,marker:I}=l.options,z=B=>(!u&&(B.fill&&(B.fill=P),B.stroke&&(B.stroke=P)),B);w?.css(zo(u?this.itemStyle:D)),y?.attr(z({stroke:L||l.color})),S&&S.attr(z(I&&S.isMarker?l.pointAttribs():{fill:l.color})),m?.attr(z({fill:T||l.color,"fill-opacity":T?1:A??.75}))}l.color=g,Rn(this,"afterColorizeItem",{item:l,visible:u})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(l){let{group:u,x:g=0,y:m=0}=l.legendItem||{},C=this.options,w=C.symbolPadding,y=!C.rtl,S=l.checkbox;if(u?.element){let D={translateX:y?g:this.legendWidth-g-2*w-4,translateY:m};u[Mu(u.translateY)?"animate":"attr"](D,void 0,()=>{Rn(this,"afterPositionItem",{item:l})})}S&&(S.x=g,S.y=m)}destroyItem(l){let u=l.legendItem||{};for(let g of["group","label","line","symbol"])u[g]&&(u[g]=u[g].destroy());l.checkbox=Gf(l.checkbox),l.legendItem=void 0}destroy(){for(let l of this.getAllItems())this.destroyItem(l);for(let l of["clipRect","up","down","pager","nav","box","title","group"])this[l]&&(this[l]=this[l].destroy());this.display=null}positionCheckboxes(){let l,u=this.group?.alignAttr,g=this.clipHeight||this.legendHeight,m=this.titleHeight;u&&(l=u.translateY,this.allItems.forEach(function(C){let w,y=C.checkbox;y&&(w=l+m+y.y+(this.scrollOffset||0)+3,Nf(y,{left:u.translateX+C.checkboxOffset+y.x-20+"px",top:w+"px",display:this.proximate||w>l-6&&w<l+g-6?"":"none"}))},this))}renderTitle(){let l=this.options,u=this.padding,g=l.title,m,C=0;g.text&&(this.title||(this.title=this.chart.renderer.label(g.text,u-3,u-4,void 0,void 0,void 0,l.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(g.style),this.title.add(this.group)),g.width||this.title.css({width:this.maxLegendWidth+"px"}),C=(m=this.title.getBBox()).height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:C})),this.titleHeight=C}setText(l){let u=this.options;l.legendItem.label.attr({text:u.labelFormat?Hf(u.labelFormat,l,this.chart):u.labelFormatter.call(l)})}renderItem(l){let u=l.legendItem=l.legendItem||{},g=this.chart,m=g.renderer,C=this.options,w=C.layout==="horizontal",y=this.symbolWidth,S=C.symbolPadding||0,D=this.itemStyle,P=this.itemHiddenStyle,T=w?Us(C.itemDistance,20):0,A=!C.rtl,L=!l.series,I=!L&&l.series.drawLegendSymbol?l.series:l,z=I.options,B=!!this.createCheckboxForItem&&z&&z.showCheckbox,N=C.useHTML,$=l.options.className,q=u.label,Z=y+S+T+20*!!B;!q&&(u.group=m.g("legend-item").addClass("highcharts-"+I.type+"-series highcharts-color-"+l.colorIndex+($?" "+$:"")+(L?" highcharts-series-"+l.index:"")).attr({zIndex:1}).add(this.scrollGroup),u.label=q=m.text("",A?y+S:-S,this.baseline||0,N),g.styledMode||q.css(zo(l.visible?D:P)),q.attr({align:A?"left":"right",zIndex:2}).add(u.group),!this.baseline&&(this.fontMetrics=m.fontMetrics(q),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,q.attr("y",this.baseline),this.symbolHeight=Us(C.symbolHeight,this.fontMetrics.f),C.squareSymbol&&(this.symbolWidth=Us(C.symbolWidth,Math.max(this.symbolHeight,16)),Z=this.symbolWidth+S+T+20*!!B,A&&q.attr("x",this.symbolWidth+S))),I.drawLegendSymbol(this,l),this.setItemEvents&&this.setItemEvents(l,q,N)),B&&!l.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(l),this.colorizeItem(l,l.visible),(g.styledMode||!D.width)&&q.css({width:(C.itemWidth||this.widthOption||g.spacingBox.width)-Z+"px"}),this.setText(l);let te=q.getBBox(),se=this.fontMetrics?.h||0;l.itemWidth=l.checkboxOffset=C.itemWidth||u.labelWidth||te.width+Z,this.maxItemWidth=Math.max(this.maxItemWidth,l.itemWidth),this.totalItemWidth+=l.itemWidth,this.itemHeight=l.itemHeight=Math.round(u.labelHeight||(te.height>1.5*se?te.height:se))}layoutItem(l){let u=this.options,g=this.padding,m=u.layout==="horizontal",C=l.itemHeight,w=this.itemMarginBottom,y=this.itemMarginTop,S=m?Us(u.itemDistance,20):0,D=this.maxLegendWidth,P=u.alignColumns&&this.totalItemWidth>D?this.maxItemWidth:l.itemWidth,T=l.legendItem||{};m&&this.itemX-g+P>D&&(this.itemX=g,this.lastLineHeight&&(this.itemY+=y+this.lastLineHeight+w),this.lastLineHeight=0),this.lastItemY=y+this.itemY+w,this.lastLineHeight=Math.max(C,this.lastLineHeight),T.x=this.itemX,T.y=this.itemY,m?this.itemX+=P:(this.itemY+=y+C+w,this.lastLineHeight=C),this.offsetWidth=this.widthOption||Math.max((m?this.itemX-g-(l.checkbox?0:S):P)+g,this.offsetWidth)}getAllItems(){let l=[];return this.chart.series.forEach(function(u){let g=u?.options;u&&Us(g.showInLegend,!Mu(g.linkedTo)&&void 0,!0)&&(l=l.concat(u.legendItem?.labels||(g.legendType==="point"?u.data:u)))}),Rn(this,"afterGetAllItems",{allItems:l}),l}getAlignment(){let l=this.options;return this.proximate?l.align.charAt(0)+"tv":l.floating?"":l.align.charAt(0)+l.verticalAlign.charAt(0)+l.layout.charAt(0)}adjustMargins(l,u){let g=this.chart,m=this.options,C=this.getAlignment();C&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((w,y)=>{w.test(C)&&!Mu(l[y])&&(g[zl[y]]=Math.max(g[zl[y]],g.legend[(y+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][y]*m[y%2?"x":"y"]+(m.margin??12)+u[y]+(g.titleOffset[y]||0)))})}proximatePositions(){let l,u=this.chart,g=[],m=this.options.align==="left";for(let C of(this.allItems.forEach(function(w){let y,S,D=m,P,T;w.yAxis&&(w.xAxis.options.reversed&&(D=!D),w.points&&(y=Bf(D?w.points:w.points.slice(0).reverse(),function(A){return Du(A.plotY)})),S=this.itemMarginTop+w.legendItem.label.getBBox().height+this.itemMarginBottom,T=w.yAxis.top-u.plotTop,P=w.visible?(y?y.plotY:w.yAxis.height)+(T-.3*S):T+w.yAxis.height,g.push({target:P,size:S,item:w}))},this),Eu(g,u.plotHeight)))l=C.item.legendItem||{},Du(C.pos)&&(l.y=u.plotTop-u.spacing[0]+C.pos)}render(){let l=this.chart,u=l.renderer,g=this.options,m=this.padding,C=this.getAllItems(),w,y,S,D=this.group,P,T=this.box;this.itemX=m,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Vf(g.width,l.spacingBox.width-m),P=l.spacingBox.width-2*m-g.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(P/=2),this.maxLegendWidth=this.widthOption||P,D||(this.group=D=u.g("legend").addClass(g.className||"").attr({zIndex:7}).add(),this.contentGroup=u.g().attr({zIndex:1}).add(D),this.scrollGroup=u.g().add(this.contentGroup)),this.renderTitle(),zf(C,(A,L)=>(A.options?.legendIndex||0)-(L.options?.legendIndex||0)),g.reversed&&C.reverse(),this.allItems=C,this.display=w=!!C.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,C.forEach(this.renderItem,this),C.forEach(this.layoutItem,this),y=(this.widthOption||this.offsetWidth)+m,S=this.lastItemY+this.lastLineHeight+this.titleHeight,S=this.handleOverflow(S)+m,T||(this.box=T=u.rect().addClass("highcharts-legend-box").attr({r:g.borderRadius}).add(D)),l.styledMode||T.attr({stroke:g.borderColor,"stroke-width":g.borderWidth||0,fill:g.backgroundColor||"none"}).shadow(g.shadow),y>0&&S>0&&T[T.placed?"animate":"attr"](T.crisp.call({},{x:0,y:0,width:y,height:S},T.strokeWidth())),D[w?"show":"hide"](),l.styledMode&&D.getStyle("display")==="none"&&(y=S=0),this.legendWidth=y,this.legendHeight=S,w&&this.align(),this.proximate||this.positionItems(),Rn(this,"afterRender")}align(l=this.chart.spacingBox){let u=this.chart,g=this.options,m=l.y;/(lth|ct|rth)/.test(this.getAlignment())&&u.titleOffset[0]>0?m+=u.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&u.titleOffset[2]>0&&(m-=u.titleOffset[2]),m!==l.y&&(l=zo(l,{y:m})),u.hasRendered||(this.group.placed=!1),this.group.align(zo(g,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":g.verticalAlign}),!0,l)}handleOverflow(l){let u=this,g=this.chart,m=g.renderer,C=this.options,w=C.y,y=C.verticalAlign==="top",S=this.padding,D=C.maxHeight,P=C.navigation,T=Us(P.animation,!0),A=P.arrowSize||12,L=this.pages,I=this.allItems,z=function(Q){typeof Q=="number"?ne.attr({height:Q}):ne&&(u.clipRect=ne.destroy(),u.contentGroup.clip()),u.contentGroup.div&&(u.contentGroup.div.style.clip=Q?"rect("+S+"px,9999px,"+(S+Q)+"px,0)":"auto")},B=function(Q){return u[Q]=m.circle(0,0,1.3*A).translate(A/2,A/2).add(se),g.styledMode||u[Q].attr("fill","rgba(0,0,0,0.0001)"),u[Q]},N,$,q,Z,te=g.spacingBox.height+(y?-w:w)-S,se=this.nav,ne=this.clipRect;return C.layout!=="horizontal"||C.verticalAlign==="middle"||C.floating||(te/=2),D&&(te=Math.min(te,D)),L.length=0,l&&te>0&&l>te&&P.enabled!==!1?(this.clipHeight=N=Math.max(te-20-this.titleHeight-S,0),this.currentPage=Us(this.currentPage,1),this.fullHeight=l,I.forEach((Q,Ce)=>{let we=(q=Q.legendItem||{}).y||0,ve=Math.round(q.label.getBBox().height),Ge=L.length;(!Ge||we-L[Ge-1]>N&&($||we)!==L[Ge-1])&&(L.push($||we),Ge++),q.pageIx=Ge-1,$&&Z&&(Z.pageIx=Ge-1),Ce===I.length-1&&we+ve-L[Ge-1]>N&&we>L[Ge-1]&&(L.push(we),q.pageIx=Ge),we!==$&&($=we),Z=q}),ne||(ne=u.clipRect=m.clipRect(0,S-2,9999,0),u.contentGroup.clip(ne)),z(N),se||(this.nav=se=m.g().attr({zIndex:1}).add(this.group),this.up=m.symbol("triangle",0,0,A,A).add(se),B("upTracker").on("click",function(){u.scroll(-1,T)}),this.pager=m.text("",15,10).addClass("highcharts-legend-navigation"),!g.styledMode&&P.style&&this.pager.css(P.style),this.pager.add(se),this.down=m.symbol("triangle-down",0,0,A,A).add(se),B("downTracker").on("click",function(){u.scroll(1,T)})),u.scroll(0),l=te):se&&(z(),this.nav=se.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),l}scroll(l,u){let g=this.chart,m=this.pages,C=m.length,w=this.clipHeight,y=this.options.navigation,S=this.pager,D=this.padding,P=this.currentPage+l;P>C&&(P=C),P>0&&(u!==void 0&&Of(u,g),this.nav.attr({translateX:D,translateY:w+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(T){T.attr({class:P===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:P+"/"+C}),[this.down,this.downTracker].forEach(function(T){T.attr({x:18+this.pager.getBBox().width,class:P===C?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),g.styledMode||(this.up.attr({fill:P===1?y.inactiveColor:y.activeColor}),this.upTracker.css({cursor:P===1?"default":"pointer"}),this.down.attr({fill:P===C?y.inactiveColor:y.activeColor}),this.downTracker.css({cursor:P===C?"default":"pointer"})),this.scrollOffset=-m[P-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=P,this.positionCheckboxes(),Nv(()=>{Rn(this,"afterScroll",{currentPage:P})},Iv(Us(u,g.renderer.globalAnimation,!0)).duration))}setItemEvents(l,u,g){let m=this,C=l.legendItem||{},w=m.chart.renderer.boxWrapper,y=l instanceof Vs,S=l instanceof ns,D="highcharts-legend-"+(y?"point":"series")+"-active",P=m.chart.styledMode,T=g?[u,C.symbol]:[C.group],A=L=>{m.allItems.forEach(I=>{l!==I&&[I].concat(I.linkedSeries||[]).forEach(z=>{z.setState(L,!y)})})};for(let L of T)L&&L.on("mouseover",function(){l.visible&&A("inactive"),l.setState("hover"),l.visible&&w.addClass(D),P||u.css(m.options.itemHoverStyle)}).on("mouseout",function(){m.chart.styledMode||u.css(zo(l.visible?m.itemStyle:m.itemHiddenStyle)),A(""),w.removeClass(D),l.setState()}).on("click",function(I){let z=function(){l.setVisible&&l.setVisible(),A(l.visible?"inactive":"")};w.removeClass(D),Rn(m,"itemClick",{browserEvent:I,legendItem:l},z),y?l.firePointEvent("legendItemClick",{browserEvent:I}):S&&Rn(l,"legendItemClick",{browserEvent:I})})}createCheckboxForItem(l){l.checkbox=Hv("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:l.selected,defaultChecked:l.selected},this.options.itemCheckboxStyle,this.chart.container),Ha(l.checkbox,"click",function(u){let g=u.target;Rn(l.series||l,"checkboxClick",{checked:g.checked,item:l},function(){l.select()})})}}(function(E){E.compose=function(l){Wh(If,"Core.Legend")&&Ha(l,"beforeMargins",function(){this.legend=new E(this,this.options.legend)})}})(_l||(_l={}));let Uh=_l,{animate:Tu,animObject:jh,setAnimation:Fu}=Pi,{defaultOptions:Pu}=Ji,{numberFormat:Gv}=Ss,{registerEventOptions:_f}=El,{charts:_o,doc:no,marginNames:Au,svg:ku,win:$h}=ie,{seriesTypes:Lu}=Zt,{addEvent:Pr,attr:Kh,createElement:Wl,css:js,defined:En,diffObjects:Ou,discardElement:Wf,erase:Uf,error:oo,extend:ro,find:Iu,fireEvent:vt,getAlignFactor:Hu,getStyle:Nu,isArray:qh,isNumber:Ar,isObject:jf,isString:Gu,merge:$s,objectEach:li,pick:Pt,pInt:$f,relativeLength:Yh,removeEvent:Xh,splat:Ul,syncTimeout:jl,uniqueKey:Kf}=ze;class tn{static chart(l,u,g){return new tn(l,u,g)}constructor(l,u,g){this.sharedClips={};let m=[...arguments];(Gu(l)||l.nodeName)&&(this.renderTo=m.shift()),this.init(m[0],m[1])}setZoomOptions(){let l=this.options.chart,u=l.zooming;this.zooming={...u,type:Pt(l.zoomType,u.type),key:Pt(l.zoomKey,u.key),pinchType:Pt(l.pinchType,u.pinchType),singleTouch:Pt(l.zoomBySingleTouch,u.singleTouch,!1),resetButton:$s(u.resetButton,l.resetZoomButton)}}init(l,u){vt(this,"init",{args:arguments},function(){let g=$s(Pu,l),m=g.chart,C=this.renderTo||m.renderTo;this.userOptions=ro({},l),(this.renderTo=Gu(C)?no.getElementById(C):C)||oo(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=u,this.isResizing=0,this.options=g,this.axes=[],this.series=[],this.locale=g.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new Qi(ro(g.time||{},{locale:this.locale}),g.lang),g.time=this.time.options,this.numberFormatter=(m.numberFormatter||Gv).bind(this),this.styledMode=m.styledMode,this.hasCartesianSeries=m.showAxes,this.index=_o.length,_o.push(this),ie.chartCount++,_f(this,m),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),vt(this,"afterInit"),this.firstRender()})}initSeries(l){let u=this.options.chart,g=l.type||u.type,m=Lu[g];m||oo(17,!0,this,{missingModuleFor:g});let C=new m;return typeof C.init=="function"&&C.init(this,l),C}setSortedData(){this.getSeriesOrderByLinks().forEach(function(l){l.points||l.data||!l.enabledDataSorting||l.setData(l.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(l,u){return l.linkedSeries.length||u.linkedSeries.length?u.linkedSeries.length-l.linkedSeries.length:0})}orderItems(l,u=0){let g=this[l],m=this.options[l]=Ul(this.options[l]).slice(),C=this.userOptions[l]=this.userOptions[l]?Ul(this.userOptions[l]).slice():[];if(this.hasRendered&&(m.splice(u),C.splice(u)),g)for(let w=u,y=g.length;w<y;++w){let S=g[w];S&&(S.index=w,S instanceof ns&&(S.name=S.getName()),S.options.isInternal||(m[w]=S.options,C[w]=S.userOptions))}}getClipBox(l,u){let g=this.inverted,{xAxis:m,yAxis:C}=l||{},{x:w,y,width:S,height:D}=$s(this.clipBox);return l&&(m&&m.len!==this.plotSizeX&&(S=m.len),C&&C.len!==this.plotSizeY&&(D=C.len),g&&!l.invertible&&([S,D]=[D,S])),u&&(w+=(g?C:m)?.pos??this.plotLeft,y+=(g?m:C)?.pos??this.plotTop),{x:w,y,width:S,height:D}}isInsidePlot(l,u,g={}){let{inverted:m,plotBox:C,plotLeft:w,plotTop:y,scrollablePlotBox:S}=this,{scrollLeft:D=0,scrollTop:P=0}=g.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},T=g.series,A=g.visiblePlotOnly&&S||C,L=g.inverted?u:l,I=g.inverted?l:u,z={x:L,y:I,isInsidePlot:!0,options:g};if(!g.ignoreX){let B=T&&(m&&!this.polar?T.yAxis:T.xAxis)||{pos:w,len:1/0},N=g.paneCoordinates?B.pos+L:w+L;N>=Math.max(D+w,B.pos)&&N<=Math.min(D+w+A.width,B.pos+B.len)||(z.isInsidePlot=!1)}if(!g.ignoreY&&z.isInsidePlot){let B=!m&&g.axis&&!g.axis.isXAxis&&g.axis||T&&(m?T.xAxis:T.yAxis)||{pos:y,len:1/0},N=g.paneCoordinates?B.pos+I:y+I;N>=Math.max(P+y,B.pos)&&N<=Math.min(P+y+A.height,B.pos+B.len)||(z.isInsidePlot=!1)}return vt(this,"afterIsInsidePlot",z),z.isInsidePlot}redraw(l){vt(this,"beforeRedraw");let u=this.hasCartesianSeries?this.axes:this.colorAxis||[],g=this.series,m=this.pointer,C=this.legend,w=this.userOptions.legend,y=this.renderer,S=y.isHidden(),D=[],P,T,A,L=this.isDirtyBox,I=this.isDirtyLegend,z;for(y.rootFontSize=y.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Fu(!!this.hasRendered&&l,this),S&&this.temporaryDisplay(),this.layOutTitles(!1),A=g.length;A--;)if(((z=g[A]).options.stacking||z.options.centerInCategory)&&(T=!0,z.isDirty)){P=!0;break}if(P)for(A=g.length;A--;)(z=g[A]).options.stacking&&(z.isDirty=!0);g.forEach(function(B){B.isDirty&&(B.options.legendType==="point"?(typeof B.updateTotals=="function"&&B.updateTotals(),I=!0):w&&(w.labelFormatter||w.labelFormat)&&(I=!0)),B.isDirtyData&&vt(B,"updatedData")}),I&&C&&C.options.enabled&&(C.render(),this.isDirtyLegend=!1),T&&this.getStacks(),u.forEach(function(B){B.updateNames(),B.setScale()}),this.getMargins(),u.forEach(function(B){B.isDirty&&(L=!0)}),u.forEach(function(B){let N=B.min+","+B.max;B.extKey!==N&&(B.extKey=N,D.push(function(){vt(B,"afterSetExtremes",ro(B.eventArgs,B.getExtremes())),delete B.eventArgs})),(L||T)&&B.redraw()}),L&&this.drawChartBox(),vt(this,"predraw"),g.forEach(function(B){(L||B.isDirty)&&B.visible&&B.redraw(),B.isDirtyData=!1}),m&&m.reset(!0),y.draw(),vt(this,"redraw"),vt(this,"render"),S&&this.temporaryDisplay(!0),D.forEach(function(B){B.call()})}get(l){let u=this.series;function g(C){return C.id===l||C.options&&C.options.id===l}let m=Iu(this.axes,g)||Iu(this.series,g);for(let C=0;!m&&C<u.length;C++)m=Iu(u[C].points||[],g);return m}createAxes(){let l=this.userOptions;for(let u of(vt(this,"createAxes"),["xAxis","yAxis"]))for(let g of l[u]=Ul(l[u]||{}))new Po(this,g,u);vt(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((l,u)=>(u.getPointsCollection().forEach(g=>{Pt(g.selectedStaging,g.selected)&&l.push(g)}),l),[])}getSelectedSeries(){return this.series.filter(l=>l.selected)}setTitle(l,u,g){this.applyDescription("title",l),this.applyDescription("subtitle",u),this.applyDescription("caption",void 0),this.layOutTitles(g)}applyDescription(l,u){let g=this,m=this.options[l]=$s(this.options[l],u),C=this[l];C&&u&&(this[l]=C=C.destroy()),m&&!C&&((C=this.renderer.text(m.text,0,0,m.useHTML).attr({align:m.align,class:"highcharts-"+l,zIndex:m.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(w,y){g.applyDescription(l,w),g.layOutTitles(y)},this.styledMode||C.css(ro(l==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},m.style)),C.textPxLength=C.getBBox().width,C.css({whiteSpace:m.style?.whiteSpace}),this[l]=C)}layOutTitles(l=!0){let u=[0,0,0],{options:g,renderer:m,spacingBox:C}=this;["title","subtitle","caption"].forEach(y=>{let S=this[y],D=this.options[y],P=$s(C),T=S?.textPxLength||0;if(S&&D){vt(this,"layOutTitle",{alignTo:P,key:y,textPxLength:T});let A=m.fontMetrics(S),L=A.b,I=A.h,z=D.verticalAlign||"top",B=z==="top",N=B&&D.minScale||1,$=y==="title"?B?-3:0:B?u[0]+2:0,q=Math.min(P.width/T,1),Z=Math.max(N,q),te=$s({y:z==="bottom"?L:$+L},{align:y==="title"?q<N?"left":"center":this.title?.alignValue},D),se=(D.width||(q>N?this.chartWidth:P.width)/Z)+"px";S.alignValue!==te.align&&(S.placed=!1);let ne=Math.round(S.css({width:se}).getBBox(D.useHTML).height);if(te.height=ne,S.align(te,!1,P).attr({align:te.align,scaleX:Z,scaleY:Z,"transform-origin":`${P.x+T*Z*Hu(te.align)} ${I}`}),!D.floating){let Q=ne*(ne<1.2*I?1:Z);z==="top"?u[0]=Math.ceil(u[0]+Q):z==="bottom"&&(u[2]=Math.ceil(u[2]+Q))}}},this),u[0]&&(g.title?.verticalAlign||"top")==="top"&&(u[0]+=g.title?.margin||0),u[2]&&g.caption?.verticalAlign==="bottom"&&(u[2]+=g.caption?.margin||0);let w=!this.titleOffset||this.titleOffset.join(",")!==u.join(",");this.titleOffset=u,vt(this,"afterLayOutTitles"),!this.isDirtyBox&&w&&(this.isDirtyBox=this.isDirtyLegend=w,this.hasRendered&&l&&this.isDirtyBox&&this.redraw())}getContainerBox(){let l=[].map.call(this.renderTo.children,g=>{if(g!==this.container){let m=g.style.display;return g.style.display="none",[g,m]}}),u={width:Nu(this.renderTo,"width",!0)||0,height:Nu(this.renderTo,"height",!0)||0};return l.filter(Boolean).forEach(([g,m])=>{g.style.display=m}),u}getChartSize(){let l=this.options.chart,u=l.width,g=l.height,m=this.getContainerBox(),C=m.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,u||m.width||600),this.chartHeight=Math.max(0,Yh(g,this.chartWidth)||(C?400:m.height)),this.containerBox=m}temporaryDisplay(l){let u=this.renderTo,g;if(l)for(;u?.style;)u.hcOrigStyle&&(js(u,u.hcOrigStyle),delete u.hcOrigStyle),u.hcOrigDetached&&(no.body.removeChild(u),u.hcOrigDetached=!1),u=u.parentNode;else for(;u?.style&&(no.body.contains(u)||u.parentNode||(u.hcOrigDetached=!0,no.body.appendChild(u)),(Nu(u,"display",!1)==="none"||u.hcOricDetached)&&(u.hcOrigStyle={display:u.style.display,height:u.style.height,overflow:u.style.overflow},g={display:"block",overflow:"hidden"},u!==this.renderTo&&(g.height=0),js(u,g),u.offsetWidth||u.style.setProperty("display","block","important")),(u=u.parentNode)!==no.body););}setClassName(l){this.container.className="highcharts-container "+(l||"")}getContainer(){let l,u=this.options,g=u.chart,m="data-highcharts-chart",C=Kf(),w=this.renderTo,y=$f(Kh(w,m));Ar(y)&&_o[y]&&_o[y].hasRendered&&_o[y].destroy(),Kh(w,m,this.index),w.innerHTML=$t.emptyHTML,g.skipClone||w.offsetWidth||this.temporaryDisplay(),this.getChartSize();let S=this.chartHeight,D=this.chartWidth;js(w,{overflow:"hidden"}),this.styledMode||(l=ro({position:"relative",overflow:"hidden",width:D+"px",height:S+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},g.style||{}));let P=Wl("div",{id:C},l,w);this.container=P,this.getChartSize(),D!==this.chartWidth&&(D=this.chartWidth,this.styledMode||js(P,{width:Pt(g.style?.width,D+"px")})),this.containerBox=this.getContainerBox(),this._cursor=P.style.cursor;let T=g.renderer||!ku?ua.getRendererType(g.renderer):ou;if(this.renderer=new T(P,D,S,void 0,g.forExport,u.exporting?.allowHTML,this.styledMode),Fu(void 0,this),this.setClassName(g.className),this.styledMode)for(let A in u.defs)this.renderer.definition(u.defs[A]);else this.renderer.setStyle(g.style);this.renderer.chartIndex=this.index,vt(this,"afterGetContainer")}getMargins(l){let{spacing:u,margin:g,titleOffset:m}=this;this.resetMargins(),m[0]&&!En(g[0])&&(this.plotTop=Math.max(this.plotTop,m[0]+u[0])),m[2]&&!En(g[2])&&(this.marginBottom=Math.max(this.marginBottom,m[2]+u[2])),this.legend?.display&&this.legend.adjustMargins(g,u),vt(this,"getMargins"),l||this.getAxisMargins()}getAxisMargins(){let l=this,u=l.axisOffset=[0,0,0,0],g=l.colorAxis,m=l.margin,C=w=>{w.forEach(y=>{y.visible&&y.getOffset()})};l.hasCartesianSeries?C(l.axes):g?.length&&C(g),Au.forEach((w,y)=>{En(m[y])||(l[w]+=u[y])}),l.setChartSize()}getOptions(){return Ou(this.userOptions,Pu)}reflow(l){let u=this,g=u.containerBox,m=u.getContainerBox();delete u.pointer?.chartPosition,!u.exporting?.isPrinting&&!u.isResizing&&g&&m.width&&((m.width!==g.width||m.height!==g.height)&&(ze.clearTimeout(u.reflowTimeout),u.reflowTimeout=jl(function(){u.container&&u.setSize(void 0,void 0,!1)},100*!!l)),u.containerBox=m)}setReflow(){let l=this,u=g=>{l.options?.chart.reflow&&l.hasLoaded&&l.reflow(g)};if(typeof ResizeObserver=="function")new ResizeObserver(u).observe(l.renderTo);else{let g=Pr($h,"resize",u);Pr(this,"destroy",g)}}setSize(l,u,g){let m=this,C=m.renderer;m.isResizing+=1,Fu(g,m);let w=C.globalAnimation;m.oldChartHeight=m.chartHeight,m.oldChartWidth=m.chartWidth,l!==void 0&&(m.options.chart.width=l),u!==void 0&&(m.options.chart.height=u),m.getChartSize();let{chartWidth:y,chartHeight:S,scrollablePixelsX:D=0,scrollablePixelsY:P=0}=m;(m.isDirtyBox||y!==m.oldChartWidth||S!==m.oldChartHeight)&&(m.styledMode||(w?Tu:js)(m.container,{width:`${y+D}px`,height:`${S+P}px`},w),m.setChartSize(!0),C.setSize(y,S,w),m.axes.forEach(function(T){T.isDirty=!0,T.setScale()}),m.isDirtyLegend=!0,m.isDirtyBox=!0,m.layOutTitles(),m.getMargins(),m.redraw(w),m.oldChartHeight=void 0,vt(m,"resize"),setTimeout(()=>{m&&vt(m,"endResize")},jh(w).duration)),m.isResizing-=1}setChartSize(l){let u,g,m,C,{chartHeight:w,chartWidth:y,inverted:S,spacing:D,renderer:P}=this,T=this.clipOffset,A=Math[S?"floor":"round"];this.plotLeft=u=Math.round(this.plotLeft),this.plotTop=g=Math.round(this.plotTop),this.plotWidth=m=Math.max(0,Math.round(y-u-(this.marginRight??0))),this.plotHeight=C=Math.max(0,Math.round(w-g-(this.marginBottom??0))),this.plotSizeX=S?C:m,this.plotSizeY=S?m:C,this.spacingBox=P.spacingBox={x:D[3],y:D[0],width:y-D[3]-D[1],height:w-D[0]-D[2]},this.plotBox=P.plotBox={x:u,y:g,width:m,height:C},T&&(this.clipBox={x:A(T[3]),y:A(T[0]),width:A(this.plotSizeX-T[1]-T[3]),height:A(this.plotSizeY-T[0]-T[2])}),l||(this.axes.forEach(function(L){L.setAxisSize(),L.setAxisTranslation()}),P.alignElements()),vt(this,"afterSetChartSize",{skipAxes:l})}resetMargins(){vt(this,"resetMargins");let l=this,u=l.options.chart,g=u.plotBorderWidth||0,m=Math.round(g)/2;["margin","spacing"].forEach(C=>{let w=u[C],y=jf(w)?w:[w,w,w,w];["Top","Right","Bottom","Left"].forEach((S,D)=>{l[C][D]=u[`${C}${S}`]??y[D]})}),Au.forEach((C,w)=>{l[C]=l.margin[w]??l.spacing[w]}),l.axisOffset=[0,0,0,0],l.clipOffset=[m,m,m,m],l.plotBorderWidth=g}drawChartBox(){let l=this.options.chart,u=this.renderer,g=this.chartWidth,m=this.chartHeight,C=this.styledMode,w=this.plotBGImage,y=l.backgroundColor,S=l.plotBackgroundColor,D=l.plotBackgroundImage,P=this.plotLeft,T=this.plotTop,A=this.plotWidth,L=this.plotHeight,I=this.plotBox,z=this.clipRect,B=this.clipBox,N=this.chartBackground,$=this.plotBackground,q=this.plotBorder,Z,te,se,ne="animate";N||(this.chartBackground=N=u.rect().addClass("highcharts-background").add(),ne="attr"),C?Z=te=N.strokeWidth():(te=(Z=l.borderWidth||0)+8*!!l.shadow,se={fill:y||"none"},(Z||N["stroke-width"])&&(se.stroke=l.borderColor,se["stroke-width"]=Z),N.attr(se).shadow(l.shadow)),N[ne]({x:te/2,y:te/2,width:g-te-Z%2,height:m-te-Z%2,r:l.borderRadius}),ne="animate",$||(ne="attr",this.plotBackground=$=u.rect().addClass("highcharts-plot-background").add()),$[ne](I),!C&&($.attr({fill:S||"none"}).shadow(l.plotShadow),D&&(w?(D!==w.attr("href")&&w.attr("href",D),w.animate(I)):this.plotBGImage=u.image(D,P,T,A,L).add())),z?z.animate({width:B.width,height:B.height}):this.clipRect=u.clipRect(B),ne="animate",q||(ne="attr",this.plotBorder=q=u.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),C||q.attr({stroke:l.plotBorderColor,"stroke-width":l.plotBorderWidth||0,fill:"none"}),q[ne](q.crisp(I,-q.strokeWidth())),this.isDirtyBox=!1,vt(this,"afterDrawChartBox")}propFromSeries(){let l,u,g,m=this,C=m.options.chart,w=m.options.series;["inverted","angular","polar"].forEach(function(y){for(u=Lu[C.type],g=C[y]||u&&u.prototype[y],l=w?.length;!g&&l--;)(u=Lu[w[l].type])&&u.prototype[y]&&(g=!0);m[y]=g})}linkSeries(l){let u=this,g=u.series;g.forEach(function(m){m.linkedSeries.length=0}),g.forEach(function(m){let{linkedTo:C}=m.options;if(Gu(C)){let w;(w=C===":previous"?u.series[m.index-1]:u.get(C))&&w.linkedParent!==m&&(w.linkedSeries.push(m),m.linkedParent=w,w.enabledDataSorting&&m.setDataSortingOptions(),m.visible=Pt(m.options.visible,w.options.visible,m.visible))}}),vt(this,"afterLinkSeries",{isUpdating:l})}renderSeries(){this.series.forEach(function(l){l.translate(),l.render()})}render(){let l=this.axes,u=this.colorAxis,g=this.renderer,m=this.options.chart.axisLayoutRuns||2,C=P=>{P.forEach(T=>{T.visible&&T.render()})},w=0,y=!0,S,D=0;for(let P of(this.setTitle(),vt(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),l)){let{options:T}=P,{labels:A}=T;if(this.hasCartesianSeries&&P.horiz&&P.visible&&A.enabled&&P.series.length&&P.coll!=="colorAxis"&&!this.polar){w=T.tickLength,P.createGroups();let L=new Yn(P,0,"",!0),I=L.createLabel("x",A);if(L.destroy(),I&&Pt(A.reserveSpace,!Ar(T.crossing))&&(w=I.getBBox().height+A.distance+Math.max(T.offset||0,0)),w){I?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-w,0);(y||S||m>1)&&D<m;){let P=this.plotWidth,T=this.plotHeight;for(let A of l)D===0?A.setScale():(A.horiz&&y||!A.horiz&&S)&&A.setTickInterval(!0);D===0?this.getAxisMargins():this.getMargins(),y=P/this.plotWidth>(D?1:1.1),S=T/this.plotHeight>(D?1:1.05),D++}this.drawChartBox(),this.hasCartesianSeries?C(l):u?.length&&C(u),this.seriesGroup||(this.seriesGroup=g.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=g.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(l){let u=this,g=$s(!0,this.options.credits,l);g.enabled&&!this.credits&&(this.credits=this.renderer.text(g.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){g.href&&($h.location.href=g.href)}).attr({align:g.position.align,zIndex:8}),u.styledMode||this.credits.css(g.style),this.credits.add().align(g.position),this.credits.update=function(m){u.credits=u.credits.destroy(),u.addCredits(m)})}destroy(){let l,u=this,g=u.axes,m=u.series,C=u.container,w=C?.parentNode;for(vt(u,"destroy"),u.renderer.forExport?Uf(_o,u):_o[u.index]=void 0,ie.chartCount--,u.renderTo.removeAttribute("data-highcharts-chart"),Xh(u),l=g.length;l--;)g[l]=g[l].destroy();for(this.scroller?.destroy?.(),l=m.length;l--;)m[l]=m[l].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(y=>{u[y]=u[y]?.destroy?.()}),C&&(C.innerHTML=$t.emptyHTML,Xh(C),w&&Wf(C)),li(u,function(y,S){delete u[S]})}firstRender(){let l=this,u=l.options;l.getContainer(),l.resetMargins(),l.setChartSize(),l.propFromSeries(),l.createAxes();let g=qh(u.series)?u.series:[];u.series=[],g.forEach(function(m){l.initSeries(m)}),l.linkSeries(),l.setSortedData(),vt(l,"beforeRender"),l.render(),l.pointer?.getChartPosition(),l.renderer.imgCount||l.hasLoaded||l.onload(),l.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(l){l&&this.index!==void 0&&l.apply(this,[this])},this),vt(this,"load"),vt(this,"render"),En(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:l,title:u}=this;l&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(u?.element.textContent||"").replace(/</g,"&lt;")}),l.accessibility&&l.accessibility.enabled===!1||oo('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(l,u,g){let m,C=this;return l&&(u=Pt(u,!0),vt(C,"addSeries",{options:l},function(){m=C.initSeries(l),C.isDirtyLegend=!0,C.linkSeries(),m.enabledDataSorting&&m.setData(l.data,!1),vt(C,"afterAddSeries",{series:m}),u&&C.redraw(g)})),m}addAxis(l,u,g,m){return this.createAxis(u?"xAxis":"yAxis",{axis:l,redraw:g,animation:m})}addColorAxis(l,u,g){return this.createAxis("colorAxis",{axis:l,redraw:u,animation:g})}createAxis(l,u){let g=new Po(this,u.axis,l);return Pt(u.redraw,!0)&&this.redraw(u.animation),g}showLoading(l){let u=this,g=u.options,m=g.loading,C=function(){w&&js(w,{left:u.plotLeft+"px",top:u.plotTop+"px",width:u.plotWidth+"px",height:u.plotHeight+"px"})},w=u.loadingDiv,y=u.loadingSpan;w||(u.loadingDiv=w=Wl("div",{className:"highcharts-loading highcharts-loading-hidden"},null,u.container)),y||(u.loadingSpan=y=Wl("span",{className:"highcharts-loading-inner"},null,w),Pr(u,"redraw",C)),w.className="highcharts-loading",$t.setElementHTML(y,Pt(l,g.lang.loading,"")),!u.styledMode&&(js(w,ro(m.style,{zIndex:10})),js(y,m.labelStyle),u.loadingShown||(js(w,{opacity:0,display:""}),Tu(w,{opacity:m.style.opacity||.5},{duration:m.showDuration||0}))),u.loadingShown=!0,C()}hideLoading(){let l=this.options,u=this.loadingDiv;u&&(u.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Tu(u,{opacity:0},{duration:l.loading.hideDuration||100,complete:function(){js(u,{display:"none"})}})),this.loadingShown=!1}update(l,u,g,m){let C,w,y,S=this,D={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},P=l.isResponsiveOptions,T=[];vt(S,"update",{options:l}),P||S.setResponsive(!1,!0),l=Ou(l,S.options),S.userOptions=$s(S.userOptions,l);let A=l.chart;A&&($s(!0,S.options.chart,A),this.setZoomOptions(),"className"in A&&S.setClassName(A.className),("inverted"in A||"polar"in A||"type"in A)&&(S.propFromSeries(),C=!0),"alignTicks"in A&&(C=!0),"events"in A&&_f(this,A),li(A,function(z,B){S.propsRequireUpdateSeries.indexOf("chart."+B)!==-1&&(w=!0),S.propsRequireDirtyBox.indexOf(B)!==-1&&(S.isDirtyBox=!0),S.propsRequireReflow.indexOf(B)!==-1&&(S.isDirtyBox=!0,P||(y=!0))}),!S.styledMode&&A.style&&S.renderer.setStyle(S.options.chart.style||{})),!S.styledMode&&l.colors&&(this.options.colors=l.colors),li(l,function(z,B){S[B]&&typeof S[B].update=="function"?S[B].update(z,!1):typeof S[D[B]]=="function"?S[D[B]](z):B!=="colors"&&S.collectionsWithUpdate.indexOf(B)===-1&&$s(!0,S.options[B],l[B]),B!=="chart"&&S.propsRequireUpdateSeries.indexOf(B)!==-1&&(w=!0)}),this.collectionsWithUpdate.forEach(function(z){l[z]&&(Ul(l[z]).forEach(function(B,N){let $,q=En(B.id);q&&($=S.get(B.id)),!$&&S[z]&&($=S[z][Pt(B.index,N)])&&(q&&En($.options.id)||$.options.isInternal)&&($=void 0),$&&$.coll===z&&($.update(B,!1),g&&($.touched=!0)),!$&&g&&S.collectionsWithInit[z]&&(S.collectionsWithInit[z][0].apply(S,[B].concat(S.collectionsWithInit[z][1]||[]).concat([!1])).touched=!0)}),g&&S[z].forEach(function(B){B.touched||B.options.isInternal?delete B.touched:T.push(B)}))}),T.forEach(function(z){z.chart&&z.remove&&z.remove(!1)}),C&&S.axes.forEach(function(z){z.update({},!1)}),w&&S.getSeriesOrderByLinks().forEach(function(z){z.chart&&z.update({},!1)},this);let L=A?.width,I=A&&(Gu(A.height)?Yh(A.height,L||S.chartWidth):A.height);y||Ar(L)&&L!==S.chartWidth||Ar(I)&&I!==S.chartHeight?S.setSize(L,I,m):Pt(u,!0)&&S.redraw(m),vt(S,"afterUpdate",{options:l,redraw:u,animation:m})}setSubtitle(l,u){this.applyDescription("subtitle",l),this.layOutTitles(u)}setCaption(l,u){this.applyDescription("caption",l),this.layOutTitles(u)}showResetZoom(){let l=this,u=Pu.lang,g=l.zooming.resetButton,m=g.theme,C=g.relativeTo==="chart"||g.relativeTo==="spacingBox"?null:"plotBox";function w(){l.zoomOut()}vt(this,"beforeShowResetZoom",null,function(){l.resetZoomButton=l.renderer.button(u.resetZoom,null,null,w,m).attr({align:g.position.align,title:u.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(g.position,!1,C)}),vt(this,"afterShowResetZoom")}zoomOut(){vt(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(l,u){let g=this,m=typeof u=="object"?u:{enabled:u,type:"x"},C=m.type,w=C&&g[{x:"xAxis",xy:"axes",y:"yAxis"}[C]].filter(S=>S.options.panningEnabled&&!S.options.isInternal),y=g.options.chart;y?.panning&&(y.panning=m),vt(this,"pan",{originalEvent:l},()=>{g.transform({axes:w,event:l,to:{x:l.chartX-(g.mouseDownX||0),y:l.chartY-(g.mouseDownY||0)},trigger:"pan"}),js(g.container,{cursor:"move"})})}transform(l){let{axes:u=this.axes,event:g,from:m={},reset:C,selection:w,to:y={},trigger:S}=l,{inverted:D,time:P}=this;this.hoverPoints?.forEach(I=>I.setState()),vt(this,"transform",l);let T=l.hasZoomed||!1,A,L;for(let I of u){let{horiz:z,len:B,minPointOffset:N=0,options:$,reversed:q}=I,Z=z?"width":"height",te=z?"x":"y",se=Pt(y[Z],I.len),ne=Pt(m[Z],I.len),Q=10>Math.abs(se)?1:se/ne,Ce=(m[te]||0)+ne/2-I.pos,we=Ce-((y[te]??I.pos)+se/2-I.pos)/Q,ve=q&&!D||!q&&D?-1:1;if(!C&&(Ce<0||Ce>I.len))continue;let Ge=I.chart.polar||I.isOrdinal?0:N*ve||0,We=I.toValue(we,!0),Ke=I.toValue(we+B/Q,!0),Ie=We+Ge,Ve=Ke-Ge,Ue=I.allExtremes;if(w&&w[I.coll].push({axis:I,min:Math.min(We,Ke),max:Math.max(We,Ke)}),Ie>Ve&&([Ie,Ve]=[Ve,Ie]),Q===1&&!C&&I.coll==="yAxis"&&!Ue){for(let qi of I.series){let qs=qi.getExtremes(qi.getProcessedData(!0).modified.getColumn("y")||[],!0);Ue??(Ue={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Ar(qs.dataMin)&&Ar(qs.dataMax)&&(Ue.dataMin=Math.min(qs.dataMin,Ue.dataMin),Ue.dataMax=Math.max(qs.dataMax,Ue.dataMax))}I.allExtremes=Ue}let{dataMin:It,dataMax:gt,min:zi,max:nt}=ro(I.getExtremes(),Ue||{}),et=P.parse($.min),bt=P.parse($.max),ut=It??et,zt=gt??bt,_t=Ve-Ie,pt=I.categories?0:Math.min(_t,zt-ut),ti=ut-pt*(En(et)?0:$.minPadding),$i=zt+pt*(En(bt)?0:$.maxPadding),Ki=I.allowZoomOutside||Q===1||S!=="zoom"&&Q>1,Xo=Math.min(et??ti,ti,Ki?zi:ti),cn=Math.max(bt??$i,$i,Ki?nt:$i);(!I.isOrdinal||Q!==1||C)&&(Ie<Xo&&(Ie=Xo,Q>=1&&(Ve=Ie+_t)),Ve>cn&&(Ve=cn,Q>=1&&(Ie=Ve-_t)),(C||I.series.length&&(Ie!==zi||Ve!==nt)&&Ie>=Xo&&Ve<=cn)&&(w?w[I.coll].push({axis:I,min:Ie,max:Ve}):(I.isPanning=S!=="zoom",I.isPanning&&(L=!0),I.setExtremes(C?void 0:Ie,C?void 0:Ve,!1,!1,{move:we,trigger:S,scale:Q}),!C&&(Ie>Xo||Ve<cn)&&S!=="mousewheel"&&(A=!0)),T=!0),this.hasCartesianSeries||C||S==="mousewheel"||(A=!0),g&&(this[z?"mouseDownX":"mouseDownY"]=g[z?"chartX":"chartY"]))}return T&&(w?vt(this,"selection",w,()=>{delete l.selection,l.trigger="zoom",this.transform(l)}):(!A||L||this.resetZoomButton?!A&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(S==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),T}}ro(tn.prototype,{callbacks:[],collectionsWithInit:{xAxis:[tn.prototype.addAxis,[!0]],yAxis:[tn.prototype.addAxis,[!1]],series:[tn.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:qf}=Pi,{composed:Bv}=ie,{addEvent:sn,createElement:Na,css:Bu,defined:Vu,erase:Yf,merge:zu,pushUnique:_u}=ze;function Zh(){let E=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!E&&(this.scrollablePlotArea=E=new kr(this)),E?.applyFixed()}function Qh(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class kr{static compose(l,u,g){_u(Bv,this.compose)&&(sn(l,"afterInit",Qh),sn(u,"afterSetChartSize",m=>this.afterSetSize(m.target,m)),sn(u,"render",Zh),sn(g,"show",Qh))}static afterSetSize(l,u){let g,m,C,{minWidth:w,minHeight:y}=l.options.chart.scrollablePlotArea||{},{clipBox:S,plotBox:D,inverted:P,renderer:T}=l;if(!T.forExport)if(w?(l.scrollablePixelsX=g=Math.max(0,w-l.chartWidth),g&&(l.scrollablePlotBox=zu(l.plotBox),D.width=l.plotWidth+=g,S[P?"height":"width"]+=g,C=!0)):y&&(l.scrollablePixelsY=m=Math.max(0,y-l.chartHeight),Vu(m)&&(l.scrollablePlotBox=zu(l.plotBox),D.height=l.plotHeight+=m,S[P?"width":"height"]+=m,C=!1)),Vu(C)){if(!u.skipAxes)for(let A of l.axes)(A.horiz===C||l.hasParallelCoordinates&&A.coll==="yAxis")&&(A.setAxisSize(),A.setAxisTranslation())}else delete l.scrollablePlotBox}constructor(l){let u,g=l.options.chart,m=ua.getRendererType(),C=g.scrollablePlotArea||{},w=this.moveFixedElements.bind(this),y={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};l.scrollablePixelsX&&(y.overflowX="auto"),l.scrollablePixelsY&&(y.overflowY="auto"),this.chart=l;let S=this.parentDiv=Na("div",{className:"highcharts-scrolling-parent"},{position:"relative"},l.renderTo),D=this.scrollingContainer=Na("div",{className:"highcharts-scrolling"},y,S),P=this.innerContainer=Na("div",{className:"highcharts-inner-container"},void 0,D),T=this.fixedDiv=Na("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(g.style?.zIndex||0)+2,top:0},void 0,!0),A=this.fixedRenderer=new m(T,l.chartWidth,l.chartHeight,g.style);this.mask=A.path().attr({fill:g.backgroundColor||"#fff","fill-opacity":C.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),D.parentNode.insertBefore(T,D),Bu(l.renderTo,{overflow:"visible"}),sn(l,"afterShowResetZoom",w),sn(l,"afterApplyDrilldown",w),sn(l,"afterLayOutTitles",w),sn(D,"scroll",()=>{let{pointer:L,hoverPoint:I}=l;L&&(delete L.chartPosition,I&&(u=I),L.runPointActions(void 0,u,!0))}),P.appendChild(l.container)}applyFixed(){let{chart:l,fixedRenderer:u,isDirty:g,scrollingContainer:m}=this,{axisOffset:C,chartWidth:w,chartHeight:y,container:S,plotHeight:D,plotLeft:P,plotTop:T,plotWidth:A,scrollablePixelsX:L=0,scrollablePixelsY:I=0}=l,{scrollPositionX:z=0,scrollPositionY:B=0}=l.options.chart.scrollablePlotArea||{},N=w+L,$=y+I;u.setSize(w,y),(g??!0)&&(this.isDirty=!1,this.moveFixedElements()),qf(l.container),Bu(S,{width:`${N}px`,height:`${$}px`}),l.renderer.boxWrapper.attr({width:N,height:$,viewBox:[0,0,N,$].join(" ")}),l.chartBackground?.attr({width:N,height:$}),Bu(m,{width:`${w}px`,height:`${y}px`}),Vu(g)||(m.scrollLeft=L*z,m.scrollTop=I*B);let q=T-C[0]-1,Z=P-C[3]-1,te=T+D+C[2]+1,se=P+A+C[1]+1,ne=P+A-L,Q=T+D-I,Ce=[["M",0,0]];L?Ce=[["M",0,q],["L",P-1,q],["L",P-1,te],["L",0,te],["Z"],["M",ne,q],["L",w,q],["L",w,te],["L",ne,te],["Z"]]:I&&(Ce=[["M",Z,0],["L",Z,T-1],["L",se,T-1],["L",se,0],["Z"],["M",Z,Q],["L",Z,y],["L",se,y],["L",se,Q],["Z"]]),l.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Ce})}moveFixedElements(){let l,{container:u,inverted:g,scrollablePixelsX:m,scrollablePixelsY:C}=this.chart,w=this.fixedRenderer,y=kr.fixedSelectors;if(m&&!g?l=".highcharts-yaxis":m&&g||C&&!g?l=".highcharts-xaxis":C&&g&&(l=".highcharts-yaxis"),l&&!(this.chart.hasParallelCoordinates&&l===".highcharts-yaxis"))for(let S of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])_u(y,S);else for(let S of[".highcharts-xaxis",".highcharts-yaxis"])for(let D of[`${S}:not(.highcharts-radial-axis)`,`${S}-labels:not(.highcharts-radial-axis-labels)`])Yf(y,D);for(let S of y)[].forEach.call(u.querySelectorAll(S),D=>{(D.namespaceURI===w.SVG_NS?w.box:w.box.parentNode).appendChild(D),D.style.pointerEvents="auto"})}}kr.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Wu}=Ss,{series:Jh}=Zt,{destroyObjectProperties:Xf,fireEvent:Uu,getAlignFactor:ju,isNumber:nn,pick:Lr}=ze,Zf=class{constructor(E,l,u,g,m){let C=E.chart.inverted,w=E.reversed;this.axis=E;let y=this.isNegative=!!u!=!!w;this.options=l=l||{},this.x=g,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=m,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:l.align||(C?y?"left":"right":"center"),verticalAlign:l.verticalAlign||(C?"middle":y?"bottom":"top"),y:l.y,x:l.x},this.textAlign=l.textAlign||(C?y?"right":"left":"center")}destroy(){Xf(this,this.axis)}render(E){let l=this.axis.chart,u=this.options,g=u.format,m=g?Wu(g,this,l):u.formatter.call(this);if(this.label)this.label.attr({text:m,visibility:"hidden"});else{this.label=l.renderer.label(m,null,void 0,u.shape,void 0,void 0,u.useHTML,!1,"stack-labels");let C={r:u.borderRadius||0,text:m,padding:Lr(u.padding,5),visibility:"hidden"};l.styledMode||(C.fill=u.backgroundColor,C.stroke=u.borderColor,C["stroke-width"]=u.borderWidth,this.label.css(u.style||{})),this.label.attr(C),this.label.added||this.label.add(E)}this.label.labelrank=l.plotSizeY,Uu(this,"afterRender")}setOffset(E,l,u,g,m,C){let{alignOptions:w,axis:y,label:S,options:D,textAlign:P}=this,T=y.chart,A=this.getStackBox({xOffset:E,width:l,boxBottom:u,boxTop:g,defaultX:m,xAxis:C}),{verticalAlign:L}=w;if(S&&A){let I=S.getBBox(void 0,0),z=S.padding,B=Lr(D.overflow,"justify")==="justify",N;w.x=D.x||0,w.y=D.y||0;let{x:$,y:q}=this.adjustStackPosition({labelBox:I,verticalAlign:L,textAlign:P});A.x-=$,A.y-=q,S.align(w,!1,A),(N=T.isInsidePlot(S.alignAttr.x+w.x+$,S.alignAttr.y+w.y+q))||(B=!1),B&&Jh.prototype.justifyDataLabel.call(y,S,w,S.alignAttr,I,A),S.attr({x:S.alignAttr.x,y:S.alignAttr.y,rotation:D.rotation,rotationOriginX:I.width*ju(D.textAlign||"center"),rotationOriginY:I.height/2}),Lr(!B&&D.crop,!0)&&(N=nn(S.x)&&nn(S.y)&&T.isInsidePlot(S.x-z+(S.width||0),S.y)&&T.isInsidePlot(S.x+z,S.y)),S[N?"show":"hide"]()}Uu(this,"afterSetOffset",{xOffset:E,width:l})}adjustStackPosition({labelBox:E,verticalAlign:l,textAlign:u}){return{x:E.width/2+E.width/2*(2*ju(u)-1),y:E.height/2*2*(1-ju(l))}}getStackBox(E){let l=this.axis,u=l.chart,{boxTop:g,defaultX:m,xOffset:C,width:w,boxBottom:y}=E,S=l.stacking.usePercentage?100:Lr(g,this.total,0),D=l.toPixels(S),P=E.xAxis||u.xAxis[0],T=Lr(m,P.translate(this.x))+C,A=Math.abs(D-l.toPixels(y||nn(l.min)&&l.logarithmic&&l.logarithmic.lin2log(l.min)||0)),L=u.inverted,I=this.isNegative;return L?{x:(I?D:D-A)-u.plotLeft,y:P.height-T-w+P.top-u.plotTop,width:A,height:w}:{x:T+P.transB-u.plotLeft,y:(I?D-A:D)-u.plotTop,width:w,height:A}}},{getDeferredAnimation:Qf}=Pi,{series:{prototype:ao}}=Zt,{addEvent:$u,correctFloat:Ga,defined:$l,destroyObjectProperties:Kl,fireEvent:ei,isNumber:eg,objectEach:Or,pick:Ku}=ze;function ql(){let E=this.inverted;this.axes.forEach(l=>{l.stacking?.stacks&&l.hasVisibleSeries&&(l.stacking.oldStacks=l.stacking.stacks)}),this.series.forEach(l=>{let u=l.xAxis?.options||{};l.options.stacking&&l.reserveSpace()&&(l.stackKey=[l.type,Ku(l.options.stack,""),E?u.top:u.left,E?u.height:u.width].join(","))})}function Wo(){let E=this.stacking;if(E){let l=E.stacks;Or(l,(u,g)=>{Kl(u),delete l[g]}),E.stackTotalGroup?.destroy()}}function Jf(){this.stacking||(this.stacking=new im(this))}function em(E,l,u,g){return!$l(E)||E.x!==l||g&&E.stackKey!==g?E={x:l,index:0,key:g,stackKey:g}:E.index++,E.key=[u,l,E.index].join(","),E}function Yl(){let E,l=this,u=l.yAxis,g=l.stackKey||"",m=u.stacking.stacks,C=l.getColumn("x",!0),w=l.options.stacking,y=l[w+"Stacker"];y&&[g,"-"+g].forEach(S=>{let D=C.length,P,T,A;for(;D--;)P=C[D],E=l.getStackIndicator(E,P,l.index,S),T=m[S]?.[P],(A=T?.points[E.key||""])&&y.call(l,A,T,D)})}function Mn(E,l,u){let g=l.total?100/l.total:0;E[0]=Ga(E[0]*g),E[1]=Ga(E[1]*g),this.stackedYData[u]=E[1]}function tm(E){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?ao.setStackedPoints.call(this,E,"group"):E.stacking.resetStacks())}function tg(E,l){let u,g,m,C,w,y,S,D=l||this.options.stacking;if(!D||!this.reserveSpace()||({group:"xAxis"}[D]||"yAxis")!==E.coll)return;let P=this.getColumn("x",!0),T=this.getColumn(this.pointValKey||"y",!0),A=[],L=T.length,I=this.options,z=I.threshold||0,B=I.startFromThreshold?z:0,N=I.stack,$=l?`${this.type},${D}`:this.stackKey||"",q="-"+$,Z=this.negStacks,te=E.stacking,se=te.stacks,ne=te.oldStacks;for(te.stacksTouched+=1,S=0;S<L;S++){let Q=P[S]||0,Ce=T[S],we=eg(Ce)&&Ce||0;y=(u=this.getStackIndicator(u,Q,this.index)).key||"",se[w=(g=Z&&we<(B?0:z))?q:$]||(se[w]={}),se[w][Q]||(ne[w]?.[Q]?(se[w][Q]=ne[w][Q],se[w][Q].total=null):se[w][Q]=new Zf(E,E.options.stackLabels,!!g,Q,N)),m=se[w][Q],Ce!==null?(m.points[y]=m.points[this.index]=[Ku(m.cumulative,B)],$l(m.cumulative)||(m.base=y),m.touched=te.stacksTouched,u.index>0&&this.singleStacks===!1&&(m.points[y][0]=m.points[this.index+","+Q+",0"][0])):(delete m.points[y],delete m.points[this.index]);let ve=m.total||0;D==="percent"?(C=g?$:q,ve=Z&&se[C]?.[Q]?(C=se[C][Q]).total=Math.max(C.total||0,ve)+Math.abs(we):Ga(ve+Math.abs(we))):D==="group"?eg(Ce)&&ve++:ve=Ga(ve+we),D==="group"?m.cumulative=(ve||1)-1:m.cumulative=Ga(Ku(m.cumulative,B)+we),m.total=ve,Ce!==null&&(m.points[y].push(m.cumulative),A[S]=m.cumulative,m.hasValidPoints=!0)}D==="percent"&&(te.usePercentage=!0),D!=="group"&&(this.stackedYData=A),te.oldStacks={}}class im{constructor(l){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=l}buildStacks(){let l,u,g=this.axis,m=g.series,C=g.coll==="xAxis",w=g.options.reversedStacks,y=m.length;for(this.resetStacks(),this.usePercentage=!1,u=y;u--;)l=m[w?u:y-u-1],C&&l.setGroupedPoints(g),l.setStackedPoints(g);if(!C)for(u=0;u<y;u++)m[u].modifyStacks();ei(g,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Or(this.stacks,l=>{Or(l,u=>{u.cumulative=u.total})}))}resetStacks(){Or(this.stacks,l=>{Or(l,(u,g)=>{eg(u.touched)&&u.touched<this.stacksTouched?(u.destroy(),delete l[g]):(u.total=null,u.cumulative=null)})})}renderStackTotals(){let l=this.axis,u=l.chart,g=u.renderer,m=this.stacks,C=Qf(u,l.options.stackLabels?.animation||!1),w=this.stackTotalGroup=this.stackTotalGroup||g.g("stack-labels").attr({zIndex:6,opacity:0}).add();w.translate(u.plotLeft,u.plotTop),Or(m,y=>{Or(y,S=>{S.render(w)})}),w.animate({opacity:1},C)}}(V||(V={})).compose=function(E,l,u){let g=l.prototype,m=u.prototype;g.getStacks||($u(E,"init",Jf),$u(E,"destroy",Wo),g.getStacks=ql,m.getStackIndicator=em,m.modifyStacks=Yl,m.percentStacker=Mn,m.setGroupedPoints=tm,m.setStackedPoints=tg)};let ig=V,{defined:sg,merge:Xl,isObject:sm}=ze;class Dn extends ns{drawGraph(){let l=this.options,u=(this.gappedPath||this.getGraphPath).call(this),g=this.chart.styledMode;[this,...this.zones].forEach((m,C)=>{let w,y=m.graph,S=y?"animate":"attr",D=m.dashStyle||l.dashStyle;y?(y.endX=this.preventGraphAnimation?null:u.xMap,y.animate({d:u})):u.length&&(m.graph=y=this.chart.renderer.path(u).addClass("highcharts-graph"+(C?` highcharts-zone-graph-${C-1} `:" ")+(C&&m.className||"")).attr({zIndex:1}).add(this.group)),y&&!g&&(w={stroke:!C&&l.lineColor||m.color||this.color||"#cccccc","stroke-width":l.lineWidth||0,fill:this.fillGraph&&this.color||"none"},D?w.dashstyle=D:l.linecap!=="square"&&(w["stroke-linecap"]=w["stroke-linejoin"]="round"),y[S](w).shadow(l.shadow&&Xl({filterUnits:"userSpaceOnUse"},sm(l.shadow)?l.shadow:{}))),y&&(y.startX=u.xMap,y.isArea=u.isArea)})}getGraphPath(l,u,g){let m=this,C=m.options,w=[],y=[],S,D=C.step,P=(l=l||m.points).reversed;return P&&l.reverse(),(D={right:1,center:2}[D]||D&&3)&&P&&(D=4-D),(l=this.getValidPoints(l,!1,C.nullInteraction||!(C.connectNulls&&!u&&!g))).forEach(function(T,A){let L,I=T.plotX,z=T.plotY,B=l[A-1],N=T.isNull||typeof z!="number";(T.leftCliff||B?.rightCliff)&&!g&&(S=!0),N&&!sg(u)&&A>0?S=!C.connectNulls:N&&!u?S=!0:(A===0||S?L=[["M",T.plotX,T.plotY]]:m.getPointSpline?L=[m.getPointSpline(l,T,A)]:D?(L=D===1?[["L",B.plotX,z]]:D===2?[["L",(B.plotX+I)/2,B.plotY],["L",(B.plotX+I)/2,z]]:[["L",I,B.plotY]]).push(["L",I,z]):L=[["L",I,z]],y.push(T.x),D&&(y.push(T.x),D===2&&y.push(T.x)),w.push.apply(w,L),S=!1)}),w.xMap=y,m.graphPath=w,w}}Dn.defaultOptions=Xl(ns.defaultOptions,{legendSymbol:"lineMarker"}),Zt.registerSeriesType("line",Dn);let{seriesTypes:{line:ci}}=Zt,{extend:ng,merge:nm,objectEach:Li,pick:qu}=ze;class Yu extends ci{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:l,options:u}=this;[this,...this.zones].forEach((g,m)=>{let C={},w=g.fillColor||u.fillColor,y=g.area,S=y?"animate":"attr";y?(y.endX=this.preventGraphAnimation?null:l.xMap,y.animate({d:l})):(C.zIndex=0,(y=g.area=this.chart.renderer.path(l).addClass("highcharts-area"+(m?` highcharts-zone-area-${m-1} `:" ")+(m&&g.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(C.fill=w||g.color||this.color,C["fill-opacity"]=w?1:u.fillOpacity??.75,y.css({pointerEvents:this.stickyTracking?"none":"auto"})),y[S](C),y.startX=l.xMap,y.shiftUnit=u.step?2:1})}getGraphPath(l){let u,g,m,C=ci.prototype.getGraphPath,w=this.options,y=w.stacking,S=this.yAxis,D=[],P=[],T=this.index,A=S.stacking.stacks[this.stackKey],L=w.threshold,I=Math.round(S.getThreshold(w.threshold)),z=qu(w.connectNulls,y==="percent"),B=function(se,ne,Q){let Ce=l[se],we=y&&A[Ce.x].points[T],ve=Ce[Q+"Null"]||0,Ge=Ce[Q+"Cliff"]||0,We,Ke,Ie=!0;Ge||ve?(We=(ve?we[0]:we[1])+Ge,Ke=we[0]+Ge,Ie=!!ve):!y&&l[ne]&&l[ne].isNull&&(We=Ke=L),We!==void 0&&(P.push({plotX:u,plotY:We===null?I:S.getThreshold(We),isNull:Ie,isCliff:!0}),D.push({plotX:u,plotY:Ke===null?I:S.getThreshold(Ke),doCurve:!1}))};l=l||this.points,y&&(l=this.getStackPoints(l));for(let se=0,ne=l.length;se<ne;++se)y||(l[se].leftCliff=l[se].rightCliff=l[se].leftNull=l[se].rightNull=void 0),g=l[se].isNull,u=qu(l[se].rectPlotX,l[se].plotX),m=y?qu(l[se].yBottom,I):I,(!g||z)&&(z||B(se,se-1,"left"),g&&!y&&z||(P.push(l[se]),D.push({x:se,plotX:u,plotY:m})),z||B(se,se+1,"right"));let N=C.call(this,P,!0,!0);D.reversed=!0;let $=C.call(this,D,!0,!0),q=$[0];q&&q[0]==="M"&&($[0]=["L",q[1],q[2]]);let Z=N.concat($);Z.length&&Z.push(["Z"]);let te=C.call(this,P,!1,z);return this.chart.series.length>1&&y&&P.some(se=>se.isCliff)&&(Z.hasStackedCliffs=te.hasStackedCliffs=!0),Z.xMap=N.xMap,this.areaPath=Z,te}getStackPoints(l){let u=this,g=[],m=[],C=this.xAxis,w=this.yAxis,y=w.stacking.stacks[this.stackKey],S={},D=w.series,P=D.length,T=w.options.reversedStacks?1:-1,A=D.indexOf(u);if(l=l||this.points,this.options.stacking){for(let I=0;I<l.length;I++)l[I].leftNull=l[I].rightNull=void 0,S[l[I].x]=l[I];Li(y,function(I,z){I.total!==null&&m.push(z)}),m.sort(function(I,z){return I-z});let L=D.map(I=>I.visible);m.forEach(function(I,z){let B=0,N,$;if(S[I]&&!S[I].isNull)g.push(S[I]),[-1,1].forEach(function(q){let Z=q===1?"rightNull":"leftNull",te=y[m[z+q]],se=0;if(te){let ne=A;for(;ne>=0&&ne<P;){let Q=D[ne].index;!(N=te.points[Q])&&(Q===u.index?S[I][Z]=!0:L[ne]&&($=y[I].points[Q])&&(se-=$[1]-$[0])),ne+=T}}S[I][q===1?"rightCliff":"leftCliff"]=se});else{let q=A;for(;q>=0&&q<P;){let Z=D[q].index;if(N=y[I].points[Z]){B=N[1];break}q+=T}B=qu(B,0),B=w.translate(B,0,1,0,1),g.push({isNull:!0,plotX:C.translate(I,0,0,0,1),x:I,plotY:B,yBottom:B})}})}return g}}Yu.defaultOptions=nm(ci.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),ng(Yu.prototype,{singleStacks:!1}),Zt.registerSeriesType("area",Yu);let{line:og}=Zt.seriesTypes,{merge:si,pick:Vi}=ze;class on extends og{getPointSpline(l,u,g){let m,C,w,y,S=u.plotX||0,D=u.plotY||0,P=l[g-1],T=l[g+1];function A(I){return I&&!I.isNull&&I.doCurve!==!1&&!u.isCliff}if(A(P)&&A(T)){let I=P.plotX||0,z=P.plotY||0,B=T.plotX||0,N=T.plotY||0,$=0;m=(1.5*S+I)/2.5,C=(1.5*D+z)/2.5,w=(1.5*S+B)/2.5,y=(1.5*D+N)/2.5,w!==m&&($=(y-C)*(w-S)/(w-m)+D-y),C+=$,y+=$,C>z&&C>D?(C=Math.max(z,D),y=2*D-C):C<z&&C<D&&(C=Math.min(z,D),y=2*D-C),y>N&&y>D?(y=Math.max(N,D),C=2*D-y):y<N&&y<D&&(y=Math.min(N,D),C=2*D-y),u.rightContX=w,u.rightContY=y,u.controlPoints={low:[m,C],high:[w,y]}}let L=["C",Vi(P.rightContX,P.plotX,0),Vi(P.rightContY,P.plotY,0),Vi(m,S,0),Vi(C,D,0),S,D];return P.rightContX=P.rightContY=void 0,L}}on.defaultOptions=si(og.defaultOptions),Zt.registerSeriesType("spline",on);let rg=on,{area:om,area:{prototype:Xu}}=Zt.seriesTypes,{extend:Vv,merge:Zu}=ze;class Ui extends rg{}Ui.defaultOptions=Zu(rg.defaultOptions,om.defaultOptions),Vv(Ui.prototype,{getGraphPath:Xu.getGraphPath,getStackPoints:Xu.getStackPoints,drawGraph:Xu.drawGraph}),Zt.registerSeriesType("areaspline",Ui);let{animObject:rn}=Pi,{parse:rm}=Vt,{noop:hs}=ie,{clamp:Zl,crisp:Ks,defined:Uo,extend:Tn,fireEvent:Qu,isArray:Ju,isNumber:gs,merge:ed,pick:Fn,objectEach:Ql}=ze;class jo extends ns{animate(l){let u,g,m=this,C=this.yAxis,w=C.pos,y=C.reversed,S=m.options,{clipOffset:D,inverted:P}=this.chart,T={},A=P?"translateX":"translateY";l&&D?(T.scaleY=.001,g=Zl(C.toPixels(S.threshold||0),w,w+C.len),P?T.translateX=(g+=y?-Math.floor(D[0]):Math.ceil(D[2]))-C.len:T.translateY=g+=y?Math.ceil(D[0]):-Math.floor(D[2]),m.clipBox&&m.setClip(),m.group.attr(T)):(u=Number(m.group.attr(A)),m.group.animate({scaleY:1},Tn(rn(m.options.animation),{step:function(L,I){m.group&&(T[A]=u+I.pos*(w-u),m.group.attr(T))}})))}init(l,u){super.init.apply(this,arguments);let g=this;(l=g.chart).hasRendered&&l.series.forEach(function(m){m.type===g.type&&(m.isDirty=!0)})}getColumnMetrics(){let l=this,u=l.options,g=l.xAxis,m=l.yAxis,C=g.options.reversedStacks,w=g.reversed&&!C||!g.reversed&&C,y={},S,D=0;u.grouping===!1?D=1:l.chart.series.forEach(function(z){let B,N=z.yAxis,$=z.options;z.type===l.type&&z.reserveSpace()&&m.len===N.len&&m.pos===N.pos&&($.stacking&&$.stacking!=="group"?(y[S=z.stackKey]===void 0&&(y[S]=D++),B=y[S]):$.grouping!==!1&&(B=D++),z.columnIndex=B)});let P=Math.min(Math.abs(g.transA)*(!g.brokenAxis?.hasBreaks&&g.ordinal?.slope||u.pointRange||g.closestPointRange||g.tickInterval||1),g.len),T=P*u.groupPadding,A=(P-2*T)/(D||1),L=Math.min(u.maxPointWidth||g.len,Fn(u.pointWidth,A*(1-2*u.pointPadding))),I=(l.columnIndex||0)+ +!!w;return l.columnMetrics={width:L,offset:(A-L)/2+(T+I*A-P/2)*(w?-1:1),paddedWidth:A,columnCount:D},l.columnMetrics}crispCol(l,u,g,m){let C=this.borderWidth,w=this.chart.inverted;return m=Ks(u+m,C,w)-(u=Ks(u,C,w)),this.options.crisp&&(g=Ks(l+g,C)-(l=Ks(l,C))),{x:l,y:u,width:g,height:m}}adjustForMissingColumns(l,u,g,m){if(!g.isNull&&m.columnCount>1){let C=this.xAxis.series.filter(D=>D.visible).map(D=>D.index),w=0,y=0;Ql(this.xAxis.stacking?.stacks,D=>{let P=typeof g.x=="number"?D[g.x.toString()]?.points:void 0,T=P?.[this.index],A={};if(P&&Ju(T)){let L=this.index,I=Object.keys(P).filter(z=>!z.match(",")&&P[z]&&P[z].length>1).map(parseFloat).filter(z=>C.indexOf(z)!==-1).filter(z=>{let B=this.chart.series[z].options,N=B.stacking&&B.stack;if(Uo(N)){if(gs(A[N]))return L===z&&(L=A[N]),!1;A[N]=z}return!0}).sort((z,B)=>B-z);w=I.indexOf(L),y=I.length}}),w=this.xAxis.reversed?y-1-w:w;let S=(y-1)*m.paddedWidth+u;l=(g.plotX||0)+S/2-u-w*m.paddedWidth}return l}translate(){let l=this,u=l.chart,g=l.options,m=l.dense=l.closestPointRange*l.xAxis.transA<2,C=l.borderWidth=Fn(g.borderWidth,+!m),w=l.xAxis,y=l.yAxis,S=g.threshold,D=Fn(g.minPointLength,5),P=l.getColumnMetrics(),T=P.width,A=l.pointXOffset=P.offset,L=l.dataMin,I=l.dataMax,z=l.translatedThreshold=y.getThreshold(S),B=l.barW=Math.max(T,1+2*C);g.pointPadding&&g.crisp&&(B=Math.ceil(B)),ns.prototype.translate.apply(l),l.points.forEach(function(N){let $=Fn(N.yBottom,z),q=999+Math.abs($),Z=N.plotX||0,te=Zl(N.plotY,-q,y.len+q),se,ne=Math.min(te,$),Q=Math.max(te,$)-ne,Ce=T,we=Z+A,ve=B;D&&Math.abs(Q)<D&&(Q=D,se=!y.reversed&&!N.negative||y.reversed&&N.negative,gs(S)&&gs(I)&&N.y===S&&I<=S&&(y.min||0)<S&&(L!==I||(y.max||0)<=S)&&(se=!se,N.negative=!N.negative),ne=Math.abs(ne-z)>D?$-D:z-(se?D:0)),Uo(N.options.pointWidth)&&(we-=Math.round(((Ce=ve=Math.ceil(N.options.pointWidth))-T)/2)),g.centerInCategory&&(we=l.adjustForMissingColumns(we,Ce,N,P)),N.barX=we,N.pointWidth=Ce,N.tooltipPos=u.inverted?[Zl(y.len+y.pos-u.plotLeft-te,y.pos-u.plotLeft,y.len+y.pos-u.plotLeft),w.len+w.pos-u.plotTop-we-ve/2,Q]:[w.left-u.plotLeft+we+ve/2,Zl(te+y.pos-u.plotTop,y.pos-u.plotTop,y.len+y.pos-u.plotTop),Q],N.shapeType=l.pointClass.prototype.shapeType||"roundedRect",N.shapeArgs=l.crispCol(we,ne,ve,N.isNull?0:Q)}),Qu(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(l,u){let g=this.options,m=this.pointAttrToOptions||{},C=m.stroke||"borderColor",w=m["stroke-width"]||"borderWidth",y,S,D,P=l&&l.color||this.color,T=l&&l[C]||g[C]||P,A=l&&l.options.dashStyle||g.dashStyle,L=l&&l[w]||g[w]||this[w]||0,I=l?.isNull&&g.nullInteraction?0:l?.opacity??g.opacity??1;l&&this.zones.length&&(S=l.getZone(),P=l.options.color||S&&(S.color||l.nonZonedColor)||this.color,S&&(T=S.borderColor||T,A=S.dashStyle||A,L=S.borderWidth||L)),u&&l&&(D=(y=ed(g.states[u],l.options.states&&l.options.states[u]||{})).brightness,P=y.color||D!==void 0&&rm(P).brighten(y.brightness).get()||P,T=y[C]||T,L=y[w]||L,A=y.dashStyle||A,I=Fn(y.opacity,I));let z={fill:P,stroke:T,"stroke-width":L,opacity:I};return A&&(z.dashstyle=A),z}drawPoints(l=this.points){let u,g=this,m=this.chart,C=g.options,w=C.nullInteraction,y=m.renderer,S=C.animationLimit||250;l.forEach(function(D){let P=D.plotY,T=D.graphic,A=!!T,L=T&&m.pointCount<S?"animate":"attr";gs(P)&&(D.y!==null||w)?(u=D.shapeArgs,T&&D.hasNewShapeType()&&(T=T.destroy()),g.enabledDataSorting&&(D.startXPos=g.xAxis.reversed?-(u&&u.width||0):g.xAxis.width),!T&&(D.graphic=T=y[D.shapeType](u).add(D.group||g.group),T&&g.enabledDataSorting&&m.hasRendered&&m.pointCount<S&&(T.attr({x:D.startXPos}),A=!0,L="animate")),T&&A&&T[L](ed(u)),m.styledMode||T[L](g.pointAttribs(D,D.selected&&"select")).shadow(D.allowShadow!==!1&&C.shadow),T&&(T.addClass(D.getClassName(),!0),T.attr({visibility:D.visible?"inherit":"hidden"}))):T&&(D.graphic=T.destroy())})}drawTracker(l=this.points){let u,g=this,m=g.chart,C=m.pointer,w=function(y){C?.normalize(y);let S=C?.getPointFromEvent(y);C&&S&&g.options.enableMouseTracking&&(m.isInsidePlot(y.chartX-m.plotLeft,y.chartY-m.plotTop,{visiblePlotOnly:!0})||C?.inClass(y.target,"highcharts-data-label"))&&(C.isDirectTouch=!0,S.onMouseOver(y))};l.forEach(function(y){u=Ju(y.dataLabels)?y.dataLabels:y.dataLabel?[y.dataLabel]:[],y.graphic&&(y.graphic.element.point=y),u.forEach(function(S){(S.div||S.element).point=y})}),g._hasTracking||(g.trackerGroups.forEach(function(y){g[y]&&(g[y].addClass("highcharts-tracker").on("mouseover",w).on("mouseout",function(S){C?.onTrackerMouseOut(S)}).on("touchstart",w),!m.styledMode&&g.options.cursor&&g[y].css({cursor:g.options.cursor}))}),g._hasTracking=!0),Qu(this,"afterDrawTracker")}remove(){let l=this,u=l.chart;u.hasRendered&&u.series.forEach(function(g){g.type===l.type&&(g.isDirty=!0)}),ns.prototype.remove.apply(l,arguments)}}jo.defaultOptions=ed(ns.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Tn(jo.prototype,{directTouch:!0,getSymbol:hs,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Zt.registerSeriesType("column",jo);let lo=jo,{getDeferredAnimation:am}=Pi,{format:lm}=Ss,{defined:an,extend:ag,fireEvent:Ba,getAlignFactor:lg,isArray:$o,isString:Jl,merge:yt,objectEach:Wt,pick:ht,pInt:wt,splat:Lt}=ze;(function(E){function l(){return S(this).some(P=>P?.enabled)}function u(P,T,A,L,I){let{chart:z,enabledDataSorting:B}=this,N=this.isCartesian&&z.inverted,$=P.plotX,q=P.plotY,Z=A.rotation||0,te=an($)&&an(q)&&z.isInsidePlot($,Math.round(q),{inverted:N,paneCoordinates:!0,series:this}),se=Z===0&&ht(A.overflow,B?"none":"justify")==="justify",ne=this.visible&&P.visible!==!1&&an($)&&(P.series.forceDL||B&&!se||te||ht(A.inside,!!this.options.stacking)&&L&&z.isInsidePlot($,N?L.x+1:L.y+L.height-1,{inverted:N,paneCoordinates:!0,series:this})),Q=P.pos();if(ne&&Q){var Ce;let we=T.getBBox(),ve=T.getBBox(void 0,0);if(L=ag({x:Q[0],y:Math.round(Q[1]),width:0,height:0},L||{}),A.alignTo==="plotEdges"&&this.isCartesian&&(L[N?"x":"y"]=0,L[N?"width":"height"]=this.yAxis?.len||0),ag(A,{width:we.width,height:we.height}),Ce=L,B&&this.xAxis&&!se&&this.setDataLabelStartPos(P,T,I,te,Ce),T.align(yt(A,{width:ve.width,height:ve.height}),!1,L,!1),T.alignAttr.x+=lg(A.align)*(ve.width-we.width),T.alignAttr.y+=lg(A.verticalAlign)*(ve.height-we.height),T[T.placed?"animate":"attr"]({"text-align":T.alignAttr["text-align"]||"center",x:T.alignAttr.x+(we.width-ve.width)/2,y:T.alignAttr.y+(we.height-ve.height)/2,rotationOriginX:(T.width||0)/2,rotationOriginY:(T.height||0)/2}),se&&L.height>=0)this.justifyDataLabel(T,A,T.alignAttr,we,L,I);else if(ht(A.crop,!0)){let{x:Ge,y:We}=T.alignAttr;ne=z.isInsidePlot(Ge,We,{paneCoordinates:!0,series:this})&&z.isInsidePlot(Ge+we.width-1,We+we.height-1,{paneCoordinates:!0,series:this})}A.shape&&!Z&&T[I?"attr":"animate"]({anchorX:Q[0],anchorY:Q[1]})}I&&B&&(T.placed=!1),ne||B&&!se?(T.show(),T.placed=!0):(T.hide(),T.placed=!1)}function g(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function m(P){let T=this.hasRendered||0,A=this.initDataLabelsGroup().attr({opacity:+T});return!T&&A&&(this.visible&&A.show(),this.options.animation?A.animate({opacity:1},P):A.attr({opacity:1})),A}function C(P){let T;P=P||this.points;let A=this,L=A.chart,I=A.options,z=L.renderer,{backgroundColor:B,plotBackgroundColor:N}=L.options.chart,$=z.getContrast(Jl(N)&&N||Jl(B)&&B||"#000000"),q=S(A),{animation:Z,defer:te}=q[0],se=te?am(L,Z,A):{defer:0,duration:0};Ba(this,"drawDataLabels"),A.hasDataLabels?.()&&(T=this.initDataLabels(se),P.forEach(ne=>{let Q=ne.dataLabels||[],Ce=ne.color||A.color;Lt(y(q,ne.dlOptions||ne.options?.dataLabels)).forEach((ve,Ge)=>{let We=ve.enabled&&(ne.visible||ne.dataLabelOnHidden)&&(!ne.isNull||ne.dataLabelOnNull)&&(function(zt,_t){let pt=_t.filter;if(pt){let ti=pt.operator,$i=zt[pt.property],Ki=pt.value;return ti===">"&&$i>Ki||ti==="<"&&$i<Ki||ti===">="&&$i>=Ki||ti==="<="&&$i<=Ki||ti==="=="&&$i==Ki||ti==="==="&&$i===Ki||ti==="!="&&$i!=Ki||ti==="!=="&&$i!==Ki||!1}return!0})(ne,ve),{backgroundColor:Ke,borderColor:Ie,distance:Ve,style:Ue={}}=ve,It,gt,zi,nt={},et=Q[Ge],bt=!et,ut;We&&(gt=an(It=ht(ve[ne.formatPrefix+"Format"],ve.format))?lm(It,ne,L):(ve[ne.formatPrefix+"Formatter"]||ve.formatter).call(ne,ve),zi=ve.rotation,!L.styledMode&&(Ue.color=ht(ve.color,Ue.color,Jl(A.color)?A.color:void 0,"#000000"),Ue.color==="contrast"?(Ke!=="none"&&(ut=Ke),ne.contrastColor=z.getContrast(ut!=="auto"&&Jl(ut)&&ut||(Jl(Ce)?Ce:"")),Ue.color=ut||!an(Ve)&&ve.inside||0>wt(Ve||0)||I.stacking?ne.contrastColor:$):delete ne.contrastColor,I.cursor&&(Ue.cursor=I.cursor)),nt={r:ve.borderRadius||0,rotation:zi,padding:ve.padding,zIndex:1},L.styledMode||(nt.fill=Ke==="auto"?ne.color:Ke,nt.stroke=Ie==="auto"?ne.color:Ie,nt["stroke-width"]=ve.borderWidth),Wt(nt,(zt,_t)=>{zt===void 0&&delete nt[_t]})),!et||We&&an(gt)&&!!(et.div||et.text?.foreignObject)==!!ve.useHTML&&(et.rotation&&ve.rotation||et.rotation===ve.rotation)||(et=void 0,bt=!0),We&&an(gt)&&gt!==""&&(et?nt.text=gt:(et=z.label(gt,0,0,ve.shape,void 0,void 0,ve.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+ne.colorIndex+" "+(ve.className||"")+(ve.useHTML?" highcharts-tracker":"")),et&&(et.options=ve,et.attr(nt),L.styledMode?Ue.width&&et.css({width:Ue.width,textOverflow:Ue.textOverflow,whiteSpace:Ue.whiteSpace}):et.css(Ue).shadow(ve.shadow),Ba(et,"beforeAddingDataLabel",{labelOptions:ve,point:ne}),et.added||et.add(T),A.alignDataLabel(ne,et,ve,void 0,bt),et.isActive=!0,Q[Ge]&&Q[Ge]!==et&&Q[Ge].destroy(),Q[Ge]=et))});let we=Q.length;for(;we--;)Q[we]?.isActive?Q[we].isActive=!1:(Q[we]?.destroy(),Q.splice(we,1));ne.dataLabel=Q[0],ne.dataLabels=Q})),Ba(this,"afterDrawDataLabels")}function w(P,T,A,L,I,z){let B=this.chart,N=T.align,$=T.verticalAlign,q=P.box?0:P.padding||0,Z=B.inverted?this.yAxis:this.xAxis,te=Z?Z.left-B.plotLeft:0,se=B.inverted?this.xAxis:this.yAxis,ne=se?se.top-B.plotTop:0,{x:Q=0,y:Ce=0}=T,we,ve;return(we=(A.x||0)+q+te)<0&&(N==="right"&&Q>=0?(T.align="left",T.inside=!0):Q-=we,ve=!0),(we=(A.x||0)+L.width-q+te)>B.plotWidth&&(N==="left"&&Q<=0?(T.align="right",T.inside=!0):Q+=B.plotWidth-we,ve=!0),(we=A.y+q+ne)<0&&($==="bottom"&&Ce>=0?(T.verticalAlign="top",T.inside=!0):Ce-=we,ve=!0),(we=(A.y||0)+L.height-q+ne)>B.plotHeight&&($==="top"&&Ce<=0?(T.verticalAlign="bottom",T.inside=!0):Ce+=B.plotHeight-we,ve=!0),ve&&(T.x=Q,T.y=Ce,P.placed=!z,P.align(T,void 0,I)),ve}function y(P,T){let A=[],L;if($o(P)&&!$o(T))A=P.map(function(I){return yt(I,T)});else if($o(T)&&!$o(P))A=T.map(function(I){return yt(P,I)});else if($o(P)||$o(T)){if($o(P)&&$o(T))for(L=Math.max(P.length,T.length);L--;)A[L]=yt(P[L],T[L])}else A=yt(P,T);return A}function S(P){let T=P.chart.options.plotOptions;return Lt(y(y(T?.series?.dataLabels,T?.[P.type]?.dataLabels),P.options.dataLabels))}function D(P,T,A,L,I){let z=this.chart,B=z.inverted,N=this.xAxis,$=N.reversed,q=((B?T.height:T.width)||0)/2,Z=P.pointWidth,te=Z?Z/2:0;T.startXPos=B?I.x:$?-q-te:N.width-q+te,T.startYPos=B?$?this.yAxis.height-q+te:-q-te:I.y,L?T.visibility==="hidden"&&(T.show(),T.attr({opacity:0}).animate({opacity:1})):T.attr({opacity:1}).animate({opacity:0},void 0,T.hide),z.hasRendered&&(A&&T.attr({x:T.startXPos,y:T.startYPos}),T.placed=!0)}E.compose=function(P){let T=P.prototype;T.initDataLabels||(T.initDataLabels=m,T.initDataLabelsGroup=g,T.alignDataLabel=u,T.drawDataLabels=C,T.justifyDataLabel=w,T.mergeArrays=y,T.setDataLabelStartPos=D,T.hasDataLabels=l)}})(_||(_={}));let ji=_,{composed:Ko}=ie,{series:Ir}=Zt,{merge:cg,pushUnique:co}=ze;(function(E){function l(u,g,m,C,w){let{chart:y,options:S}=this,D=y.inverted,P=this.xAxis?.len||y.plotSizeX||0,T=this.yAxis?.len||y.plotSizeY||0,A=u.dlBox||u.shapeArgs,L=u.below??(u.plotY||0)>(this.translatedThreshold??T),I=m.inside??!!S.stacking;if(A){if(C=cg(A),m.overflow!=="allow"||m.crop!==!1||S.clip!==!1){C.y<0&&(C.height+=C.y,C.y=0);let z=C.y+C.height-T;z>0&&z<C.height-1&&(C.height-=z)}D&&(C={x:T-C.y-C.height,y:P-C.x-C.width,width:C.height,height:C.width}),I||(D?(C.x+=L?0:C.width,C.width=0):(C.y+=L?C.height:0,C.height=0))}m.align??(m.align=!D||I?"center":L?"right":"left"),m.verticalAlign??(m.verticalAlign=D||I?"middle":L?"top":"bottom"),Ir.prototype.alignDataLabel.call(this,u,g,m,C,w),m.inside&&u.contrastColor&&g.css({color:u.contrastColor})}E.compose=function(u){ji.compose(Ir),co(Ko,"ColumnDataLabel")&&(u.prototype.alignDataLabel=l)}})(W||(W={}));let ui=W,{extend:qo,merge:Hr}=ze;class ec extends lo{}ec.defaultOptions=Hr(lo.defaultOptions,{}),qo(ec.prototype,{inverted:!0}),Zt.registerSeriesType("bar",ec);let{column:Fs,line:Nr}=Zt.seriesTypes,{addEvent:tc,extend:ps,merge:ug}=ze;class Gr extends Nr{applyJitter(){let l=this,u=this.options.jitter,g=this.points.length;u&&this.points.forEach(function(m,C){["x","y"].forEach(function(w,y){if(u[w]&&!m.isNull){let S=`plot${w.toUpperCase()}`,D=l[`${w}Axis`],P=u[w]*D.transA;if(D&&!D.logarithmic){let T=Math.max(0,(m[S]||0)-P),A=Math.min(D.len,(m[S]||0)+P);m[S]=T+(A-T)*(function(L){let I=1e4*Math.sin(L);return I-Math.floor(I)})(C+y*g),w==="x"&&(m.clientX=m.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Gr.defaultOptions=ug(Nr.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ps(Gr.prototype,{drawTracker:Fs.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),tc(Gr,"afterTranslate",function(){this.applyJitter()}),Zt.registerSeriesType("scatter",Gr);let{deg2rad:dg}=ie,{fireEvent:td,isNumber:Va,pick:ln,relativeLength:Ti}=ze;(function(E){E.getCenter=function(){let l=this.options,u=this.chart,g=2*(l.slicedOffset||0),m=u.plotWidth-2*g,C=u.plotHeight-2*g,w=l.center,y=Math.min(m,C),S=l.thickness,D,P=l.size,T=l.innerSize||0,A,L;typeof P=="string"&&(P=parseFloat(P)),typeof T=="string"&&(T=parseFloat(T));let I=[ln(w?.[0],"50%"),ln(w?.[1],"50%"),ln(P&&P<0?void 0:l.size,"100%"),ln(T&&T<0?void 0:l.innerSize||0,"0%")];for(!u.angular||this instanceof ns||(I[3]=0),A=0;A<4;++A)L=I[A],D=A<2||A===2&&/%$/.test(L),I[A]=Ti(L,[m,C,y,I[2]][A])+(D?g:0);return I[3]>I[2]&&(I[3]=I[2]),Va(S)&&2*S<I[2]&&S>0&&(I[3]=I[2]-2*S),td(this,"afterGetCenter",{positions:I}),I},E.getStartAndEndRadians=function(l,u){let g=Va(l)?l:0,m=Va(u)&&u>g&&u-g<360?u:g+360;return{start:dg*(g+-90),end:dg*(m+-90)}}})(U||(U={}));let uo=U,{setAnimation:za}=Pi,{addEvent:Pn,defined:hg,extend:gg,isNumber:cm,pick:ic,relativeLength:pg}=ze;class fs extends Vs{getConnectorPath(l){let u=l.dataLabelPosition,g=l.options||{},m=g.connectorShape,C=this.connectorShapes[m]||m;return u&&C.call(this,{...u.computed,alignment:u.alignment},u.connectorPosition,g)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(l){let u=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(u.x,u.y,u.r+l,u.r+l,{innerR:u.r-1,start:u.start,end:u.end,borderRadius:u.borderRadius})}constructor(l,u,g){super(l,u,g),this.half=0,this.name??(this.name=l.chart.options.lang.pieSliceName);let m=C=>{this.slice(C.type==="select")};Pn(this,"select",m),Pn(this,"unselect",m)}isValid(){return cm(this.y)&&this.y>=0}setVisible(l,u=!0){l!==this.visible&&this.update({visible:l??!this.visible},u,void 0,!1)}slice(l,u,g){let m=this.series;za(g,m.chart),u=ic(u,!0),this.sliced=this.options.sliced=l=hg(l)?l:!this.sliced,m.options.data[m.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}gg(fs.prototype,{connectorShapes:{fixedOffset:function(E,l,u){let g=l.breakAt,m=l.touchingSliceAt,C=u.softConnector?["C",E.x+(E.alignment==="left"?-5:5),E.y,2*g.x-m.x,2*g.y-m.y,g.x,g.y]:["L",g.x,g.y];return[["M",E.x,E.y],C,["L",m.x,m.y]]},straight:function(E,l){let u=l.touchingSliceAt;return[["M",E.x,E.y],["L",u.x,u.y]]},crookedLine:function(E,l,u){let{angle:g=this.angle||0,breakAt:m,touchingSliceAt:C}=l,{series:w}=this,[y,S,D]=w.center,P=D/2,{plotLeft:T,plotWidth:A}=w.chart,L=E.alignment==="left",{x:I,y:z}=E,B=m.x;if(u.crookDistance){let $=pg(u.crookDistance,1);B=L?y+P+(A+T-y-P)*(1-$):T+(y-P)*$}else B=y+(S-z)*Math.tan(g-Math.PI/2);let N=[["M",I,z]];return(L?B<=I&&B>=m.x:B>=I&&B<=m.x)&&N.push(["L",B,z]),N.push(["L",m.x,m.y],["L",C.x,C.y]),N}}});let{getStartAndEndRadians:um}=uo,{noop:os}=ie,{clamp:dm,extend:hm,fireEvent:gm,merge:An,pick:id}=ze;class sc extends ns{animate(l){let u=this,g=u.points,m=u.startAngleRad;l||g.forEach(function(C){let w=C.graphic,y=C.shapeArgs;w&&y&&(w.attr({r:id(C.startR,u.center&&u.center[3]/2),start:m,end:m}),w.animate({r:y.r,start:y.start,end:y.end},u.options.animation))})}drawEmpty(){let l,u,g=this.startAngleRad,m=this.endAngleRad,C=this.options;this.total===0&&this.center?(l=this.center[0],u=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(l,u,this.center[1]/2,0,g,m).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Xp.arc(l,u,this.center[2]/2,0,{start:g,end:m,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":C.borderWidth,fill:C.fillColor||"none",stroke:C.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let l=this.chart.renderer;this.points.forEach(function(u){u.graphic&&u.hasNewShapeType()&&(u.graphic=u.graphic.destroy()),u.graphic||(u.graphic=l[u.shapeType](u.shapeArgs).add(u.series.group),u.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(l,u,g,m){let C=this.center,w=this.radii?this.radii[g.index]||0:C[2]/2,y=m.dataLabelPosition,S=y?.distance||0,D=Math.asin(dm((l-C[1])/(w+S),-1,1));return C[0]+Math.cos(D)*(w+S)*(u?-1:1)+(S>0?(u?-1:1)*(m.padding||0):0)}hasData(){return this.points.some(l=>l.visible)}redrawPoints(){let l,u,g,m,C=this,w=C.chart;this.drawEmpty(),C.group&&!w.styledMode&&C.group.shadow(C.options.shadow),C.points.forEach(function(y){let S={};u=y.graphic,!y.isNull&&u?(m=y.shapeArgs,l=y.getTranslate(),w.styledMode||(g=C.pointAttribs(y,y.selected&&"select")),y.delayedRendering?(u.setRadialReference(C.center).attr(m).attr(l),w.styledMode||u.attr(g).attr({"stroke-linejoin":"round"}),y.delayedRendering=!1):(u.setRadialReference(C.center),w.styledMode||An(!0,S,g),An(!0,S,m,l),u.animate(S)),u.attr({visibility:y.visible?"inherit":"hidden"}),u.addClass(y.getClassName(),!0)):u&&(y.graphic=u.destroy())})}sortByAngle(l,u){l.sort(function(g,m){return g.angle!==void 0&&(m.angle-g.angle)*u})}translate(l){gm(this,"translate"),this.generatePoints();let u=this.options,g=u.slicedOffset,m=um(u.startAngle,u.endAngle),C=this.startAngleRad=m.start,w=(this.endAngleRad=m.end)-C,y=this.points,S=u.ignoreHiddenPoint,D=y.length,P,T,A,L,I,z,B,N=0;for(l||(this.center=l=this.getCenter()),z=0;z<D;z++){B=y[z],P=C+N*w,B.isValid()&&(!S||B.visible)&&(N+=B.percentage/100),T=C+N*w;let $={x:l[0],y:l[1],r:l[2]/2,innerR:l[3]/2,start:Math.round(1e3*P)/1e3,end:Math.round(1e3*T)/1e3};B.shapeType="arc",B.shapeArgs=$,(A=(T+P)/2)>1.5*Math.PI?A-=2*Math.PI:A<-Math.PI/2&&(A+=2*Math.PI),B.slicedTranslation={translateX:Math.round(Math.cos(A)*g),translateY:Math.round(Math.sin(A)*g)},L=Math.cos(A)*l[2]/2,I=Math.sin(A)*l[2]/2,B.tooltipPos=[l[0]+.7*L,l[1]+.7*I],B.half=+(A<-Math.PI/2||A>Math.PI/2),B.angle=A}gm(this,"afterTranslate")}updateTotals(){let l=this.points,u=l.length,g=this.options.ignoreHiddenPoint,m,C,w=0;for(m=0;m<u;m++)(C=l[m]).isValid()&&(!g||C.visible)&&(w+=C.y);for(m=0,this.total=w;m<u;m++)(C=l[m]).percentage=w>0&&(C.visible||!g)?C.y/w*100:0,C.total=w}}sc.defaultOptions=An(ns.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),hm(sc.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:lo.prototype.drawTracker,getCenter:uo.getCenter,getSymbol:os,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:lo.prototype.pointAttribs,pointClass:fs,requireSorting:!1,searchPoint:os,trackerGroups:["group","dataLabelsGroup"]}),Zt.registerSeriesType("pie",sc);let{composed:_a,noop:pm}=ie,{distribute:fm}=ha,{series:fg}=Zt,{arrayMax:mm,clamp:nc,defined:sd,isNumber:zv,pick:_v,pushUnique:Wv,relativeLength:mg}=ze;(function(E){let l={radialDistributionY:function(w,y){return(y.dataLabelPosition?.top||0)+w.distributeBox.pos},radialDistributionX:function(w,y,S,D,P){let T=P.dataLabelPosition;return w.getX(S<(T?.top||0)+2||S>(T?.bottom||0)-2?D:S,y.half,y,P)},justify:function(w,y,S,D){return D[0]+(w.half?-1:1)*(S+(y.dataLabelPosition?.distance||0))},alignToPlotEdges:function(w,y,S,D){let P=w.getBBox().width;return y?P+D:S-P-D},alignToConnectors:function(w,y,S,D){let P=0,T;return w.forEach(function(A){(T=A.dataLabel.getBBox().width)>P&&(P=T)}),y?P+D:S-P-D}};function u(w,y){let S=Math.PI/2,{start:D=0,end:P=0}=w.shapeArgs||{},T=w.angle||0;y>0&&D<S&&P>S&&T>S/2&&T<1.5*S&&(T=T<=S?Math.max(S/2,(D+S)/2):Math.min(1.5*S,(S+P)/2));let{center:A,options:L}=this,I=A[2]/2,z=Math.cos(T),B=Math.sin(T),N=A[0]+z*I,$=A[1]+B*I,q=Math.min((L.slicedOffset||0)+(L.borderWidth||0),y/5);return{natural:{x:N+z*y,y:$+B*y},computed:{},alignment:y<0?"center":w.half?"right":"left",connectorPosition:{angle:T,breakAt:{x:N+z*q,y:$+B*q},touchingSliceAt:{x:N,y:$}},distance:y}}function g(){let w=this,y=w.points,S=w.chart,D=S.plotWidth,P=S.plotHeight,T=S.plotLeft,A=Math.round(S.chartWidth/3),L=w.center,I=L[2]/2,z=L[1],B=[[],[]],N=[0,0,0,0],$=w.dataLabelPositioners,q,Z,te,se=0;w.visible&&w.hasDataLabels?.()&&(y.forEach(ne=>{(ne.dataLabels||[]).forEach(Q=>{Q.shortened&&(Q.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Q.shortened=!1)})}),fg.prototype.drawDataLabels.apply(w),y.forEach(ne=>{(ne.dataLabels||[]).forEach((Q,Ce)=>{let we=L[2]/2,ve=Q.options,Ge=mg(ve?.distance||0,we);Ce===0&&B[ne.half].push(ne),!sd(ve?.style?.width)&&Q.getBBox().width>A&&(Q.css({width:Math.round(.7*A)+"px"}),Q.shortened=!0),Q.dataLabelPosition=this.getDataLabelPosition(ne,Ge),se=Math.max(se,Ge)})}),B.forEach((ne,Q)=>{let Ce=ne.length,we=[],ve,Ge,We=0,Ke;Ce&&(w.sortByAngle(ne,Q-.5),se>0&&(ve=Math.max(0,z-I-se),Ge=Math.min(z+I+se,S.plotHeight),ne.forEach(Ie=>{(Ie.dataLabels||[]).forEach(Ve=>{let Ue=Ve.dataLabelPosition;Ue&&Ue.distance>0&&(Ue.top=Math.max(0,z-I-Ue.distance),Ue.bottom=Math.min(z+I+Ue.distance,S.plotHeight),We=Ve.getBBox().height||21,Ve.lineHeight=S.renderer.fontMetrics(Ve.text||Ve).h+2*Ve.padding,Ie.distributeBox={target:(Ve.dataLabelPosition?.natural.y||0)-Ue.top+Ve.lineHeight/2,size:We,rank:Ie.y},we.push(Ie.distributeBox))})}),fm(we,Ke=Ge+We-ve,Ke/5)),ne.forEach(Ie=>{(Ie.dataLabels||[]).forEach(Ve=>{let Ue=Ve.options||{},It=Ie.distributeBox,gt=Ve.dataLabelPosition,zi=gt?.natural.y||0,nt=Ue.connectorPadding||0,et=Ve.lineHeight||21,bt=(et-Ve.getBBox().height)/2,ut=0,zt=zi,_t="inherit";if(gt){if(we&&sd(It)&&gt.distance>0&&(It.pos===void 0?_t="hidden":(te=It.size,zt=$.radialDistributionY(Ie,Ve))),Ue.justify)ut=$.justify(Ie,Ve,I,L);else switch(Ue.alignTo){case"connectors":ut=$.alignToConnectors(ne,Q,D,T);break;case"plotEdges":ut=$.alignToPlotEdges(Ve,Q,D,T);break;default:ut=$.radialDistributionX(w,Ie,zt-bt,zi,Ve)}if(gt.attribs={visibility:_t,align:gt.alignment},gt.posAttribs={x:ut+(Ue.x||0)+({left:nt,right:-nt}[gt.alignment]||0),y:zt+(Ue.y||0)-et/2},gt.computed.x=ut,gt.computed.y=zt-bt,_v(Ue.crop,!0)){let pt;ut-(Z=Ve.getBBox().width)<nt&&Q===1?(pt=Math.round(Z-ut+nt),N[3]=Math.max(pt,N[3])):ut+Z>D-nt&&Q===0&&(pt=Math.round(ut+Z-D+nt),N[1]=Math.max(pt,N[1])),zt-te/2<0?N[0]=Math.max(Math.round(-zt+te/2),N[0]):zt+te/2>P&&(N[2]=Math.max(Math.round(zt+te/2-P),N[2])),gt.sideOverflow=pt}}})}))}),(mm(N)===0||this.verifyDataLabelOverflow(N))&&(this.placeDataLabels(),this.points.forEach(ne=>{(ne.dataLabels||[]).forEach(Q=>{let{connectorColor:Ce,connectorWidth:we=1}=Q.options||{},ve=Q.dataLabelPosition;if(zv(we)){let Ge;q=Q.connector,ve&&ve.distance>0?(Ge=!q,q||(Q.connector=q=S.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ne.colorIndex+(ne.className?" "+ne.className:"")).add(w.dataLabelsGroup)),S.styledMode||q.attr({"stroke-width":we,stroke:Ce||ne.color||"#666666"}),q[Ge?"attr":"animate"]({d:ne.getConnectorPath(Q)}),q.attr({visibility:ve.attribs?.visibility})):q&&(Q.connector=q.destroy())}})})))}function m(){this.points.forEach(w=>{(w.dataLabels||[]).forEach(y=>{let S=y.dataLabelPosition;S?(S.sideOverflow&&(y.css({width:Math.max(y.getBBox().width-S.sideOverflow,0)+"px",textOverflow:y.options?.style?.textOverflow||"ellipsis"}),y.shortened=!0),y.attr(S.attribs),y[y.moved?"animate":"attr"](S.posAttribs),y.moved=!0):y&&y.attr({y:-9999})}),delete w.distributeBox},this)}function C(w){let y=this.center,S=this.options,D=S.center,P=S.minSize||80,T=P,A=S.size!==null;return!A&&(D[0]!==null?T=Math.max(y[2]-Math.max(w[1],w[3]),P):(T=Math.max(y[2]-w[1]-w[3],P),y[0]+=(w[3]-w[1])/2),D[1]!==null?T=nc(T,P,y[2]-Math.max(w[0],w[2])):(T=nc(T,P,y[2]-w[0]-w[2]),y[1]+=(w[0]-w[2])/2),T<y[2]?(y[2]=T,y[3]=Math.min(S.thickness?Math.max(0,T-2*S.thickness):Math.max(0,mg(S.innerSize||0,T)),T),this.translate(y),this.drawDataLabels&&this.drawDataLabels()):A=!0),A}E.compose=function(w){if(ji.compose(fg),Wv(_a,"PieDataLabel")){let y=w.prototype;y.dataLabelPositioners=l,y.alignDataLabel=pm,y.drawDataLabels=g,y.getDataLabelPosition=u,y.placeDataLabels=m,y.verifyDataLabelOverflow=C}}})(K||(K={}));let Cm=K;(function(E){E.getCenterOfPoints=function(l){let u=l.reduce((g,m)=>(g.x+=m.x,g.y+=m.y,g),{x:0,y:0});return{x:u.x/l.length,y:u.y/l.length}},E.getDistanceBetweenPoints=function(l,u){return Math.sqrt(Math.pow(u.x-l.x,2)+Math.pow(u.y-l.y,2))},E.getAngleBetweenPoints=function(l,u){return Math.atan2(u.x-l.x,u.y-l.y)},E.pointInPolygon=function({x:l,y:u},g){let m=g.length,C,w,y=!1;for(C=0,w=m-1;C<m;w=C++){let[S,D]=g[C],[P,T]=g[w];D>u!=T>u&&l<(P-S)*(u-D)/(T-D)+S&&(y=!y)}return y}})(X||(X={}));let{pointInPolygon:Wa}=X,{addEvent:nd,getAlignFactor:vm,fireEvent:Cg,objectEach:vg,pick:wm}=ze;function ym(E){let l=E.length,u=(P,T)=>!(T.x>=P.x+P.width||T.x+T.width<=P.x||T.y>=P.y+P.height||T.y+T.height<=P.y),g=(P,T)=>{for(let A of P)if(Wa({x:A[0],y:A[1]},T))return!0;return!1},m,C,w,y,S,D=!1;for(let P=0;P<l;P++)(m=E[P])&&(m.oldOpacity=m.opacity,m.newOpacity=1,m.absoluteBox=(function(T){if(T&&(!T.alignAttr||T.placed)){let A=T.box?0:T.padding||0,L=T.alignAttr||{x:T.attr("x"),y:T.attr("y")},{height:I,polygon:z,width:B}=T.getBBox(),N=vm(T.alignValue)*B;return T.width=B,T.height=I,{x:L.x+(T.parentGroup?.translateX||0)+A-N,y:L.y+(T.parentGroup?.translateY||0)+A,width:B-2*A,height:I-2*A,polygon:z}}})(m));E.sort((P,T)=>(T.labelrank||0)-(P.labelrank||0));for(let P=0;P<l;++P){y=(C=E[P])&&C.absoluteBox;let T=y?.polygon;for(let A=P+1;A<l;++A){S=(w=E[A])&&w.absoluteBox;let L=!1;if(y&&S&&C!==w&&C.newOpacity!==0&&w.newOpacity!==0&&C.visibility!=="hidden"&&w.visibility!=="hidden"){let I=S.polygon;if(T&&I&&T!==I?g(T,I)&&(L=!0):u(y,S)&&(L=!0),L){let z=C.labelrank<w.labelrank?C:w,B=z.text;z.newOpacity=0,B?.element.querySelector("textPath")&&B.hide()}}}}for(let P of E)wg(P,this)&&(D=!0);D&&Cg(this,"afterHideAllOverlappingLabels")}function wg(E,l){let u,g=!1;return E&&(u=E.newOpacity,E.oldOpacity!==u&&(E.hasClass("highcharts-data-label")?(E[u?"removeClass":"addClass"]("highcharts-data-label-hidden"),g=!0,E[E.isOld?"animate":"attr"]({opacity:u},void 0,function(){l.styledMode||E.css({pointerEvents:u?"auto":"none"})}),Cg(l,"afterHideOverlappingLabel")):E.attr({opacity:u})),E.isOld=!0),g}function od(){let E=this,l=[];for(let u of E.labelCollectors||[])l=l.concat(u());for(let u of E.yAxis||[])u.stacking&&u.options.stackLabels&&!u.options.stackLabels.allowOverlap&&vg(u.stacking.stacks,g=>{vg(g,m=>{m.label&&l.push(m.label)})});for(let u of E.series||[])if(u.visible&&u.hasDataLabels?.()){let g=m=>{for(let C of m)C.visible&&(C.dataLabels||[]).forEach(w=>{let y=w.options||{};w.labelrank=wm(y.labelrank,C.labelrank,C.shapeArgs?.height),y.allowOverlap??Number(y.distance)>0?(w.oldOpacity=w.opacity,w.newOpacity=1,wg(w,E)):l.push(w)})};g(u.nodes||[]),g(u.points)}this.hideOverlappingLabels(l)}let yg={compose:function(E){let l=E.prototype;l.hideOverlappingLabels||(l.hideOverlappingLabels=ym,nd(E,"render",od))}},{defaultOptions:bm}=Ji,{noop:Ot}=ie,{addEvent:rd,extend:Uv,isObject:bg,merge:jv,relativeLength:Sg}=ze,$v={radius:0,scope:"stack",where:void 0},oc=Ot,Br=Ot;function xg(E,l,u,g,m={}){let C=oc(E,l,u,g,m),{brStart:w=!0,brEnd:y=!0,innerR:S=0,r:D=u,start:P=0,end:T=0}=m;if(m.open||!m.borderRadius)return C;let A=T-P,L=Math.sin(A/2),I=Math.max(Math.min(Sg(m.borderRadius||0,D-S),(D-S)/2,D*L/(1+L)),0),z=Math.min(I,A/Math.PI*2*S),B=C.length-1;for(;B--;)(w||B!==0&&B!==3)&&(y||B!==1&&B!==2)&&(function(N,$,q){let Z,te,se,ne=N[$],Q=N[$+1];if(Q[0]==="Z"&&(Q=N[0]),(ne[0]==="M"||ne[0]==="L")&&Q[0]==="A"?(Z=ne,te=Q,se=!0):ne[0]==="A"&&(Q[0]==="M"||Q[0]==="L")&&(Z=Q,te=ne),Z&&te&&te.params){let Ce=te[1],we=te[5],ve=te.params,{start:Ge,end:We,cx:Ke,cy:Ie}=ve,Ve=we?Ce-q:Ce+q,Ue=Ve?Math.asin(q/Ve):0,It=we?Ue:-Ue,gt=Math.cos(Ue)*Ve;se?(ve.start=Ge+It,Z[1]=Ke+gt*Math.cos(Ge),Z[2]=Ie+gt*Math.sin(Ge),N.splice($+1,0,["A",q,q,0,0,1,Ke+Ce*Math.cos(ve.start),Ie+Ce*Math.sin(ve.start)])):(ve.end=We-It,te[6]=Ke+Ce*Math.cos(ve.end),te[7]=Ie+Ce*Math.sin(ve.end),N.splice($+1,0,["A",q,q,0,0,1,Ke+gt*Math.cos(We),Ie+gt*Math.sin(We)])),te[4]=Math.abs(ve.end-ve.start)<Math.PI?0:1}})(C,B,B>1?z:I);return C}function ad(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:E,yAxis:l}=this,u=E.stacking==="percent",g=bm.plotOptions?.[this.type]?.borderRadius,m=rc(E.borderRadius,bg(g)?g:{}),C=l.options.reversed;for(let w of this.points){let{shapeArgs:y}=w;if(w.shapeType==="roundedRect"&&y){let{width:S=0,height:D=0,y:P=0}=y,T=P,A=D;if(m.scope==="stack"&&w.stackTotal){let B=l.translate(u?100:w.stackTotal,!1,!0,!1,!0),N=l.translate(E.threshold||0,!1,!0,!1,!0),$=this.crispCol(0,Math.min(B,N),0,Math.abs(B-N));T=$.y,A=$.height}let L=(w.negative?-1:1)*(C?-1:1)==-1,I=m.where;!I&&this.is("waterfall")&&Math.abs((w.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(I="all"),I||(I="end");let z=Math.min(Sg(m.radius,S),S/2,I==="all"?D/2:1/0)||0;I==="end"&&(L&&(T-=z),A+=z),Uv(y,{brBoxHeight:A,brBoxY:T,r:z})}}}}function rc(E,l){return bg(E)||(E={radius:E||0}),jv($v,l,E)}function Yo(){let E=rc(this.options.borderRadius);for(let l of this.points){let u=l.shapeArgs;u&&(u.borderRadius=Sg(E.radius,(u.r||0)-(u.innerR||0)))}}function kn(E,l,u,g,m={}){let C=Br(E,l,u,g,m),{r:w=0,brBoxHeight:y=g,brBoxY:S=l}=m,D=l-S,P=S+y-(l+g),T=D-w>-.1?0:w,A=P-w>-.1?0:w,L=Math.max(T&&D,0),I=Math.max(A&&P,0),z=[E+T,l],B=[E+u-T,l],N=[E+u,l+T],$=[E+u,l+g-A],q=[E+u-A,l+g],Z=[E+A,l+g],te=[E,l+g-A],se=[E,l+T],ne=(Q,Ce)=>Math.sqrt(Math.pow(Q,2)-Math.pow(Ce,2));if(L){let Q=ne(T,T-L);z[0]-=Q,B[0]+=Q,N[1]=se[1]=l+T-L}if(g<T-L){let Q=ne(T,T-L-g);N[0]=$[0]=E+u-T+Q,q[0]=Math.min(N[0],q[0]),Z[0]=Math.max($[0],Z[0]),te[0]=se[0]=E+T-Q,N[1]=se[1]=l+g}if(I){let Q=ne(A,A-I);q[0]+=Q,Z[0]-=Q,$[1]=te[1]=l+g-A+I}if(g<A-I){let Q=ne(A,A-I-g);N[0]=$[0]=E+u-A+Q,B[0]=Math.min(N[0],B[0]),z[0]=Math.max($[0],z[0]),te[0]=se[0]=E+A-Q,$[1]=te[1]=l}return C.length=0,C.push(["M",...z],["L",...B],["A",T,T,0,0,1,...N],["L",...$],["A",A,A,0,0,1,...q],["L",...Z],["A",A,A,0,0,1,...te],["L",...se],["A",T,T,0,0,1,...z],["Z"]),C}let{diffObjects:ac,extend:Kv,find:Sm,merge:xm,pick:lc,uniqueKey:Rm}=ze;(function(E){function l(g,m){let C=g.condition;(C.callback||function(){return this.chartWidth<=lc(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=lc(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=lc(C.minWidth,0)&&this.chartHeight>=lc(C.minHeight,0)}).call(this)&&m.push(g._id)}function u(g,m){let C=this.options.responsive,w=this.currentResponsive,y=[],S;!m&&C&&C.rules&&C.rules.forEach(T=>{T._id===void 0&&(T._id=Rm()),this.matchResponsiveRule(T,y)},this);let D=xm(...y.map(T=>Sm(C?.rules||[],A=>A._id===T)).map(T=>T?.chartOptions));D.isResponsiveOptions=!0,y=y.toString()||void 0;let P=w?.ruleIds;y!==P&&(w&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(w.undoOptions,g,!0),this.updatingResponsive=!1),y?((S=ac(D,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:y,mergedOptions:D,undoOptions:S},this.updatingResponsive||this.update(D,g,!0)):this.currentResponsive=void 0)}E.compose=function(g){let m=g.prototype;return m.matchResponsiveRule||Kv(m,{matchResponsiveRule:l,setResponsive:u}),g}})(Y||(Y={}));let qv=Y;ie.AST=$t,ie.Axis=Po,ie.Chart=tn,ie.Color=Vt,ie.DataLabel=ji,ie.DataTableCore=Er,ie.Fx=Ni,ie.HTMLElement=mr,ie.Legend=Uh,ie.LegendSymbol=ka,ie.OverlappingDataLabels=ie.OverlappingDataLabels||yg,ie.PlotLineOrBand=wn,ie.Point=Vs,ie.Pointer=ri,ie.RendererRegistry=ua,ie.Series=ns,ie.SeriesRegistry=Zt,ie.StackItem=Zf,ie.SVGElement=Cn,ie.SVGRenderer=ou,ie.Templating=Ss,ie.Tick=Yn,ie.Time=Qi,ie.Tooltip=kl,ie.animate=Pi.animate,ie.animObject=Pi.animObject,ie.chart=tn.chart,ie.color=Vt.parse,ie.dateFormat=Ss.dateFormat,ie.defaultOptions=Ji.defaultOptions,ie.distribute=ha.distribute,ie.format=Ss.format,ie.getDeferredAnimation=Pi.getDeferredAnimation,ie.getOptions=Ji.getOptions,ie.numberFormat=Ss.numberFormat,ie.seriesType=Zt.seriesType,ie.setAnimation=Pi.setAnimation,ie.setOptions=Ji.setOptions,ie.stop=Pi.stop,ie.time=Ji.defaultTime,ie.timers=Ni.timers,{compose:function(E,l,u){let g=E.types.pie;if(!l.symbolCustomAttribs.includes("borderRadius")){let m=u.prototype.symbols;rd(E,"afterColumnTranslate",ad,{order:9}),rd(g,"afterTranslate",Yo),l.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),oc=m.arc,Br=m.roundedRect,m.arc=xg,m.roundedRect=kn}},optionsToObject:rc}.compose(ie.Series,ie.SVGElement,ie.SVGRenderer),ui.compose(ie.Series.types.column),ji.compose(ie.Series),Ao.compose(ie.Axis),mr.compose(ie.SVGRenderer),Uh.compose(ie.Chart),pf.compose(ie.Axis),yg.compose(ie.Chart),Cm.compose(ie.Series.types.pie),wn.compose(ie.Chart,ie.Axis),ri.compose(ie.Chart),qv.compose(ie.Chart),kr.compose(ie.Axis,ie.Chart,ie.Series),ig.compose(ie.Axis,ie.Chart,ie.Series),kl.compose(ie.Pointer),ze.extend(ie,ze);let Rg=ie;return re.default})())})(pC)),pC.exports}var c6=l6();const u6=mp(c6);var fC={exports:{}},d6=fC.exports,vx;function h6(){return vx||(vx=1,(function(e,t){(function(i,s){e.exports=s(Cp())})(typeof self<"u"?self:d6,function(i){return(function(s){function n(c){if(r[c])return r[c].exports;var h=r[c]={i:c,l:!1,exports:{}};return s[c].call(h.exports,h,h.exports,n),h.l=!0,h.exports}var r={};return n.m=s,n.c=r,n.d=function(c,h,p){n.o(c,h)||Object.defineProperty(c,h,{configurable:!1,enumerable:!0,get:p})},n.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return n.d(h,"a",h),h},n.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},n.p="",n(n.s=0)})([function(s,n,r){function c(){return c=Object.assign?Object.assign.bind():function(U){for(var K=1;K<arguments.length;K++){var X=arguments[K];for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(U[Y]=X[Y])}return U},c.apply(this,arguments)}function h(U){return R(U)||b(U)||v(U)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(U,K){if(U){if(typeof U=="string")return F(U,K);var X=Object.prototype.toString.call(U).slice(8,-1);return X==="Object"&&U.constructor&&(X=U.constructor.name),X==="Map"||X==="Set"?Array.from(U):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?F(U,K):void 0}}function b(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}function R(U){if(Array.isArray(U))return F(U)}function F(U,K){(K==null||K>U.length)&&(K=U.length);for(var X=0,Y=new Array(K);X<K;X++)Y[X]=U[X];return Y}function k(U){"@babel/helpers - typeof";return(k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(U)}Object.defineProperty(n,"__esModule",{value:!0}),r.d(n,"HighchartsReact",function(){return W});var O=r(1),V=r.n(O),_=typeof window<"u"?O.useLayoutEffect:O.useEffect,W=Object(O.memo)(Object(O.forwardRef)(function(U,K){var X=Object(O.useRef)(),Y=Object(O.useRef)(),de=Object(O.useRef)(U.constructorType),re=Object(O.useRef)(U.highcharts);return _(function(){function ie(){var Pe=U.highcharts||(typeof window>"u"?"undefined":k(window))==="object"&&window.Highcharts,me=U.constructorType||"chart";Pe?Pe[me]?U.options?Y.current=Pe[me](X.current,U.options,U.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(Y.current){if(U.allowChartUpdate!==!1)if(U.constructorType!==de.current||U.highcharts!==re.current)de.current=U.constructorType,re.current=U.highcharts,ie();else if(!U.immutable&&Y.current){var Fe;(Fe=Y.current).update.apply(Fe,[U.options].concat(h(U.updateArgs||[!0,!0])))}else ie()}else ie()},[U.options,U.allowChartUpdate,U.updateArgs,U.containerProps,U.highcharts,U.constructorType]),_(function(){return function(){Y.current&&(Y.current.destroy(),Y.current=null)}},[]),Object(O.useImperativeHandle)(K,function(){return{get chart(){return Y.current},container:X}},[]),V.a.createElement("div",c({},U.containerProps,{ref:X}))}));n.default=W},function(s,n){s.exports=i}])})})(fC)),fC.exports}var g6=h6();const p6=mp(g6),wx={page:1,totalPages:1,rows:[],loading:!1,error:null},mC=Zx("pieCharts/fetchPiePage",async({page:e},{signal:t})=>await lD()(e,t)),hD=JC({name:"pieCharts",initialState:wx,reducers:{setPiePage:(e,t)=>{e.page=t.payload},resetPie:()=>wx},extraReducers:e=>{e.addCase(mC.pending,t=>{t.loading=!0,t.error=null}),e.addCase(mC.fulfilled,(t,i)=>{t.loading=!1,t.rows=i.payload.data??[],t.totalPages=i.payload.info?.totalPages??1}),e.addCase(mC.rejected,(t,i)=>{t.loading=!1,t.error=i.error.message??"Error"})}}),{setPiePage:f6,resetPie:V6}=hD.actions,m6=e=>e.pieCharts.page,C6=e=>e.pieCharts.totalPages,v6=e=>e.pieCharts.rows,w6=e=>e.pieCharts.loading,y6=e=>e.pieCharts.error,b6=hD.reducer;function S6(e){return e.map(t=>{const i=Array.isArray(t.films)?t.films:[],s=i.length?`<ul class="hc-tip-list">${i.map(n=>`<li>${n}</li>`).join("")}</ul>`:'<div class="hc-tip-muted">No films</div>';return{name:t.name??"Unknown",y:i.length,custom:{filmsText:s}}})}function x6(e,t){return{chart:{type:"pie"},title:{text:`Films per Character — Page ${e}`},credits:{enabled:!1},tooltip:{useHTML:!0,className:"hc-tooltip-card",borderWidth:0,backgroundColor:"transparent",pointFormat:`
        <div class="hc-tip">
          <div class="hc-tip-header">
            <span class="hc-tip-name">{point.name}</span>
            <span class="hc-tip-badge">{point.y}</span>
          </div>
          <div class="hc-tip-meter">
            <div class="hc-tip-meter-fill" style="width:{point.percentage:.1f}%"></div>
          </div>
          <div class="hc-tip-meta">{point.percentage:.1f}% of page</div>
          <div class="hc-tip-subtitle">Films</div>
          {point.custom.filmsText}
        </div>
      `},plotOptions:{pie:{dataLabels:{enabled:!0,format:"{point.name}: {point.y}"}}},series:[{type:"pie",name:"Film count",data:t}]}}function R6(e){return Array.from({length:e},(t,i)=>i+1)}const E6=({value:e,totalPages:t,count:i,nameQ:s,disabled:n=!1,onChange:r})=>{const c=G.useMemo(()=>R6(t),[t]);return Se.jsxs("div",{className:"flex items-center gap-2",children:[Se.jsx("label",{className:"text-sm",children:"Page"}),Se.jsx("select",{className:"rounded-md border px-2 py-1.5 text-sm","data-testid":"page-selector",value:e,onChange:h=>r(Number(h.target.value)),disabled:n||t<=1,children:c.map(h=>Se.jsx("option",{value:h,"data-testid":`page-opt-${h}`,children:h},h))}),Se.jsxs("span",{className:"text-xs text-slate-600",children:["/ ",t," • ",i," characters",s&&Se.jsxs(Se.Fragment,{children:[" • name: “",s,"”"]})]})]})},M6="modulepreload",D6=function(e){return"/disney-characters-app/"+e},yx={},T6=function(t,i,s){let n=Promise.resolve();if(i&&i.length>0){let v=function(b){return Promise.all(b.map(R=>Promise.resolve(R).then(F=>({status:"fulfilled",value:F}),F=>({status:"rejected",reason:F}))))};var c=v;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");n=v(i.map(b=>{if(b=D6(b),b in yx)return;yx[b]=!0;const R=b.endsWith(".css"),F=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${F}`))return;const k=document.createElement("link");if(k.rel=R?"stylesheet":M6,R||(k.as="script"),k.crossOrigin="",k.href=b,p&&k.setAttribute("nonce",p),document.head.appendChild(k),R)return new Promise((O,V)=>{k.addEventListener("load",O),k.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${b}`)))})}))}function r(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return n.then(h=>{for(const p of h||[])p.status==="rejected"&&r(p.reason);return t().catch(r)})};async function F6(e,t,i){const s=await T6(()=>import("./xlsx-DGuHH-KN.js"),[]),n=t.map(p=>({Character:String(p.name??""),Films:Number(p.y??0),"Film list":P6(p.custom?.filmsText??"")})),r=s.utils.json_to_sheet(n),c=s.utils.book_new();s.utils.book_append_sheet(c,r,`Page_${e}`),s.writeFile(c,`films-per-character-page-${e}.xlsx`)}function P6(e){return e.replace(/^<ul[^>]*>/i,"").replace(/<\/ul>$/i,"").replace(/<li>/gi,"").replace(/<\/li>/gi,"").replace(/<div[^>]*>|<\/div>/gi,"").trim()}const A6=()=>{const e=Lc(),t=Oi(m6),i=Oi(C6),s=Oi(v6),n=Oi(w6),r=Oi(y6);G.useEffect(()=>{e(mC({page:t}))},[e,t]);const c=G.useMemo(()=>S6(s),[s]),h=G.useMemo(()=>x6(t,c),[t,c]);return Se.jsxs("div",{className:"space-y-4",children:[Se.jsxs("div",{className:"w-full flex justify-between border-b-2 border-blue-500 p-5",children:[Se.jsx(E6,{value:t,totalPages:i,count:s.length,disabled:n,onChange:p=>e(f6(p))}),Se.jsx("button",{className:"rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50 disabled:opacity-60","data-testid":"export-slsx-btn",onClick:()=>F6(t,c),disabled:n||!c.length,children:"Export XLSX"})]}),n&&Se.jsx("div",{className:"text-sm text-slate-600",children:"Loading…"}),r&&Se.jsx("div",{className:"text-sm text-red-600",children:r}),!n&&!r&&Se.jsx("div",{"data-testid":"pie-chart",children:Se.jsx(p6,{highcharts:u6,options:h})})]})},k6=()=>{const[e,t]=G.useState(!1),i=Bx(dD);return Se.jsxs("div",{className:"min-h-screen bg-gray-300",children:[Se.jsxs("div",{className:"sticky top-0 z-30 border-b-2 border-blue-500 bg-white/80 backdrop-blur",children:[Se.jsx("div",{className:"flex items-center gap-3 px-4 py-3 md:hidden",children:Se.jsx("button",{onClick:()=>t(!0),className:"inline-flex items-center rounded-lg border px-3 py-2 text-sm","aria-label":"Open sidebar",children:"☰"})}),Se.jsx("div",{className:"hidden md:block",children:Se.jsx("div",{className:"mx-auto",children:Se.jsx(_S,{device:"desktop"})})})]}),Se.jsxs("div",{className:"mx-auto grid min-h-[calc(100vh-56px)] grid-cols-1 md:grid-cols-[260px_minmax(0,1fr)]",children:[Se.jsx(r6,{open:e,onClose:()=>t(!1)}),Se.jsxs("main",{className:"p-4 md:p-6 bg-gray-200",children:[Se.jsx("div",{className:"md:hidden mb-4",children:Se.jsx(_S,{device:"mobile"})}),Se.jsxs("section",{className:"w-[80%] max-md:w-full min-h-[50%] mx-auto flex flex-col justify-center rounded-xl shadow-2xl bg-white",children:[Se.jsxs("h2",{className:"m-5 text-lg font-semibold",children:[i==="DATA_TABLE"&&"Characters",i==="PIE_CHARTS"&&"Pie Charts"]}),i==="DATA_TABLE"&&Se.jsx(e6,{}),i==="PIE_CHARTS"&&Se.jsx(A6,{})]})]})]})]})};function L6(){const e=Oi(t=>t.auth.isLoggedIn);return Se.jsx(qC,{to:e?"/dashboard":"/login",replace:!0})}function O6({children:e}){return Oi(i=>i.auth.isLoggedIn)?e:Se.jsx(qC,{to:"/login",replace:!0})}function I6({children:e}){return Oi(i=>i.auth.isLoggedIn)?Se.jsx(qC,{to:"/dashboard",replace:!0}):e}const H6=()=>Se.jsx(sF,{children:Se.jsxs(OT,{children:[Se.jsx(zg,{path:"/",element:Se.jsx(L6,{})}),Se.jsx(zg,{path:"/login",element:Se.jsx(I6,{children:Se.jsx(NP,{})})}),Se.jsx(zg,{path:"/dashboard",element:Se.jsx(O6,{children:Se.jsx(k6,{})})}),Se.jsx(zg,{path:"*",element:Se.jsx(qC,{to:"/",replace:!0})})]})}),N6=aP({reducer:{auth:AP,view:n6,charactersTable:Z5,pieCharts:b6}});UD.createRoot(document.getElementById("root")).render(Se.jsx(ke.StrictMode,{children:Se.jsx(PF,{store:N6,children:Se.jsx(H6,{})})}));
